{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.svelte.css?ad5b","webpack:///./src/App.svelte.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/svelte/internal/index.mjs","webpack:///./node_modules/emoji-picker-element/database.js","webpack:///./node_modules/emoji-picker-element/svelte.js","webpack:///./src/App.svelte","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","content","options","transform","undefined","locals","___CSS_LOADER_API_IMPORT___","push","useSourceMap","list","toString","this","map","item","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","length","fn","memo","stylesInDom","isOldIE","window","document","all","atob","apply","arguments","getTarget","target","parent","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","id","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","noop","run","blank_object","run_all","fns","is_function","thing","safe_not_equal","a","b","action_destroyer","action_result","destroy","Set","append","node","insert","anchor","detach","listen","event","handler","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","set_data","text","wholeText","set_input_value","input","set_style","important","setProperty","current_component","set_current_component","component","get_current_component","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","flushing","seen_callbacks","$$","pop","callback","has","add","clear","fragment","before_update","dirty","ctx","after_update","outroing","transition_in","block","local","delete","globals","globalThis","global","destroy_block","lookup","update_keyed_each","old_blocks","get_key","dynamic","create_each_block","next","get_context","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","set","Math","abs","will_move","did_move","first","new_block","old_block","new_key","old_key","SvelteElement","destroy_component","detaching","on_destroy","init","instance","create_fragment","not_equal","props","parent_component","prop_values","bound","on_mount","context","callbacks","ready","ret","rest","fill","make_dirty","hydrate","nodes","element","Array","from","intro","new_on_destroy","mount_component","HTMLElement","super","attachShadow","slotted","_oldValue","newValue","$destroy","SvelteComponent","assertNonEmptyString","str","assertNumber","number","KEY_ETAG","KEY_URL","uniqEmoji","emojis","arr","func","res","uniqBy","_","unicode","migrations","version","migration","db","tx","done","createObjectStore","keyPath","indexes","store","indexName","multiEntry","entries","createIndex","openReqs","databaseCache","onCloseListeners","handleOpenOrDeleteReq","reject","req","onerror","error","onblocked","onsuccess","openDatabase","dbName","async","indexedDB","open","onupgradeneeded","currentTarget","transaction","migrationsToDo","oldVersion","doNextMigration","shift","onclose","closeDatabase","createDatabase","dbPromise","storeName","readOnlyOrReadWrite","cb","objectStore","oncomplete","close","listeners","listener","irregularEmoticons","extractTokens","split","word","match","toLowerCase","callStore","method","getIDB","getAllIDB","findCommonMembers","arrays","uniqByFunc","shortestArray","array","minItem","minBy","results","some","findIndex","loadData","emojiBaseData","url","eTag","transformedData","annotation","emoticon","group","order","shortcodes","skins","tags","emoji","tokens","flat","sort","skinTones","skinUnicodes","skinVersions","tone","transformEmojiBaseData","emojiStore","metaStore","oldETag","oldUrl","oldKeys","todo","checkFetched","put","onFetched","getEmojiBySearchQuery","query","intermediateResults","onDone","token","range","IDBKeyRange","only","requiredKeys","customEmojiIndex","customEmojis","isArray","firstItemIsFaulty","assertCustomEmojis","sortByName","searchTrie","itemToTokens","currentMap","char","charAt","nextMap","valuesAtCoda","exact","queue","entriesSortedByKey","trie","shortcode","searchByExactMatch","searchByPrefix","shortcodeToEmoji","nameToEmoji","customEmoji","search","byShortcode","byName","cleanEmoji","len","warnETag","console","warn","requiredKeys$1","assertStatus","response","dataSource","floor","status","getETagAndData","fetch","headers","json","assertEmojiBaseData","jsonChecksum","inBuffer","binary","buf","ArrayBuffer","Uint8Array","charCodeAt","binaryStringToArrayBuffer","outBinString","buffer","bytes","byteLength","String","fromCharCode","arrayBufferToBinaryString","crypto","subtle","digest","checkForUpdates","getETag","eTagAndData","hasData","locale","_dbName","_db","_lazyUpdate","_custom","_clear","_ready","_init","addOnCloseListener","isEmpty","loadDataForFirstTime","getEmojiByGroup","custom","includes","getEmojiByShortcode","unicodeOrName","getEmojiByUnicode","skinTone","limit","favoritesStore","openCursor","cursor","addResult","continue","primaryKey","getTopFavoriteEmoji","err","_shutdown","deleteDatabase","enI18n","categoriesLabel","emojiUnsupportedMessage","favoritesLabel","loadingMessage","networkErrorMessage","regionLabel","searchDescription","searchLabel","searchResultsLabel","skinToneDescription","skinToneLabel","skinTonesLabel","categories","activities","objects","symbols","flags","allGroups","groups","slice","customGroup","rIC","requestIdleCallback","setTimeout","hasZwj","versionsAndTestEmoji","DEFAULT_SKIN_TONE_EMOJI","MOST_COMMONLY_USED_EMOJI","FONT_FAMILY","getTextFeature","color","canvas","width","height","getContext","textBaseline","font","fillStyle","scale","fillText","getImageData","testColorEmojiSupported","feature1","feature2","feature1Str","compareFeatures","emojiSupportLevelPromise","determineEmojiSupportLevel","supportedZwjEmojis","halt","preventDefault","stopPropagation","incrementOrDecrement","decrement","val","rAF","requestAnimationFrame","resizeObserverSupported","ResizeObserver","calculateWidth","onUpdate","resizeObserver","contentRect","observe","getBoundingClientRect","disconnect","calculateTextWidth","createRange","selectNode","baselineEmojiWidth","Map_1","get_each_context","get_each_context_2","get_each_context_1","get_each_context_3","get_each_context_4","create_each_block_4","key_1","div","div_id_value","div_class_value","div_aria_selected_value","div_title_value","div_aria_label_value","t_value","create_each_block_3","button","button_aria_controls_value","button_aria_label_value","button_aria_selected_value","button_title_value","dispose","click_handler","args","remount","new_ctx","create_else_block_1","create_if_block_1","unicodeWithSkin","create_each_block_2","button_role_value","button_class_value","button_id_value","select_block_type","current_block_type","if_block","title","create_each_block_1","div0","div0_id_value","div0_class_value","div1","div1_role_value","div1_aria_labelledby_value","div1_id_value","calculateEmojiGridWidth_action","category","each_blocks","each_1_lookup","each_value_2","create_else_block","img","img_src_value","src","create_if_block","select_block_type_1","section","div4","input_placeholder_value","input_aria_expanded_value","input_aria_activedescendant_value","label","t0","span0","t1","div2","button0","t2","button0_class_value","div2_class_value","span1","t3","div3","div3_class_value","div3_style_value","div3_aria_label_value","div3_aria_activedescendant_value","div3_aria_hidden_value","div5","div5_aria_label_value","div7","div6","calculateIndicatorWidth_action","div8","t4","div8_class_value","div9","div9_class_value","div9_role_value","div9_aria_label_value","div9_id_value","div10","div10_class_value","div10_aria_label_value","div11","button1","section_aria_label_value","t0_value","t1_value","t3_value","each_blocks_3","each0_lookup","each_blocks_2","each1_lookup","each_blocks_1","each2_lookup","each3_lookup","each_value_4","each_value_3","get_key_1","each_value_1","get_key_2","each_value","get_key_3","textContent","currentSkinTone","$$self","$$props","$$invalidate","rootElement","baselineEmoji","tabpanelElement","message","skinToneDropdown","skinToneButtonText","pickerStyle","defaultFavoriteEmojis","currentGroup","activeSearchItemId","skinToneEmoji","i18n","database","currentEmojis","currentEmojisWithCategories","rawSearchText","searchText","searchMode","activeSearchItem","computedIndicatorWidth","indicatorStyle","skinTonePickerExpanded","skinTonePickerExpandedAfterAnimation","activeSkinTone","skinToneButtonLabel","currentFavorites","numColumns","scrollbarWidth","currentGroupIndex","groups$1","loaded","focus","getRootNode","getElementById","fireEvent","detail","dispatchEvent","CustomEvent","bubbles","composed","checkZwjSupportAndUpdate","zwjEmojisToCheck","rootNode","emojiToDomNode","emojiWidth","supported","toFixed","checkZwjSupport","isZwjSupported","filterEmojisByVersion","emojiSupportLevel","summarizeEmojis","toSimpleSkinsMap","skin","summarizeEmojisForUI","getEmojisByGroup","getEmojisBySearchQuery","onNavClick","clickEmoji","getEmojiByUnicodeOrName","emojiSummary","find","skinTonedUnicode","incrementFavoriteEmojiCount","onSkinToneOptionsClick","classList","contains","parseInt","setPreferredSkinTone","level","onDestroy","$set","timeoutHandle","clearTimeout","handleDatabaseLoading","updateEmojis","getPreferredSkinTone","updatePreferredSkinTone","zwjIndex","substring","fromCodePoint","endsWith","applySkinTone","updateDefaultFavoriteEmojis","dbFavorites","favorites","updateFavorites","scrollTop","categoriesToEmoji","calculateCurrentEmojisWithCategories","once","newNumColumns","getComputedStyle","getPropertyValue","newScrollbarWidth","parentElement","goToNextOrPrevious","previous","doFocus","previousSibling","relatedTarget","$$value","shadowRoot","innerHTML","Picker$1","customElements","define","myFunction","copyText","select","setSelectionRange","execCommand","picker","pickemojis","pickemoji","body","Neutralino","load","app","App","pingSuccessCallback","pingFailCallback","exit"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,kBCjFrD,IAAIC,EAAU,EAAQ,GAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAACjC,EAAOC,EAAIgC,EAAS,MAOhE,IAAIC,EAAU,CAAC,KAAM,EAErB,eAPIC,EAQJ,gBAAqBC,GAER,EAAQ,EAAR,CAA0DH,EAASC,GAE7ED,EAAQI,SAAQrC,EAAOD,QAAUkC,EAAQI,S,iBCf5CtC,EADkC,EAAQ,EAChCuC,EAA4B,IAE9BC,KAAK,CAACvC,EAAOC,EAAI,uOAAwO,KAEjQD,EAAOD,QAAUA,G,6BCEjBC,EAAOD,QAAU,SAAUyC,GACzB,IAAIC,EAAO,GAqCX,OAnCAA,EAAKC,SAAW,WACd,OAAOC,KAAKC,KAAI,SAAUC,GACxB,IAAIZ,EAoCV,SAAgCY,EAAML,GACpC,IAAIP,EAAUY,EAAK,IAAM,GAErBC,EAAaD,EAAK,GAEtB,IAAKC,EACH,OAAOb,EAGT,GAAIO,GAAgC,mBAATO,KAAqB,CAC9C,IAAIC,GAWWC,EAXeH,EAa5BI,EAASH,KAAKI,SAASC,mBAAmBC,KAAKC,UAAUL,MACzDM,EAAO,+DAA+DC,OAAON,GAC1E,OAAOM,OAAOD,EAAM,QAdrBE,EAAaX,EAAWY,QAAQd,KAAI,SAAUe,GAChD,MAAO,iBAAiBH,OAAOV,EAAWc,YAAYJ,OAAOG,EAAQ,UAEvE,MAAO,CAAC1B,GAASuB,OAAOC,GAAYD,OAAO,CAACR,IAAgBa,KAAK,MAOrE,IAAmBZ,EAEbC,EACAK,EAPJ,MAAO,CAACtB,GAAS4B,KAAK,MArDJC,CAAuBjB,EAAML,GAE3C,OAAIK,EAAK,GACA,UAAUW,OAAOX,EAAK,GAAI,MAAMW,OAAOvB,EAAS,KAGlDA,KACN4B,KAAK,KAKVpB,EAAKxC,EAAI,SAAUE,EAAS4D,GACH,iBAAZ5D,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAG7B,IAAK,IAAIF,EAAI,EAAGA,EAAIE,EAAQ6D,OAAQ/D,IAAK,CACvC,IAAI4C,EAAO,GAAGW,OAAOrD,EAAQF,IAEzB8D,IACGlB,EAAK,GAGRA,EAAK,GAAK,GAAGW,OAAOO,EAAY,SAASP,OAAOX,EAAK,IAFrDA,EAAK,GAAKkB,GAMdtB,EAAKF,KAAKM,KAIPJ,I,gBCzCT,IAEwBwB,EACnBC,EAHDC,EAAc,GAWdC,GAToBH,EASF,WAMrB,OAAOI,QAAUC,UAAYA,SAASC,MAAQF,OAAOG,MAZ9C,WAEN,YADoB,IAATN,IAAsBA,EAAOD,EAAGQ,MAAM9B,KAAM+B,YAChDR,IAaLS,EAAY,SAAUC,EAAQC,GAChC,OAAIA,EACKA,EAAOC,cAAcF,GAEvBN,SAASQ,cAAcF,IAG5BG,EAAa,SAAWd,GAC3B,IAAIC,EAAO,GAEX,OAAO,SAASU,EAAQC,GAMT,GAAsB,mBAAXD,EACH,OAAOA,IAEf,QAA4B,IAAjBV,EAAKU,GAAyB,CACtD,IAAII,EAAcL,EAAUvE,KAAKuC,KAAMiC,EAAQC,GAE/C,GAAIR,OAAOY,mBAAqBD,aAAuBX,OAAOY,kBAC7D,IAGCD,EAAcA,EAAYE,gBAAgBC,KACzC,MAAMC,GACPJ,EAAc,KAGhBd,EAAKU,GAAUI,EAEhB,OAAOd,EAAKU,IA1BG,GA8BbS,EAAY,KACZC,EAAmB,EACnBC,EAAsB,GAEtBC,EAAU,EAAQ,GAqDtB,SAASC,EAAgBC,EAAQxD,GAChC,IAAK,IAAIjC,EAAI,EAAGA,EAAIyF,EAAO1B,OAAQ/D,IAAK,CACvC,IAAI4C,EAAO6C,EAAOzF,GACd0F,EAAWxB,EAAYtB,EAAK+C,IAEhC,GAAGD,EAAU,CACZA,EAASE,OAET,IAAI,IAAIC,EAAI,EAAGA,EAAIH,EAASI,MAAM/B,OAAQ8B,IACzCH,EAASI,MAAMD,GAAGjD,EAAKkD,MAAMD,IAG9B,KAAMA,EAAIjD,EAAKkD,MAAM/B,OAAQ8B,IAC5BH,EAASI,MAAMxD,KAAKyD,EAASnD,EAAKkD,MAAMD,GAAI5D,QAEvC,CACN,IAAI6D,EAAQ,GAEZ,IAAQD,EAAI,EAAGA,EAAIjD,EAAKkD,MAAM/B,OAAQ8B,IACrCC,EAAMxD,KAAKyD,EAASnD,EAAKkD,MAAMD,GAAI5D,IAGpCiC,EAAYtB,EAAK+C,IAAM,CAACA,GAAI/C,EAAK+C,GAAIC,KAAM,EAAGE,MAAOA,KAKxD,SAASE,EAAcxD,EAAMP,GAI5B,IAHA,IAAIwD,EAAS,GACTQ,EAAY,GAEPjG,EAAI,EAAGA,EAAIwC,EAAKuB,OAAQ/D,IAAK,CACrC,IAAI4C,EAAOJ,EAAKxC,GACZ2F,EAAK1D,EAAQiE,KAAOtD,EAAK,GAAKX,EAAQiE,KAAOtD,EAAK,GAIlDuD,EAAO,CAACC,IAHFxD,EAAK,GAGOyD,MAFVzD,EAAK,GAEmBI,UADpBJ,EAAK,IAGjBqD,EAAUN,GACTM,EAAUN,GAAIG,MAAMxD,KAAK6D,GADXV,EAAOnD,KAAK2D,EAAUN,GAAM,CAACA,GAAIA,EAAIG,MAAO,CAACK,KAIjE,OAAOV,EAGR,SAASa,EAAoBrE,EAASsE,GACrC,IAAI5B,EAASG,EAAW7C,EAAQuE,YAEhC,IAAK7B,EACJ,MAAM,IAAI8B,MAAM,+GAGjB,IAAIC,EAAgCpB,EAAoBA,EAAoBvB,OAAS,GAErF,GAAyB,QAArB9B,EAAQ0E,SACND,EAEMA,EAA8BE,YACxCjC,EAAOkC,aAAaN,EAAOG,EAA8BE,aAEzDjC,EAAOmC,YAAYP,GAJnB5B,EAAOkC,aAAaN,EAAO5B,EAAOoC,YAMnCzB,EAAoBhD,KAAKiE,QACnB,GAAyB,WAArBtE,EAAQ0E,SAClBhC,EAAOmC,YAAYP,OACb,IAAgC,iBAArBtE,EAAQ0E,WAAyB1E,EAAQ0E,SAASK,OAInE,MAAM,IAAIP,MAAM,8LAHhB,IAAIG,EAAc9B,EAAW7C,EAAQ0E,SAASK,OAAQrC,GACtDA,EAAOkC,aAAaN,EAAOK,IAM7B,SAASK,EAAoBV,GAC5B,GAAyB,OAArBA,EAAMW,WAAqB,OAAO,EACtCX,EAAMW,WAAWC,YAAYZ,GAE7B,IAAIa,EAAM9B,EAAoB+B,QAAQd,GACnCa,GAAO,GACT9B,EAAoBgC,OAAOF,EAAK,GAIlC,SAASG,EAAoBtF,GAC5B,IAAIsE,EAAQlC,SAASmD,cAAc,SAMnC,QAJ0BrF,IAAvBF,EAAQwF,MAAMC,OAChBzF,EAAQwF,MAAMC,KAAO,iBAGKvF,IAAxBF,EAAQwF,MAAME,MAAqB,CACrC,IAAIA,EAgCN,WACK,EAIJ,OAAO,KArCMC,GACRD,IACH1F,EAAQwF,MAAME,MAAQA,GAOxB,OAHAE,EAAStB,EAAOtE,EAAQwF,OACxBnB,EAAmBrE,EAASsE,GAErBA,EAiBR,SAASsB,EAAUC,EAAIL,GACtB/G,OAAOqH,KAAKN,GAAOO,SAAQ,SAAUzG,GACpCuG,EAAGG,aAAa1G,EAAKkG,EAAMlG,OAY7B,SAASwE,EAAUmC,EAAKjG,GACvB,IAAIsE,EAAO4B,EAAQC,EAAQC,EAG3B,GAAIpG,EAAQC,WAAagG,EAAI9B,IAAK,CAK9B,KAJAiC,EAAsC,mBAAtBpG,EAAQC,UACxBD,EAAQC,UAAUgG,EAAI9B,KACtBnE,EAAQC,UAAUoG,QAAQJ,EAAI9B,MAS7B,OAAO,aAJP8B,EAAI9B,IAAMiC,EAUf,GAAIpG,EAAQmD,UAAW,CACtB,IAAImD,EAAalD,IAEjBkB,EAAQnB,IAAcA,EAAYmC,EAAmBtF,IAErDkG,EAASK,EAAoBhH,KAAK,KAAM+E,EAAOgC,GAAY,GAC3DH,EAASI,EAAoBhH,KAAK,KAAM+E,EAAOgC,GAAY,QAG3DL,EAAIlF,WACW,mBAARyF,KACwB,mBAAxBA,IAAIC,iBACoB,mBAAxBD,IAAIE,iBACK,mBAATC,MACS,mBAAT9F,MAEPyD,EAlEF,SAA4BtE,GAC3B,IAAI4G,EAAOxE,SAASmD,cAAc,QAUlC,YAR0BrF,IAAvBF,EAAQwF,MAAMC,OAChBzF,EAAQwF,MAAMC,KAAO,YAEtBzF,EAAQwF,MAAMqB,IAAM,aAEpBjB,EAASgB,EAAM5G,EAAQwF,OACvBnB,EAAmBrE,EAAS4G,GAErBA,EAuDEE,CAAkB9G,GAC1BkG,EAASa,EAAWxH,KAAK,KAAM+E,EAAOtE,GACtCmG,EAAS,WACRnB,EAAmBV,GAEhBA,EAAM0C,MAAMR,IAAIE,gBAAgBpC,EAAM0C,SAG1C1C,EAAQgB,EAAmBtF,GAC3BkG,EAASe,EAAW1H,KAAK,KAAM+E,GAC/B6B,EAAS,WACRnB,EAAmBV,KAMrB,OAFA4B,EAAOD,GAEA,SAAsBiB,GAC5B,GAAIA,EAAQ,CACX,GACCA,EAAO/C,MAAQ8B,EAAI9B,KACnB+C,EAAO9C,QAAU6B,EAAI7B,OACrB8C,EAAOnG,YAAckF,EAAIlF,UAEzB,OAGDmF,EAAOD,EAAMiB,QAEbf,KA1PHrI,EAAOD,QAAU,SAAS0C,EAAMP,GAC/B,GAAqB,oBAAVmH,OAAyBA,OACX,iBAAb/E,SAAuB,MAAM,IAAIoC,MAAM,iEAGnDxE,EAAUA,GAAW,IAEbwF,MAAiC,iBAAlBxF,EAAQwF,MAAqBxF,EAAQwF,MAAQ,GAI/DxF,EAAQmD,WAA0C,kBAAtBnD,EAAQmD,YAAyBnD,EAAQmD,UAAYjB,KAG1ElC,EAAQuE,aAAYvE,EAAQuE,WAAa,QAGhDvE,EAAQ0E,WAAU1E,EAAQ0E,SAAW,UAE1C,IAAIlB,EAASO,EAAaxD,EAAMP,GAIhC,OAFAuD,EAAeC,EAAQxD,GAEhB,SAAiBoH,GAGvB,IAFA,IAAIC,EAAY,GAEPtJ,EAAI,EAAGA,EAAIyF,EAAO1B,OAAQ/D,IAAK,CACvC,IAAI4C,EAAO6C,EAAOzF,IACd0F,EAAWxB,EAAYtB,EAAK+C,KAEvBC,OACT0D,EAAUhH,KAAKoD,GAGb2D,GAEF7D,EADgBQ,EAAaqD,EAASpH,GACZA,GAG3B,IAASjC,EAAI,EAAGA,EAAIsJ,EAAUvF,OAAQ/D,IAAK,CAC1C,IAAI0F,EAEJ,GAAqB,KAFjBA,EAAW4D,EAAUtJ,IAEb4F,KAAY,CACvB,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAASI,MAAM/B,OAAQ8B,IAAKH,EAASI,MAAMD,YAExD3B,EAAYwB,EAASC,QAkNhC,IACK4D,EADDC,GACCD,EAAY,GAET,SAAUE,EAAOC,GAGvB,OAFAH,EAAUE,GAASC,EAEZH,EAAUI,OAAOC,SAAShG,KAAK,QAIxC,SAAS4E,EAAqBjC,EAAOkD,EAAOrB,EAAQF,GACnD,IAAI9B,EAAMgC,EAAS,GAAKF,EAAI9B,IAE5B,GAAIG,EAAMsD,WACTtD,EAAMsD,WAAWC,QAAUN,EAAYC,EAAOrD,OACxC,CACN,IAAI2D,EAAU1F,SAAS2F,eAAe5D,GAClC6D,EAAa1D,EAAM0D,WAEnBA,EAAWR,IAAQlD,EAAMY,YAAY8C,EAAWR,IAEhDQ,EAAWlG,OACdwC,EAAMM,aAAakD,EAASE,EAAWR,IAEvClD,EAAMO,YAAYiD,IAKrB,SAASb,EAAY3C,EAAO2B,GAC3B,IAAI9B,EAAM8B,EAAI9B,IACVC,EAAQ6B,EAAI7B,MAMhB,GAJGA,GACFE,EAAM0B,aAAa,QAAS5B,GAG1BE,EAAMsD,WACRtD,EAAMsD,WAAWC,QAAU1D,MACrB,CACN,KAAMG,EAAMQ,YACXR,EAAMY,YAAYZ,EAAMQ,YAGzBR,EAAMO,YAAYzC,SAAS2F,eAAe5D,KAI5C,SAAS4C,EAAYH,EAAM5G,EAASiG,GACnC,IAAI9B,EAAM8B,EAAI9B,IACVpD,EAAYkF,EAAIlF,UAQhBkH,OAAgD/H,IAAlCF,EAAQkI,uBAAuCnH,GAE7Df,EAAQkI,uBAAyBD,KACpC9D,EAAMb,EAAQa,IAGXpD,IAEHoD,GAAO,uDAAyDtD,KAAKI,SAASC,mBAAmBC,KAAKC,UAAUL,MAAgB,OAGjI,IAAIoH,EAAO,IAAIxB,KAAK,CAACxC,GAAM,CAAEsB,KAAM,aAE/B2C,EAASxB,EAAKI,KAElBJ,EAAKI,KAAOR,IAAIC,gBAAgB0B,GAE7BC,GAAQ5B,IAAIE,gBAAgB0B,K,cChYhCtK,EAAOD,QAAU,SAAUsG,GAEzB,IAAIkE,EAA6B,oBAAXlG,QAA0BA,OAAOkG,SAEvD,IAAKA,EACH,MAAM,IAAI7D,MAAM,oCAInB,IAAKL,GAAsB,iBAARA,EACjB,OAAOA,EAGR,IAAImE,EAAUD,EAASE,SAAW,KAAOF,EAASG,KAC9CC,EAAaH,EAAUD,EAASK,SAASC,QAAQ,YAAa,KA2DnE,OA/BexE,EAAIwE,QAAQ,uDAAuD,SAASC,EAAWC,GAErG,IAWIC,EAXAC,EAAkBF,EACpBG,OACAL,QAAQ,YAAY,SAASnK,EAAGyK,GAAK,OAAOA,KAC5CN,QAAQ,YAAY,SAASnK,EAAGyK,GAAK,OAAOA,KAG9C,MAAI,oDAAoDC,KAAKH,GACpDH,GAQRE,EAFqC,IAAlCC,EAAgB3D,QAAQ,MAElB2D,EACkC,IAAjCA,EAAgB3D,QAAQ,KAEzBkD,EAAUS,EAGVN,EAAaM,EAAgBJ,QAAQ,QAAS,IAIjD,OAASxH,KAAKC,UAAU0H,GAAU,U,6BCnF3C,SAASK,K,OAgBT,SAASC,EAAIrH,GACT,OAAOA,IAEX,SAASsH,IACL,OAAO5K,OAAOY,OAAO,MAEzB,SAASiK,EAAQC,GACbA,EAAIxD,QAAQqD,GAEhB,SAASI,EAAYC,GACjB,MAAwB,mBAAVA,EAElB,SAASC,EAAeC,EAAGC,GACvB,OAAOD,GAAKA,EAAIC,GAAKA,EAAID,IAAMC,GAAOD,GAAkB,iBAANA,GAAgC,mBAANA,EA6FhF,SAASE,EAAiBC,GACtB,OAAOA,GAAiBN,EAAYM,EAAcC,SAAWD,EAAcC,QAAUZ,EAgB3E,IAAIa,IAmClB,SAASC,EAAOvH,EAAQwH,GACpBxH,EAAOmC,YAAYqF,GAEvB,SAASC,EAAOzH,EAAQwH,EAAME,GAC1B1H,EAAOkC,aAAasF,EAAME,GAAU,MAExC,SAASC,EAAOH,GACZA,EAAKjF,WAAWC,YAAYgF,GAQhC,SAAS,EAAQ5L,GACb,OAAO8D,SAASmD,cAAcjH,GAoBlC,SAAS,EAAK+C,GACV,OAAOe,SAAS2F,eAAe1G,GAQnC,SAASiJ,EAAOJ,EAAMK,EAAOC,EAASxK,GAElC,OADAkK,EAAKO,iBAAiBF,EAAOC,EAASxK,GAC/B,IAAMkK,EAAKQ,oBAAoBH,EAAOC,EAASxK,GAuB1D,SAAS2K,EAAKT,EAAMU,EAAW5L,GACd,MAATA,EACAkL,EAAKW,gBAAgBD,GAChBV,EAAKY,aAAaF,KAAe5L,GACtCkL,EAAKlE,aAAa4E,EAAW5L,GAgGrC,SAAS+L,EAASC,EAAM3J,GACpBA,EAAO,GAAKA,EACR2J,EAAKC,YAAc5J,IACnB2J,EAAK3J,KAAOA,GAEpB,SAAS6J,EAAgBC,EAAOnM,GAC5BmM,EAAMnM,MAAiB,MAATA,EAAgB,GAAKA,EAUvC,SAASoM,EAAUlB,EAAM5K,EAAKN,EAAOqM,GACjCnB,EAAK5F,MAAMgH,YAAYhM,EAAKN,EAAOqM,EAAY,YAAc,IAyH7C,IAAIrB,IACxB,IAiIIuB,EACJ,SAASC,EAAsBC,GAC3BF,EAAoBE,EAExB,SAASC,IACL,IAAKH,EACD,MAAM,IAAI/G,MAAM,oDACpB,OAAO+G,EA4CX,MAAMI,EAAmB,GAEnBC,EAAoB,GACpBC,EAAmB,GACnBC,EAAkB,GAClBC,EAAmBC,QAAQC,UACjC,IAAIC,GAAmB,EACvB,SAASC,IACAD,IACDA,GAAmB,EACnBH,EAAiBK,KAAKC,IAG9B,SAASC,IAEL,OADAH,IACOJ,EAEX,SAASQ,EAAoBxK,GACzB8J,EAAiBxL,KAAK0B,GAK1B,IAAIyK,GAAW,EACf,MAAMC,EAAiB,IAAIzC,IAC3B,SAASqC,IACL,IAAIG,EAAJ,CAEAA,GAAW,EACX,EAAG,CAGC,IAAK,IAAIzO,EAAI,EAAGA,EAAI4N,EAAiB7J,OAAQ/D,GAAK,EAAG,CACjD,MAAM0N,EAAYE,EAAiB5N,GACnCyN,EAAsBC,GACtBvF,EAAOuF,EAAUiB,IAGrB,IADAf,EAAiB7J,OAAS,EACnB8J,EAAkB9J,QACrB8J,EAAkBe,KAAlBf,GAIJ,IAAK,IAAI7N,EAAI,EAAGA,EAAI8N,EAAiB/J,OAAQ/D,GAAK,EAAG,CACjD,MAAM6O,EAAWf,EAAiB9N,GAC7B0O,EAAeI,IAAID,KAEpBH,EAAeK,IAAIF,GACnBA,KAGRf,EAAiB/J,OAAS,QACrB6J,EAAiB7J,QAC1B,KAAOgK,EAAgBhK,QACnBgK,EAAgBa,KAAhBb,GAEJI,GAAmB,EACnBM,GAAW,EACXC,EAAeM,SAEnB,SAAS7G,EAAOwG,GACZ,GAAoB,OAAhBA,EAAGM,SAAmB,CACtBN,EAAGxG,SACHoD,EAAQoD,EAAGO,eACX,MAAMC,EAAQR,EAAGQ,MACjBR,EAAGQ,MAAQ,EAAE,GACbR,EAAGM,UAAYN,EAAGM,SAASnN,EAAE6M,EAAGS,IAAKD,GACrCR,EAAGU,aAAarH,QAAQwG,IAiBhC,MAAMc,EAAW,IAAIrD,IAerB,SAASsD,EAAcC,EAAOC,GACtBD,GAASA,EAAMxP,IACfsP,EAASI,OAAOF,GAChBA,EAAMxP,EAAEyP,IAsThB,MAAME,EAA6B,oBAAXvL,OAClBA,OACsB,oBAAfwL,WACHA,WACAC,OAEV,SAASC,EAAcN,EAAOO,GAC1BP,EAAMlP,EAAE,GACRyP,EAAOL,OAAOF,EAAMjO,KAexB,SAASyO,EAAkBC,EAAYd,EAAOe,EAASC,EAASf,EAAK5M,EAAMuN,EAAQ5D,EAAMH,EAASoE,EAAmBC,EAAMC,GACvH,IAAI7P,EAAIwP,EAAWlM,OACftC,EAAIe,EAAKuB,OACT/D,EAAIS,EACR,MAAM8P,EAAc,GACpB,KAAOvQ,KACHuQ,EAAYN,EAAWjQ,GAAGuB,KAAOvB,EACrC,MAAMwQ,EAAa,GACbC,EAAa,IAAIC,IACjBC,EAAS,IAAID,IAEnB,IADA1Q,EAAIyB,EACGzB,KAAK,CACR,MAAM4Q,EAAYN,EAAYlB,EAAK5M,EAAMxC,GACnCuB,EAAM2O,EAAQU,GACpB,IAAIpB,EAAQO,EAAOlP,IAAIU,GAClBiO,EAIIW,GACLX,EAAM1N,EAAE8O,EAAWzB,IAJnBK,EAAQY,EAAkB7O,EAAKqP,GAC/BpB,EAAMnP,KAKVoQ,EAAWI,IAAItP,EAAKiP,EAAWxQ,GAAKwP,GAChCjO,KAAOgP,GACPI,EAAOE,IAAItP,EAAKuP,KAAKC,IAAI/Q,EAAIuQ,EAAYhP,KAEjD,MAAMyP,EAAY,IAAI/E,IAChBgF,EAAW,IAAIhF,IACrB,SAASG,EAAOoD,GACZD,EAAcC,EAAO,GACrBA,EAAMpP,EAAE+L,EAAMkE,GACdN,EAAOc,IAAIrB,EAAMjO,IAAKiO,GACtBa,EAAOb,EAAM0B,MACbzP,IAEJ,KAAOhB,GAAKgB,GAAG,CACX,MAAM0P,EAAYX,EAAW/O,EAAI,GAC3B2P,EAAYnB,EAAWxP,EAAI,GAC3B4Q,EAAUF,EAAU5P,IACpB+P,EAAUF,EAAU7P,IACtB4P,IAAcC,GAEdf,EAAOc,EAAUD,MACjBzQ,IACAgB,KAEMgP,EAAW3B,IAAIwC,IAKfvB,EAAOjB,IAAIuC,IAAYL,EAAUlC,IAAIuC,GAC3CjF,EAAO+E,GAEFF,EAASnC,IAAIwC,GAClB7Q,IAEKkQ,EAAO9P,IAAIwQ,GAAWV,EAAO9P,IAAIyQ,IACtCL,EAASlC,IAAIsC,GACbjF,EAAO+E,KAGPH,EAAUjC,IAAIuC,GACd7Q,MAfAuL,EAAQoF,EAAWrB,GACnBtP,KAiBR,KAAOA,KAAK,CACR,MAAM2Q,EAAYnB,EAAWxP,GACxBgQ,EAAW3B,IAAIsC,EAAU7P,MAC1ByK,EAAQoF,EAAWrB,GAE3B,KAAOtO,GACH2K,EAAOoE,EAAW/O,EAAI,IAC1B,OAAO+O,EAmDgB,IAAIvE,IAAI,CAC/B,kBACA,sBACA,QACA,YACA,WACA,UACA,WACA,UACA,QACA,WACA,iBACA,SACA,QACA,OACA,WACA,QACA,WACA,aACA,OACA,cACA,WACA,WACA,WACA,aAkEJ,IAyJIsF,EA7EJ,SAASC,EAAkB9D,EAAW+D,GAClC,MAAM9C,EAAKjB,EAAUiB,GACD,OAAhBA,EAAGM,WACH1D,EAAQoD,EAAG+C,YACX/C,EAAGM,UAAYN,EAAGM,SAAS3O,EAAEmR,GAG7B9C,EAAG+C,WAAa/C,EAAGM,SAAW,KAC9BN,EAAGS,IAAM,IAWjB,SAASuC,EAAKjE,EAAWzL,EAAS2P,EAAUC,EAAiBC,EAAWC,EAAO5C,EAAQ,EAAE,IACrF,MAAM6C,EAAmBxE,EACzBC,EAAsBC,GACtB,MAAMuE,EAAchQ,EAAQ8P,OAAS,GAC/BpD,EAAKjB,EAAUiB,GAAK,CACtBM,SAAU,KACVG,IAAK,KAEL2C,QACA5J,OAAQiD,EACR0G,YACAI,MAAO5G,IAEP6G,SAAU,GACVT,WAAY,GACZxC,cAAe,GACfG,aAAc,GACd+C,QAAS,IAAI1B,IAAIsB,EAAmBA,EAAiBrD,GAAGyD,QAAU,IAElEC,UAAW/G,IACX6D,SAEJ,IAAImD,GAAQ,EAkBZ,GAjBA3D,EAAGS,IAAMwC,EACHA,EAASlE,EAAWuE,EAAa,CAACjS,EAAGuS,KAAQC,KAC3C,MAAMvR,EAAQuR,EAAKzO,OAASyO,EAAK,GAAKD,EAOtC,OANI5D,EAAGS,KAAO0C,EAAUnD,EAAGS,IAAIpP,GAAI2O,EAAGS,IAAIpP,GAAKiB,KACvC0N,EAAGuD,MAAMlS,IACT2O,EAAGuD,MAAMlS,GAAGiB,GACZqR,GArCpB,SAAoB5E,EAAW1N,IACI,IAA3B0N,EAAUiB,GAAGQ,MAAM,KACnBvB,EAAiBtL,KAAKoL,GACtBU,IACAV,EAAUiB,GAAGQ,MAAMsD,KAAK,IAE5B/E,EAAUiB,GAAGQ,MAAOnP,EAAI,GAAM,IAAO,GAAMA,EAAI,GAgC/B0S,CAAWhF,EAAW1N,IAEvBuS,IAET,GACN5D,EAAGxG,SACHmK,GAAQ,EACR/G,EAAQoD,EAAGO,eAEXP,EAAGM,WAAW4C,GAAkBA,EAAgBlD,EAAGS,KAC/CnN,EAAQ0C,OAAQ,CAChB,GAAI1C,EAAQ0Q,QAAS,CACjB,MAAMC,GArnCAC,EAqnCiB5Q,EAAQ0C,OApnChCmO,MAAMC,KAAKF,EAAQ5I,aAsnClB0E,EAAGM,UAAYN,EAAGM,SAAShP,EAAE2S,GAC7BA,EAAM5K,QAAQsE,QAIdqC,EAAGM,UAAYN,EAAGM,SAAS5O,IAE3B4B,EAAQ+Q,OACRzD,EAAc7B,EAAUiB,GAAGM,UAzFvC,SAAyBvB,EAAW/I,EAAQ0H,GACxC,MAAM,SAAE4C,EAAQ,SAAEkD,EAAQ,WAAET,EAAU,aAAErC,GAAiB3B,EAAUiB,GACnEM,GAAYA,EAAS7O,EAAEuE,EAAQ0H,GAE/BmC,EAAoB,KAChB,MAAMyE,EAAiBd,EAASxP,IAAI0I,GAAK1B,OAAO8B,GAC5CiG,EACAA,EAAWpP,QAAQ2Q,GAKnB1H,EAAQ0H,GAEZvF,EAAUiB,GAAGwD,SAAW,KAE5B9C,EAAarH,QAAQwG,GA0EjB0E,CAAgBxF,EAAWzL,EAAQ0C,OAAQ1C,EAAQoK,QACnDiC,IAjoCR,IAAkBuE,EAmoCdpF,EAAsBuE,GAGC,mBAAhBmB,cACP5B,EAAgB,cAAc4B,YAC1B,cACIC,QACA1Q,KAAK2Q,aAAa,CAAElS,KAAM,SAE9B,oBAEI,IAAK,MAAMI,KAAOmB,KAAKiM,GAAG2E,QAEtB5Q,KAAKoE,YAAYpE,KAAKiM,GAAG2E,QAAQ/R,IAGzC,yBAAyBqL,EAAM2G,EAAWC,GACtC9Q,KAAKkK,GAAQ4G,EAEjB,WACIhC,EAAkB9O,KAAM,GACxBA,KAAK+Q,SAAWrI,EAEpB,IAAI1D,EAAMmH,GAEN,MAAMwD,EAAa3P,KAAKiM,GAAG0D,UAAU3K,KAAUhF,KAAKiM,GAAG0D,UAAU3K,GAAQ,IAEzE,OADA2K,EAAU/P,KAAKuM,GACR,KACH,MAAMpF,EAAQ4I,EAAUhL,QAAQwH,IACjB,IAAXpF,GACA4I,EAAU/K,OAAOmC,EAAO,IAGpC,WAKR,MAAMiK,EACF,WACIlC,EAAkB9O,KAAM,GACxBA,KAAK+Q,SAAWrI,EAEpB,IAAI1D,EAAMmH,GACN,MAAMwD,EAAa3P,KAAKiM,GAAG0D,UAAU3K,KAAUhF,KAAKiM,GAAG0D,UAAU3K,GAAQ,IAEzE,OADA2K,EAAU/P,KAAKuM,GACR,KACH,MAAMpF,EAAQ4I,EAAUhL,QAAQwH,IACjB,IAAXpF,GACA4I,EAAU/K,OAAOmC,EAAO,IAGpC,SC3+CJ,SAASkK,EAAsBC,GAC7B,GAAmB,iBAARA,IAAqBA,EAC9B,MAAM,IAAInN,MAAM,qCAAuCmN,GAI3D,SAASC,EAAcC,GACrB,GAAsB,iBAAXA,EACT,MAAM,IAAIrN,MAAM,2BAA6BqN,GAIjD,MAYMC,EAAW,OACXC,EAAU,MAwBhB,SAASC,EAAWC,GAClB,OAdF,SAAiBC,EAAKC,GACpB,MAAMvD,EAAM,IAAI5E,IACVoI,EAAM,GACZ,IAAK,MAAMzR,KAAQuR,EAAK,CACtB,MAAM5S,EAAM6S,EAAKxR,GACZiO,EAAI/B,IAAIvN,KACXsP,EAAI9B,IAAIxN,GACR8S,EAAI/R,KAAKM,IAGb,OAAOyR,EAIAC,CAAOJ,EAAQK,GAAKA,EAAEC,SA4B/B,MAAMC,EAAa,CACjB,CACEC,QAnEuB,EAoEvBC,UA5BJ,SAA2BC,EAAIC,EAAIC,GACjC,SAASC,EAAmBxU,EAAMyU,EAASC,GACzC,MAAMC,EAAQF,EACVJ,EAAGG,kBAAkBxU,EAAM,CAAEyU,YAC7BJ,EAAGG,kBAAkBxU,GACzB,GAAI0U,EACF,IAAK,MAAOE,GAAYH,EAASI,MAAgB1U,OAAO2U,QAAQJ,GAC9DC,EAAMI,YAAYH,EAAWH,EAAS,CAAEI,eAG5C,OAAOF,EAGTH,EAnDqB,YAoDrBA,EArDkB,QAKE,UAgDwC,CAC1D,OAAgB,CAnDC,UAmD+B,GAChD,cAAyB,CAAC,CAhDV,QACA,UAgDhB,aAAsB,CAxCC,gBAwCqC,KAE9DA,EAxDsB,iBAwDa5S,EAAW,CAC5C,MAAe,CAAC,MAElB2S,OAUIS,EAAW,GACXC,EAAgB,GAChBC,EAAmB,GAEzB,SAASC,GAAuBxH,EAASyH,EAAQC,GAC/CA,EAAIC,QAAU,IAAMF,EAAOC,EAAIE,OAC/BF,EAAIG,UAAY,IAAMJ,EAAO,IAAIlP,MAAM,gBACvCmP,EAAII,UAAY,IAAM9H,EAAQ0H,EAAIvN,QA+BpC,SAAS4N,GAAcC,GAIrB,OAHKV,EAAcU,KACjBV,EAAcU,GA9BlBC,eAA+BD,GAC7B,MAAMtB,QAAW,IAAI3G,QAAQ,CAACC,EAASyH,KACrC,MAAMC,EAAMQ,UAAUC,KAAKH,EArFJ,GAsFvBX,EAASW,GAAUN,EACnBA,EAAIU,gBAAkBnR,IACpB,MAAMyP,EAAKgB,EAAIvN,OACTwM,EAAK1P,EAAEoR,cAAcC,YAErBC,EAAiBhC,EAAW9K,OAAO,EAAG+K,aAAcvP,EAAEuR,WAAahC,IAEzE,SAASiC,IACP,IAAKF,EAAe1S,OAClB,OAEF,MAAM,UAAE4Q,GAAc8B,EAAeG,QACrCjC,EAAUC,EAAIC,EAAI8B,GAEpBA,IAEFjB,GAAsBxH,EAASyH,EAAQC,KAMzC,OADAhB,EAAGiC,QAAU,IAAMC,GAAcZ,GAC1BtB,EAKmBmC,CAAeb,IAElCV,EAAcU,GAGvB,SAASc,GAAWpC,EAAIqC,EAAWC,EAAqBC,GACtD,OAAO,IAAIlJ,QAAQ,CAACC,EAASyH,KAC3B,MAAMd,EAAKD,EAAG4B,YAAYS,EAAWC,GAC/BhC,EAA6B,iBAAd+B,EACjBpC,EAAGuC,YAAYH,GACfA,EAAUtU,IAAIpC,GAAQsU,EAAGuC,YAAY7W,IACzC,IAAI8T,EACJ8C,EAAGjC,EAAQ7M,IACTgM,EAAMhM,IAGRwM,EAAGwC,WAAa,IAAMnJ,EAAQmG,GAC9BQ,EAAGgB,QAAU,IAAMF,EAAOd,EAAGiB,SAIjC,SAASgB,GAAeZ,GAEtB,MAAMN,EAAML,EAASW,GACftB,EAAKgB,GAAOA,EAAIvN,OACtB,GAAIuM,EAAI,CACNA,EAAG0C,QACH,MAAMC,EAAY9B,EAAiBS,GACnC,GAAIqB,EACF,IAAK,MAAMC,KAAYD,EACrBC,WAICjC,EAASW,UACTV,EAAcU,UACdT,EAAiBS,GAuB1B,MAKMuB,GAAqB,IAAIxL,IAAI,CACjC,KAAM,KAAM,MAAO,MACnB,KAAM,KAAM,KAAM,KAClB,KAAM,KAAM,KAAM,KAClB,KAAM,KAAM,KAAM,KAClB,KAAM,MAAO,KAAM,KACnB,KAAM,KAAM,MAAO,KACnB,MAAO,KAAM,OAAQ,KACrB,OAGF,SAASyL,GAAe9D,GACtB,OAAOA,EACJ+D,MAAM,UACNhV,IAAIiV,IACEA,EAAKC,MAAM,OAASJ,GAAmB3I,IAAI8I,GAEvCA,EAAKE,cAGPF,EACJhN,QAAQ,UAAW,IACnBA,QAAQ,KAAM,KACdkN,eACFnO,OAAOC,SA+Cd,SAASmO,GAAW7C,EAAO8C,EAAQzW,EAAK4V,GACtCjC,EAAM8C,GAAQzW,GAAKyU,UAAY7Q,GAAMgS,GAAMA,EAAGhS,EAAER,OAAO0D,QAGzD,SAAS4P,GAAQ/C,EAAO3T,EAAK4V,GAC3BY,GAAU7C,EAAO,MAAO3T,EAAK4V,GAG/B,SAASe,GAAWhD,EAAO3T,EAAK4V,GAC9BY,GAAU7C,EAAO,SAAU3T,EAAK4V,GAqBlC,SAASgB,GAAmBC,EAAQC,GAClC,MAAMC,EAdR,SAAgBC,EAAOnE,GACrB,IAAIoE,EAAUD,EAAM,GACpB,IAAK,IAAIvY,EAAI,EAAGA,EAAIuY,EAAMxU,OAAQ/D,IAAK,CACrC,MAAM4C,EAAO2V,EAAMvY,GACfoU,EAAKoE,GAAWpE,EAAKxR,KACvB4V,EAAU5V,GAGd,OAAO4V,EAMeC,CAAML,EAAQ7D,GAAKA,EAAExQ,QACrC2U,EAAU,GAChB,IAAK,MAAM9V,KAAQ0V,EAEZF,EAAOO,KAAKJ,IAAuE,IAA9DA,EAAMK,UAAUrE,GAAK8D,EAAW9D,KAAO8D,EAAWzV,MAC1E8V,EAAQpW,KAAKM,GAGjB,OAAO8V,EAaTvC,eAAe0C,GAAUjE,EAAIkE,EAAeC,EAAKC,GAC/C,IACE,MAAMC,EAjGV,SAAiCH,GAsC/B,OArCYA,EAAcnW,IAAI,EAAGuW,aAAYC,WAAUC,QAAOC,QAAOC,aAAYC,QAAOC,OAAMC,QAAO/E,cACnG,MAAMgF,EAAS,IAAI,IAAIzN,IACrB,IACKqN,EAAW3W,IAAI+U,IAAeiC,UAC9BH,EAAK7W,IAAI+U,IAAeiC,UACxBjC,GAAcwB,GACjBC,GAECxP,OAAOC,SACPjH,IAAI4R,GAAKA,EAAEuD,eACXnO,OAAO4K,GAAKA,EAAExQ,QA5CQ,KA6CxB6V,OACGvF,EAAM,CACV6E,aACAE,QACAC,QACAC,aACAE,OACAE,SACAlF,QAASiF,EACT/E,WAKF,GAHIyE,IACF9E,EAAI8E,SAAWA,GAEbI,EAAO,CACTlF,EAAIwF,UAAY,GAChBxF,EAAIyF,aAAe,GACnBzF,EAAI0F,aAAe,GACnB,IAAK,MAAM,KAAEC,EAAI,MAAEP,EAAK,QAAE/E,KAAa6E,EACrClF,EAAIwF,UAAUvX,KAAK0X,GACnB3F,EAAIyF,aAAaxX,KAAKmX,GACtBpF,EAAI0F,aAAazX,KAAKoS,GAG1B,OAAOL,IA6DiB4F,CAAuBnB,SACzC9B,GAAUpC,EAAI,CA7SJ,QACG,YAaA,YA+RgD,EAAEsF,EAAYC,MAC/E,IAAIC,EACAC,EACAC,EACAC,EAAO,EAEX,SAASC,IACQ,KAATD,GAKR,WACE,GAAIH,IAAYpB,GAAQqB,IAAWtB,EAEjC,OAGF,IAAK,MAAMxX,KAAO+Y,EAChBJ,EAAWxK,OAAOnO,GAGpB,IAAK,MAAM+B,KAAQ2V,EACjBiB,EAAWO,IAAInX,GAEjB6W,EAAUM,IAAIzB,EAAMjF,GACpBoG,EAAUM,IAAI1B,EAAK/E,GAlBjB0G,GAqBJzC,GAAOkC,EAAWpG,EAAU1L,IAC1B+R,EAAU/R,EACVmS,MAGFvC,GAAOkC,EAAWnG,EAAS3L,IACzBgS,EAAShS,EACTmS,MA9ENzC,GAiFkBmC,EAjFD,kBAiFa/X,EAAWkG,IACnCiS,EAAUjS,EACVmS,QAGJ,UAWJrE,eAAewE,GAAuB/F,EAAIgG,GACxC,MAAMlB,EAAShC,GAAckD,GAC7B,OAAO5D,GAAUpC,EAtWC,QAaE,WAyV6B,CAACsF,EAAY/C,KAE5D,MAAM0D,EAAsB,GAQtBC,EAAS,KACb,MAAMpC,EAAUP,GAAkB0C,EAAqBtG,GAAKA,EAAEC,SAC9D2C,EAAGuB,EAAQkB,KAAK,CAAChO,EAAGC,IAAMD,EAAEyN,MAAQxN,EAAEwN,OAAS,EAAI,KAGrD,IAAK,IAAIrZ,EAAI,EAAGA,EAAI0Z,EAAO3V,OAAQ/D,IAAK,CACtC,MAAM+a,EAAQrB,EAAO1Z,GACfgb,EAAQhb,IAAM0Z,EAAO3V,OAAS,EAChCkX,YAAY/I,MAAM6I,EAAOA,EAAQ,KAAU,GAAO,GAClDE,YAAYC,KAAKH,GACrB7C,GAAUgC,EAAWzQ,MAtXN,UAsX2BuR,EAAO3S,IAC/CwS,EAAoBvY,KAAK+F,GAhBvBwS,EAAoB9W,SAAW2V,EAAO3V,QACxC+W,SAyCR,SAASja,GAAK+T,EAAIqC,EAAW1V,GAC3B,OAAOyV,GAAUpC,EAAIqC,EAzYD,WAyY2B,CAAC/B,EAAOiC,IACrDc,GAAO/C,EAAO3T,EAAK4V,IAqIvB,MAAMgE,GAAe,CACnB,OACA,aACA,OAaF,SAASC,GAAkBC,IAV3B,SAA6BA,GAC3B,MAAMC,EAAUD,GAAgBvI,MAAMwI,QAAQD,GACxCE,EAAoBD,GACxBD,EAAatX,UACXsX,EAAa,IAAMF,GAAaxC,KAAKpX,KAASA,KAAO8Z,EAAa,MACtE,IAAKC,GAAWC,EACd,MAAM,IAAI9U,MAAM,kDAKlB+U,CAAmBH,GAEnB,MAAMI,EAAa,CAAC7P,EAAGC,IAAMD,EAAErL,KAAKuX,cAAgBjM,EAAEtL,KAAKuX,eAAiB,EAAI,EAK1ExT,EAAM+W,EAAazB,KAAK6B,GAQxBC,EA7FR,SAAevH,EAAKwH,GAClB,MAAMhZ,EAAM,IAAI+N,IAChB,IAAK,MAAM9N,KAAQuR,EAAK,CACtB,MAAMuF,EAASiC,EAAa/Y,GAC5B,IAAK,MAAMmY,KAASrB,EAAQ,CAC1B,IAAIkC,EAAajZ,EACjB,IAAK,IAAI3C,EAAI,EAAGA,EAAI+a,EAAMhX,OAAQ/D,IAAK,CACrC,MAAM6b,EAAOd,EAAMe,OAAO9b,GAC1B,IAAI+b,EAAUH,EAAW/a,IAAIgb,GACxBE,IACHA,EAAU,IAAIrL,IACdkL,EAAW/K,IAAIgL,EAAME,IAEvBH,EAAaG,EAEf,IAAIC,EAAeJ,EAAW/a,IAjBhB,IAkBTmb,IACHA,EAAe,GACfJ,EAAW/K,IApBC,GAoBgBmL,IAE9BA,EAAa1Z,KAAKM,IAsCtB,MAlCe,CAACgY,EAAOqB,KACrB,IAAIL,EAAajZ,EACjB,IAAK,IAAI3C,EAAI,EAAGA,EAAI4a,EAAM7W,OAAQ/D,IAAK,CACrC,MAAM6b,EAAOjB,EAAMkB,OAAO9b,GACpB+b,EAAUH,EAAW/a,IAAIgb,GAC/B,IAAIE,EAGF,MAAO,GAFPH,EAAaG,EAMjB,GAAIE,EAAO,CAET,OADgBL,EAAW/a,IAvCb,KAwCI,GAGpB,MAAM6X,EAAU,GAEVwD,EAAQN,EAAa,CAACA,GAAc,GAC1C,KAAOM,EAAMnY,QAAQ,CACnB,MACMoY,EAAqB,IADRD,EAAMtF,QACiBvB,WAAWuE,KAAK,CAAChO,EAAGC,IAAMD,EAAE,GAAKC,EAAE,IAAM,EAAI,GACvF,IAAK,MAAOtK,EAAKN,KAAUkb,EAjDb,KAkDR5a,EACFmX,EAAQpW,QAAQrB,GAEhBib,EAAM5Z,KAAKrB,GAIjB,OAAOyX,GAsCU0D,CAAKf,EAHF5B,GAAS,IACzB,IAAIxN,IAAIwN,EAAMH,WAAW3W,IAAI0Z,GAAa3E,GAAc2E,IAAY1C,UAGpE2C,EAAqB/H,GAAKmH,EAAWnH,GAAG,GACxCgI,EAAiBhI,GAAKmH,EAAWnH,GAAG,GAgBpCiI,EAAmB,IAAI9L,IACvB+L,EAAc,IAAI/L,IACxB,IAAK,MAAMgM,KAAerB,EAAc,CACtCoB,EAAY5L,IAAI6L,EAAYnc,KAAKuX,cAAe4E,GAChD,IAAK,MAAML,KAAaK,EAAYpD,WAClCkD,EAAiB3L,IAAIwL,EAAUvE,cAAe4E,GAOlD,MAAO,CACLpY,MACAqY,OAzBa/B,IACb,MAAMlB,EAAShC,GAAckD,GAI7B,OAAOzC,GAHqBuB,EAAO/W,IAAI,CAACoY,EAAO/a,KAC5CA,EAAI0Z,EAAO3V,OAAS,EAAIuY,EAAqBC,GAAgBxB,IAElBxG,GAAKA,EAAEhU,MAAMqZ,KAAK6B,IAqBhEmB,YANkBP,GAAaG,EAAiB3b,IAAIwb,EAAUvE,eAO9D+E,OANatc,GAAQkc,EAAY5b,IAAIN,EAAKuX,gBAY9C,SAASgF,GAAYrD,GACnB,IAAKA,EACH,OAAOA,EAGT,UADOA,EAAMC,OACTD,EAAMI,UAAW,CACnB,MAAMkD,EAAMtD,EAAMI,UAAU9V,OAC5B0V,EAAMF,MAAQzG,MAAMiK,GACpB,IAAK,IAAI/c,EAAI,EAAGA,EAAI+c,EAAK/c,IACvByZ,EAAMF,MAAMvZ,GAAK,CACfga,KAAMP,EAAMI,UAAU7Z,GACtBwU,QAASiF,EAAMK,aAAa9Z,GAC5B0U,QAAS+E,EAAMM,aAAa/Z,WAGzByZ,EAAMI,iBACNJ,EAAMK,oBACNL,EAAMM,aAEf,OAAON,EAGT,SAASuD,GAAUhE,GACZA,GAxKP,WAGIiE,QAAQC,QAAQzY,WAsKhByY,CAAK,2FAIT,MAAMC,GAAiB,CACrB,aACA,QACA,WACA,QACA,QACA,aACA,OACA,WAaF,SAASC,GAAcC,EAAUC,GAC/B,GAA0C,IAAtCxM,KAAKyM,MAAMF,EAASG,OAAS,KAC/B,MAAM,IAAI/W,MAAM,oBAAsB6W,EAAa,MAAQD,EAASG,QAYxErH,eAAesH,GAAgBH,GAC7B,MAAMD,QAAiBK,MAAMJ,GAC7BF,GAAaC,EAAUC,GACvB,MAAMtE,EAAOqE,EAASM,QAAQ9c,IAAI,QAClCmc,GAAShE,GACT,MAAMF,QAAsBuE,EAASO,OAErC,OA/BF,SAA8B9E,GAC5B,IAAKA,IACFhG,MAAMwI,QAAQxC,KACdA,EAAc,IACc,iBAArBA,EAAc,IACtBqE,GAAexE,KAAKpX,KAAUA,KAAOuX,EAAc,KACnD,MAAM,IAAIrS,MAAM,2EAwBlBoX,CAAoB/E,GACb,CAACE,EAAMF,GAgDhB3C,eAAe2H,GAAcpc,GAC3B,MACMqc,EAdR,SAAmCC,GAK/B,IAJA,IAAIja,EAASia,EAAOja,OAChBka,EAAM,IAAIC,YAAYna,GACtBoQ,EAAM,IAAIgK,WAAWF,GACrBje,GAAK,IACAA,EAAI+D,GACToQ,EAAInU,GAAKge,EAAOI,WAAWpe,GAE/B,OAAOie,EAMQI,CADAjb,KAAKC,UAAU3B,IAI1B4c,EArCR,SAAmCC,GAK/B,IAJA,IAAIP,EAAS,GACTQ,EAAQ,IAAIL,WAAWI,GACvBxa,EAASya,EAAMC,WACfze,GAAK,IACAA,EAAI+D,GACTia,GAAUU,OAAOC,aAAaH,EAAMxe,IAExC,OAAOge,EA6BYY,OADGC,OAAOC,OAAOC,OAAO,QAAShB,IAGtD,OADYjb,KAAKwb,GAInBnI,eAAe6I,GAAiBpK,EAAI0I,GAElC,IAAIxE,EACAE,QA5EN7C,eAAwBmH,GACtB,MAAMD,QAAiBK,MAAMJ,EAAY,CAAEtF,OAAQ,SACnDoF,GAAaC,EAAUC,GACvB,MAAMtE,EAAOqE,EAASM,QAAQ9c,IAAI,QAElC,OADAmc,GAAShE,GACFA,EAuEUiG,CAAQ3B,GACzB,IAAKtE,EAAM,CACT,MAAMkG,QAAoBzB,GAAeH,GACzCtE,EAAOkG,EAAY,GACnBpG,EAAgBoG,EAAY,GACvBlG,IACHA,QAAa8E,GAAahF,IAG9B,SA5cF3C,eAAwBvB,EAAImE,EAAKC,GAC/B,MAAOoB,EAASC,SAAgBpM,QAAQ3J,IAAI,CAACyP,EAAUC,GACpDrR,IAAIpB,GAAOV,GAAI+T,EArSG,WAqSiBrT,KACtC,OAAQ6Y,IAAYpB,GAAQqB,IAAWtB,EAyc7BoG,CAAQvK,EAAI0I,EAAYtE,QAAc,CAC9C,IAAKF,EAAe,CAElBA,SAD0B2E,GAAeH,IACb,SAExBzE,GAASjE,EAAIkE,EAAewE,EAAYtE,IAsJnC,OAvIf,MACE,aAAa,WAAEsE,EAnvBW,6DAmvBqB,OAAE8B,EAlvB5B,KAkvBmD,YAAE1C,EAAc,IAAO,IAC7Fha,KAAK4a,WAAaA,EAClB5a,KAAK0c,OAASA,EACd1c,KAAK2c,QAAU,wBAAwB3c,KAAK0c,OAC5C1c,KAAK4c,SAAMnd,EACXO,KAAK6c,iBAAcpd,EACnBO,KAAK8c,QAAUpE,GAAiBsB,GAEhCha,KAAK+c,OAAS/c,KAAK+c,OAAOje,KAAKkB,MAC/BA,KAAKgd,OAAShd,KAAKid,QAGrB,cACE,MAAM/K,EAAKlS,KAAK4c,UAAYrJ,GAAavT,KAAK2c,UAhnBlD,SAA6BnJ,EAAQsB,GACnC,IAAID,EAAY9B,EAAiBS,GAC5BqB,IACHA,EAAY9B,EAAiBS,GAAU,IAEzCqB,EAAUjV,KAAKkV,GA6mBboI,CAAmBld,KAAK2c,QAAS3c,KAAK+c,QACtC,MAAMnC,EAAa5a,KAAK4a,iBArf5BnH,eAAwBvB,GACtB,aAAe/T,GAAI+T,EAhSE,WAgSkBZ,GAqfjB6L,CAAQjL,SA7BhCuB,eAAqCvB,EAAI0I,GACvC,IAAKtE,EAAMF,SAAuB2E,GAAeH,GAC5CtE,IAGHA,QAAa8E,GAAahF,UAGtBD,GAASjE,EAAIkE,EAAewE,EAAYtE,GAwBpC8G,CAAqBlL,EAAI0I,GAE/B5a,KAAK6c,YAAcP,GAAgBpK,EAAI0I,GAI3C,cAIE,OAHK5a,KAAKgd,SACRhd,KAAKgd,OAAShd,KAAKid,SAEdjd,KAAKgd,OAGd,sBAAuBtG,GAGrB,OAFAvF,EAAauF,SACP1W,KAAK4P,QACJ2B,QA5cXkC,eAAgCvB,EAAIwE,GAClC,OAAOpC,GAAUpC,EA9VC,QAaE,WAiV6B,CAACsF,EAAY/C,KAC5D,MAAM6D,EAAQC,YAAY/I,MAAM,CAACkH,EAAO,GAAI,CAACA,EAAQ,EAAG,IAAI,GAAO,GACnElB,GAAUgC,EAAWzQ,MAvVK,eAuVyBuR,EAAO7D,KAycnC4I,CAAgBrd,KAAK4c,IAAKlG,IAAQzW,IAAIma,IAG/D,4BAA6BlC,GAC3BjH,EAAqBiH,SACflY,KAAK4P,QAGX,MAAO,IAFS5P,KAAK8c,QAAQ7C,OAAO/B,MACpB3G,QAAgB0G,GAAsBjY,KAAK4c,IAAK1E,IAAQjY,IAAIma,KAO9E,0BAA2BT,GACzB1I,EAAqB0I,SACf3Z,KAAK4P,QACX,MAAM0N,EAAStd,KAAK8c,QAAQ5C,YAAYP,GACxC,OAAI2D,GAGGlD,SA5bX3G,eAAoCvB,EAAIyH,GAEtC,aADqB1B,GAAsB/F,EAAIyH,IACjC1S,OAAO4K,GACKA,EAAE+E,WAAW3W,IAAI4R,GAAKA,EAAEuD,eACzBmI,SAAS5D,EAAUvE,gBACzC,IAAM,KAubiBoI,CAAoBxd,KAAK4c,IAAKjD,IAGxD,8BAA+B8D,GAC7BxM,EAAqBwM,SACfzd,KAAK4P,QACX,MAAM0N,EAAStd,KAAK8c,QAAQ3C,OAAOsD,GACnC,OAAIH,GAGGlD,SA9bX3G,eAAkCvB,EAAIJ,GACpC,OAAOwC,GAAUpC,EA3YC,QAaE,WA8X6B,CAACsF,EAAY/C,IAC5Dc,GAAOiC,EAAY1F,EAASnM,IAC1B,GAAIA,EACF,OAAO8O,EAAG9O,GAEZ4P,GAAOiC,EAAWzQ,MAjYG,gBAiYwB+K,EAASnM,GAAU8O,EAAG9O,GAAU,UAwbvD+X,CAAkB1d,KAAK4c,IAAKa,IAGtD,6BAEE,aADMzd,KAAK4P,cACGzR,GAAI6B,KAAK4c,IA50BJ,WAWQ,aAi0B6C,EAG1E,2BAA4Be,GAG1B,OAFAxM,EAAawM,SACP3d,KAAK4P,QAvbDsC,EAwbClS,KAAK4c,IAxbS/d,EA/YE,WA+YGN,EAwb+Bof,EAvbxDrJ,GAAUpC,EA3ZI,WAaA,YA8Y4BM,GAC/CA,EAAMuF,IAAIxZ,EAAOM,IAFrB,IAAcqT,EAAerT,EAAKN,EA2bhC,kCAAmCkf,GAGjC,OAFAxM,EAAqBwM,SACfzd,KAAK4P,QAvbuBsC,EAwbClS,KAAK4c,IAxbF9K,EAwbO2L,EAvbxCnJ,GAAUpC,EAhaK,YAYD,YAoZkCM,IACrD+C,GAAO/C,EAAOV,EAASnM,GACrB6M,EAAMuF,KAAKpS,GAAU,GAAK,EAAGmM,MAHnC,IAAsCI,EAAIJ,EA2bxC,0BAA2B8L,GAGzB,OAFAzM,EAAayM,SACP5d,KAAK4P,eArbf,SAA8BsC,EAAIwG,EAAkBkF,GAClD,OAAc,IAAVA,EACK,GAEFtJ,GAAUpC,EAAI,CA3aC,YAFJ,SAaE,WAgagD,EAAE2L,EAAgBrG,GAAa/C,KACjG,MAAMuB,EAAU,GAChB6H,EAAe9W,MAzaC,SAyakB+W,gBAAWre,EAAW,QAAQ6T,UAAY7Q,IAC1E,MAAMsb,EAAStb,EAAER,OAAO0D,OACxB,IAAKoY,EACH,OAAOtJ,EAAGuB,GAGZ,SAASgI,EAAWrY,GAElB,GADAqQ,EAAQpW,KAAK+F,GACTqQ,EAAQ3U,SAAWuc,EACrB,OAAOnJ,EAAGuB,GAEZ+H,EAAOE,WAGT,MAAMR,EAAgBM,EAAOG,WACvBZ,EAAS5E,EAAiByB,OAAOsD,GACvC,GAAIH,EACF,OAAOU,EAAUV,GAGnB/H,GAAOiC,EAAYiG,EAAe1G,IAChC,GAAIA,EACF,OAAOiH,EAAUjH,GAGnBgH,EAAOE,gBAuZGE,CAAoBne,KAAK4c,IAAK5c,KAAK8c,QAASc,IAAQ3d,IAAIma,IAGxE,gBAAiBzB,GACf3Y,KAAK8c,QAAUpE,GAAiBC,GAGlC,kBACE,OAAO3Y,KAAK8c,QAAQlb,IAGtB,wBACQ5B,KAAK4P,QACX,UACQ5P,KAAK6c,YACX,MAAOuB,IACT,GAAIpe,KAAK4c,IACP,OAAO,EAKX,SACyB5c,KAAK2c,QAK5B3c,KAAK4c,IAAM5c,KAAKgd,OAAShd,KAAK6c,iBAAcpd,EAG9C,oBACYO,KAAKqe,mBACPjK,GAAcpU,KAAK2c,SAI7B,eA9uBF,IAAyBnJ,QA+uBXxT,KAAKqe,mBA/uBM7K,EAgvBExT,KAAK2c,QA/uBvB,IAAIpR,QAAQ,CAACC,EAASyH,KAE3BmB,GAAcZ,GAEdR,GAAsBxH,EAASyH,EADnBS,UAAU4K,eAAe9K,SCpKrC+K,GAAS,CACXC,gBAAiB,aACjBC,wBAAyB,6CACzBC,eAAgB,YAChBC,eAAgB,WAChBC,oBAAqB,wCACrBC,YAAa,eACbC,kBAAmB,qFACnBC,YAAa,SACbC,mBAAoB,iBACpBC,oBAAqB,iEACrBC,cAAe,4CACfC,eAAgB,aAChBhI,UAAW,CACT,UACA,QACA,eACA,SACA,cACA,QAEFiI,WAAY,CACV9B,OAAQ,SACR,kBAAmB,wBACnB,cAAe,kBACf,iBAAkB,qBAClB,aAAc,iBACd,gBAAiB,oBACjB+B,WAAY,aACZC,QAAS,UACTC,QAAS,UACTC,MAAO,UAKX,MAAMC,GAAY,CAChB,EAAE,EAAG,IAAK,UACV,CAAC,EAAG,KAAM,mBACV,CAAC,EAAG,KAAM,eACV,CAAC,EAAG,KAAM,kBACV,CAAC,EAAG,KAAM,cACV,CAAC,EAAG,MAAO,iBACX,CAAC,EAAG,IAAK,cACT,CAAC,EAAG,KAAM,WACV,CAAC,EAAG,KAAM,WACV,CAAC,EAAG,KAAM,UACVxf,IAAI,EAAEgD,EAAI8T,EAAOlZ,MAAU,CAAGoF,KAAI8T,QAAOlZ,UAErC6hB,GAASD,GAAUE,MAAM,GACzBC,GAAcH,GAAU,GAQxBI,GAAqC,mBAAxBC,oBAAqCA,oBAAsBC,WAG9E,SAASC,GAAQjJ,GACf,OAAOA,EAAMjF,QAAQyL,SAAS,KAUhC,MAAM0C,GAAuB,CAC3B,KAAM,GACN,MAAO,GACP,KAAM,EACN,UAAW,EACX,KAAM,EACN,QAAS,EACT,KAAM,EACN,KAAM,GACN,KAAM,GACN,QAAS,KACT,KAAM,IAIFC,GAA0B,MAO1BC,GAA2B,CAC/B,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAGIC,GAAc,0IAKdC,GAAiB,CAAC9V,EAAM+V,KAC5B,IACE,MAAMC,EAAS5e,SAASmD,cAAc,UACtCyb,EAAOC,MAAQD,EAAOE,OAAS,EAE/B,MAAM/T,EAAM6T,EAAOG,WAAW,MAO9B,OANAhU,EAAIiU,aAAe,MACnBjU,EAAIkU,KAAO,SAASR,GACpB1T,EAAImU,UAAYP,EAChB5T,EAAIoU,MAAM,IAAM,KAChBpU,EAAIqU,SAASxW,EAAM,EAAG,GAEfmC,EAAIsU,aAAa,EAAG,EAAG,EAAG,GAAGpgB,KACpC,MAAO6B,MASX,SAASwe,GAAyB1W,GAGhC,MAAM2W,EAAWb,GAAe9V,EAAM,QAChC4W,EAAWd,GAAe9V,EAAM,QACtC,OAAO2W,GAAYC,GAXG,EAACD,EAAUC,KACjC,MAAMC,EAAc,IAAIF,GAAUhgB,KAAK,KAEvC,OAAOkgB,IADa,IAAID,GAAUjgB,KAAK,MACe,YAAhBkgB,GAQPC,CAAgBH,EAAUC,GAwB3D,MAAMG,GAA2B,IAAI/V,QAAQC,GAC3CqU,GAAI,IACFrU,EArBJ,WACE,IAAImG,EACJ,IAAK,MAAOoF,EAAO/E,KAAYhU,OAAO2U,QAAQsN,IAAuB,CAEnE,IAAIgB,GAAwBlK,GAG1B,MAFApF,EAAMK,EAKV,OAAOL,EAWG4P,MAKNC,GAAqB,IAAIxT,IA2B/B,SAASyT,GAAM3X,GACbA,EAAM4X,iBACN5X,EAAM6X,kBAKR,SAASC,GAAsBC,EAAWC,EAAKrQ,GAO7C,OANAqQ,GAAQD,GAAa,EAAI,GACf,EACRC,EAAMrQ,EAAIpQ,OAAS,EACVygB,GAAOrQ,EAAIpQ,SACpBygB,EAAM,GAEDA,EAIT,SAAS,GAAQrQ,EAAKC,GACpB,MAAMvD,EAAM,IAAI5E,IACVoI,EAAM,GACZ,IAAK,MAAMzR,KAAQuR,EAAK,CACtB,MAAM5S,EAAM6S,EAAKxR,GACZiO,EAAI/B,IAAIvN,KACXsP,EAAI9B,IAAIxN,GACR8S,EAAI/R,KAAKM,IAGb,OAAOyR,EAiCT,MAAMoQ,GAAMC,sBAINC,GAAoD,mBAAnBC,eAEvC,SAASC,GAAgB1Y,EAAM2Y,GAC7B,IAAIC,EAaJ,OAXIJ,IACFI,EAAiB,IAAIH,eAAevP,GAClCyP,EAASzP,EAAQ,GAAG2P,YAAY9B,QAElC6B,EAAeE,QAAQ9Y,IAEvBsY,GAAI,IACFK,EAAS3Y,EAAK+Y,wBAAwBhC,QAInC,CACL,UAEM6B,GACFA,EAAeI,eAOvB,SAASC,GAAoBjZ,GAE3B,CACE,MAAM6O,EAAQ3W,SAASghB,cAEvB,OADArK,EAAMsK,WAAWnZ,EAAKpF,YACfiU,EAAMkK,wBAAwBhC,OAIzC,IAAIqC,GAmCJ,MAAQ7U,IAAK8U,IAAU7V,EAEvB,SAAS8V,GAAiBrW,EAAK5M,EAAMxC,GACpC,MAAM4Q,EAAYxB,EAAIiT,QAGtB,OAFAzR,EAAU,IAAMpO,EAAKxC,GACrB4Q,EAAU,IAAM5Q,EACT4Q,EAGR,SAAS8U,GAAmBtW,EAAK5M,EAAMxC,GACtC,MAAM4Q,EAAYxB,EAAIiT,QAGtB,OAFAzR,EAAU,IAAMpO,EAAKxC,GACrB4Q,EAAU,IAAM5Q,EACT4Q,EAGR,SAAS+U,GAAmBvW,EAAK5M,EAAMxC,GACtC,MAAM4Q,EAAYxB,EAAIiT,QAGtB,OAFAzR,EAAU,IAAMpO,EAAKxC,GACrB4Q,EAAU,IAAM5Q,EACT4Q,EAGR,SAASgV,GAAmBxW,EAAK5M,EAAMxC,GACtC,MAAM4Q,EAAYxB,EAAIiT,QAEtB,OADAzR,EAAU,IAAMpO,EAAKxC,GACd4Q,EAGR,SAASiV,GAAmBzW,EAAK5M,EAAMxC,GACtC,MAAM4Q,EAAYxB,EAAIiT,QAGtB,OAFAzR,EAAU,IAAMpO,EAAKxC,GACrB4Q,EAAU,IAAM5Q,EACT4Q,EAIR,SAASkV,GAAoBC,EAAO3W,GACnC,IAAI4W,EAEA9kB,EACA+kB,EACAC,EACAC,EACAC,EACAC,EANAC,EAAuBlX,EAAI,IAAM,GAQrC,MAAO,CACN7N,IAAKwkB,EACL7U,MAAO,KACP,IACC8U,EAAM,EAAQ,OACd9kB,EAAI,EAAKolB,GACT1Z,EAAKoZ,EAAK,KAAMC,EAAe,YAAoB7W,EAAI,KAEvDxC,EAAKoZ,EAAK,QAASE,EAAkB,oDAA4D9W,EAAI,MAA2BA,EAAI,IAClI,SACA,KAEFxC,EAAKoZ,EAAK,gBAAiBG,EAAgC/W,EAAI,MAA2BA,EAAI,KAC9FxC,EAAKoZ,EAAK,OAAQ,UAClBpZ,EAAKoZ,EAAK,QAASI,EAA2BhX,EAAI,GAAGyK,UAAgBzK,EAAI,MACzExC,EAAKoZ,EAAK,WAAY,MACtBpZ,EAAKoZ,EAAK,aAAcK,EAAgCjX,EAAI,GAAGyK,UAAgBzK,EAAI,MACnF1M,KAAKwO,MAAQ8U,GAEd,EAAErhB,EAAQ0H,GACTD,EAAOzH,EAAQqhB,EAAK3Z,GACpBH,EAAO8Z,EAAK9kB,IAEb,EAAEkO,EAAKD,GACuB,OAAzBA,EAAM,IAA6BmX,KAAaA,EAAuBlX,EAAI,IAAM,KAAKpC,EAAS9L,EAAGolB,GAEzE,OAAzBnX,EAAM,IAA6B8W,KAAkBA,EAAe,YAAoB7W,EAAI,MAC/FxC,EAAKoZ,EAAK,KAAMC,GAG4B,OAAzC9W,EAAM,IAA6C+W,KAAqBA,EAAkB,oDAA4D9W,EAAI,MAA2BA,EAAI,IAC3L,SACA,MACDxC,EAAKoZ,EAAK,QAASE,GAGyB,OAAzC/W,EAAM,IAA6CgX,KAA6BA,EAAgC/W,EAAI,MAA2BA,EAAI,MACtJxC,EAAKoZ,EAAK,gBAAiBG,GAGO,OAA/BhX,EAAM,IAAmCiX,KAAqBA,EAA2BhX,EAAI,GAAGyK,UAAgBzK,EAAI,OACvHxC,EAAKoZ,EAAK,QAASI,GAGe,OAA/BjX,EAAM,IAAmCkX,KAA0BA,EAAgCjX,EAAI,GAAGyK,UAAgBzK,EAAI,OACjIxC,EAAKoZ,EAAK,aAAcK,IAG1B,EAAE5U,GACGA,GAAWnF,EAAO0Z,KAMzB,SAASO,GAAoBR,EAAO3W,GACnC,IAAIoX,EACAR,EAEA9kB,EACAulB,EACAC,EACAC,EACAC,EACAC,EANAP,EAAoBlX,EAAI,IAAIqK,MAAQ,GAQxC,SAASqN,KAAiBC,GACzB,OAAyB3X,EAAI,IAAcA,EAAI,OAAQ2X,GAGxD,MAAO,CACNxlB,IAAKwkB,EACL7U,MAAO,KACP,IACCsV,EAAS,EAAQ,UACjBR,EAAM,EAAQ,OACd9kB,EAAI,EAAKolB,GACT1Z,EAAKoZ,EAAK,QAAS,SACnBpZ,EAAK4Z,EAAQ,OAAQ,OACrB5Z,EAAK4Z,EAAQ,QAAS,cACtB5Z,EAAK4Z,EAAQ,gBAAiBC,EAA6B,OAAmBrX,EAAI,IAAIzJ,IACtFiH,EAAK4Z,EAAQ,aAAcE,EAAmCtX,EAAI,GAAG0S,WAAqB1S,EAAI,IAAI7O,OAClGqM,EAAK4Z,EAAQ,gBAAiBG,GAA6CvX,EAAI,IAAuBA,EAAI,IAAIzJ,KAAiByJ,EAAI,IAAIzJ,IACvIiH,EAAK4Z,EAAQ,QAASI,EAA8BxX,EAAI,GAAG0S,WAAqB1S,EAAI,IAAI7O,OACxFmC,KAAKwO,MAAQsV,GAEd,EAAE7hB,EAAQ0H,EAAQ2a,GACjB5a,EAAOzH,EAAQ6hB,EAAQna,GACvBH,EAAOsa,EAAQR,GACf9Z,EAAO8Z,EAAK9kB,GACR8lB,GAASH,IACbA,EAAUta,EAAOia,EAAQ,QAASM,IAEnC,EAAEG,EAAS9X,GACVC,EAAM6X,EACoB,QAAtB9X,EAAM,IAA2BmX,KAAaA,EAAoBlX,EAAI,IAAIqK,MAAQ,KAAKzM,EAAS9L,EAAGolB,GAE7E,QAAtBnX,EAAM,IAA2BsX,KAAgCA,EAA6B,OAAmBrX,EAAI,IAAIzJ,KAC5HiH,EAAK4Z,EAAQ,gBAAiBC,GAGC,QAA5BtX,EAAM,IAAiCuX,KAA6BA,EAAmCtX,EAAI,GAAG0S,WAAqB1S,EAAI,IAAI7O,QAC9IqM,EAAK4Z,EAAQ,aAAcE,GAGwB,SAAhDvX,EAAM,IAAsDwX,KAAgCA,GAA6CvX,EAAI,IAAuBA,EAAI,IAAIzJ,KAAiByJ,EAAI,IAAIzJ,KACxMiH,EAAK4Z,EAAQ,gBAAiBG,GAGC,QAA5BxX,EAAM,IAAiCyX,KAAwBA,EAA8BxX,EAAI,GAAG0S,WAAqB1S,EAAI,IAAI7O,QACpIqM,EAAK4Z,EAAQ,QAASI,IAGxB,EAAEnV,GACGA,GAAWnF,EAAOka,GACtBK,MAMH,SAASK,GAAoB9X,GAC5B,IAAI4W,EAEJ,MAAO,CACN,IACCA,EAAM,EAAQ,OACdpZ,EAAKoZ,EAAK,QAAS,gBACnB3Y,EAAU2Y,EAAK,mBAAoB,OAAmB5W,EAAI,IAAI2J,IAAM,MAErE,EAAEpU,EAAQ0H,GACTD,EAAOzH,EAAQqhB,EAAK3Z,IAErB,EAAE+C,EAAKD,GACyC,EAA3CA,EAAM,IACT9B,EAAU2Y,EAAK,mBAAoB,OAAmB5W,EAAI,IAAI2J,IAAM,MAGtE,EAAEtH,GACGA,GAAWnF,EAAO0Z,KAMzB,SAASmB,GAAkB/X,GAC1B,IACIlO,EADAolB,EAAUc,GAA0BhY,EAAI,IAAyBA,EAAI,KAAO,GAGhF,MAAO,CACN,IACClO,EAAI,EAAKolB,IAEV,EAAE3hB,EAAQ0H,GACTD,EAAOzH,EAAQzD,EAAGmL,IAEnB,EAAE+C,EAAKD,GAC0D,MAA5DA,EAAM,IAA+DmX,KAAaA,EAAUc,GAA0BhY,EAAI,IAAyBA,EAAI,KAAO,KAAKpC,EAAS9L,EAAGolB,IAEpL,EAAE7U,GACGA,GAAWnF,EAAOpL,KAMzB,SAASmmB,GAAoBtB,EAAO3W,GACnC,IAAIoX,EACAc,EACAX,EACAD,EACAE,EACAW,EACAC,EAEJ,SAASC,EAAkBrY,EAAKD,GAC/B,OAAcC,EAAI,IAAIoF,QAAgB2S,GAC/BD,GAGR,IAAIQ,EAAqBD,EAAkBrY,GACvCuY,EAAWD,EAAmBtY,GAElC,MAAO,CACN7N,IAAKwkB,EACL7U,MAAO,KACP,IACCsV,EAAS,EAAQ,UACjBmB,EAAStnB,IACTuM,EAAK4Z,EAAQ,OAAQc,EAAmClY,EAAI,GAAK,SAAW,YAE5ExC,EAAK4Z,EAAQ,gBAAiBG,EAA4CvX,EAAI,GACtEA,EAAI,KAA4BA,EAAI,GAC1C,IAEFxC,EAAK4Z,EAAQ,aAAcE,EAA4CtX,EAAI,IAAcA,EAAI,IAAyBA,EAAI,MAC1HxC,EAAK4Z,EAAQ,QAASI,EAA+BxX,EAAI,IAAIwY,OAE7Dhb,EAAK4Z,EAAQ,QAASe,EAAqB,UAA2BnY,EAAI,IAAYA,EAAI,MAA6BA,EAAI,GACzH,SACA,KAEFxC,EAAK4Z,EAAQ,KAAMgB,EAAkB,OAAmBpY,EAAI,IAAIzJ,IAChEjD,KAAKwO,MAAQsV,GAEd,EAAE7hB,EAAQ0H,GACTD,EAAOzH,EAAQ6hB,EAAQna,GACvBsb,EAASvnB,EAAEomB,EAAQ,OAEpB,EAAEpX,EAAKD,GACFuY,KAAwBA,EAAqBD,EAAkBrY,KAASuY,EAC3EA,EAAS7lB,EAAEsN,EAAKD,IAEhBwY,EAASrnB,EAAE,GACXqnB,EAAWD,EAAmBtY,GAE1BuY,IACHA,EAAStnB,IACTsnB,EAASvnB,EAAEomB,EAAQ,QAIS,IAA1BrX,EAAM,IAA2BmY,KAAuBA,EAAmClY,EAAI,GAAK,SAAW,aAClHxC,EAAK4Z,EAAQ,OAAQc,GAGuD,IAAzEnY,EAAM,IAA0EwX,KAAgCA,EAA4CvX,EAAI,GAC5JA,EAAI,KAA4BA,EAAI,GAC1C,KACDxC,EAAK4Z,EAAQ,gBAAiBG,GAGiC,MAA5DxX,EAAM,IAA+DuX,KAA6BA,EAA4CtX,EAAI,IAAcA,EAAI,IAAyBA,EAAI,OACpMxC,EAAK4Z,EAAQ,aAAcE,GAGmB,EAA3CvX,EAAM,IAA0CyX,KAAwBA,EAA+BxX,EAAI,IAAIwY,QAClHhb,EAAK4Z,EAAQ,QAASI,GAGsD,IAAzEzX,EAAM,IAA0EoY,KAAwBA,EAAqB,UAA2BnY,EAAI,IAAYA,EAAI,MAA6BA,EAAI,GAC/M,SACA,MACDxC,EAAK4Z,EAAQ,QAASe,GAGwB,EAA3CpY,EAAM,IAA0CqY,KAAqBA,EAAkB,OAAmBpY,EAAI,IAAIzJ,KACrHiH,EAAK4Z,EAAQ,KAAMgB,IAGrB,EAAE/V,GACGA,GAAWnF,EAAOka,GACtBmB,EAASrnB,MAMZ,SAASunB,GAAoB9B,EAAO3W,GACnC,IAAI0Y,EAUA5mB,EACA6mB,EACAC,EACAC,EAGAC,EACAC,EACAC,EACAC,EACAxB,EAlBAP,GAA0BlX,EAAI,GACvBA,EAAI,GAAGsS,mBACMtS,EAAI,IAAIkZ,SACPlZ,EAAI,IAAIkZ,SACElZ,EAAI,GAAGrL,OAAS,EACtCqL,EAAI,GAAG0S,WAAW9B,OAClB5Q,EAAI,GAAG0S,WAA4B1S,EAAI,IAAI7O,OAAS,GAM7DgoB,EAAc,GACdC,EAAgB,IAAIhD,GAMpBiD,EAAqCrZ,EAAI,IAAI8E,OACjD,MAAMhE,EAAUd,GAAiBA,EAAI,IAAIzJ,GAEzC,IAAK,IAAI3F,EAAI,EAAGA,EAAIyoB,EAAa1kB,OAAQ/D,GAAK,EAAG,CAChD,IAAI4Q,EAAY8U,GAAmBtW,EAAKqZ,EAAczoB,GAClDuB,EAAM2O,EAAQU,GAClB4X,EAAc3X,IAAItP,EAAKgnB,EAAYvoB,GAAKqnB,GAAoB9lB,EAAKqP,IAGlE,MAAO,CACNrP,IAAKwkB,EACL7U,MAAO,KACP,IACC4W,EAAO,EAAQ,OACf5mB,EAAI,EAAKolB,GACT2B,EAAO,EAAQ,OAEf,IAAK,IAAIjoB,EAAI,EAAGA,EAAIuoB,EAAYxkB,OAAQ/D,GAAK,EAC5CuoB,EAAYvoB,GAAGK,IAGhBuM,EAAKkb,EAAM,KAAMC,EAAgB,cAAsB3Y,EAAI,KAE3DxC,EAAKkb,EAAM,QAASE,EAAmB,aAA+C5Y,EAAI,GAAGrL,OAAS,EACpG,GACA,SAEF6I,EAAKkb,EAAM,cAAe,QAC1Blb,EAAKqb,EAAM,QAAS,cACpBrb,EAAKqb,EAAM,OAAQC,EAAiC9Y,EAAI,GAAK,UAAY,QACzExC,EAAKqb,EAAM,kBAAmBE,EAA6B,cAAsB/Y,EAAI,KACrFxC,EAAKqb,EAAM,KAAMG,EAA+BhZ,EAAI,GAAK,iBAAmB,IAC5E1M,KAAKwO,MAAQ4W,GAEd,EAAEnjB,EAAQ0H,EAAQ2a,GACjB5a,EAAOzH,EAAQmjB,EAAMzb,GACrBH,EAAO4b,EAAM5mB,GACbkL,EAAOzH,EAAQsjB,EAAM5b,GAErB,IAAK,IAAIrM,EAAI,EAAGA,EAAIuoB,EAAYxkB,OAAQ/D,GAAK,EAC5CuoB,EAAYvoB,GAAGI,EAAE6nB,EAAM,MAGpBjB,GAASH,IACbA,EAAU/a,EAAiBuc,EAA6DjZ,EAAI,IAAIjP,KAAK,KAAM8nB,KAE5G,EAAE7Y,EAAKD,GAmBN,GAlB+E,QAA3EA,EAAM,IAAgFmX,KAAaA,GAA0BlX,EAAI,GAC1HA,EAAI,GAAGsS,mBACMtS,EAAI,IAAIkZ,SACPlZ,EAAI,IAAIkZ,SACElZ,EAAI,GAAGrL,OAAS,EACtCqL,EAAI,GAAG0S,WAAW9B,OAClB5Q,EAAI,GAAG0S,WAA4B1S,EAAI,IAAI7O,OAAS,KAAKyM,EAAS9L,EAAGolB,GAEnC,EAA3CnX,EAAM,IAA0C4Y,KAAmBA,EAAgB,cAAsB3Y,EAAI,MAChHxC,EAAKkb,EAAM,KAAMC,GAG6B,EAA3C5Y,EAAM,IAA0C6Y,KAAsBA,EAAmB,aAA+C5Y,EAAI,GAAGrL,OAAS,EAC1J,GACA,UACD6I,EAAKkb,EAAM,QAASE,GAGwF,SAAzG7Y,EAAM,GAA6G,CACtH,MAAMsZ,EAAqCrZ,EAAI,IAAI8E,OACnDqU,EAAcvY,EAAkBuY,EAAapZ,EAAOe,EAAS,EAAGd,EAAKqZ,EAAcD,EAAeP,EAAMnY,EAAeuX,GAAqB,KAAM3B,IAGrH,IAA1BvW,EAAM,IAA2B+Y,KAAqBA,EAAiC9Y,EAAI,GAAK,UAAY,SAC/GxC,EAAKqb,EAAM,OAAQC,GAG2B,EAA3C/Y,EAAM,IAA0CgZ,KAAgCA,EAA6B,cAAsB/Y,EAAI,MAC1IxC,EAAKqb,EAAM,kBAAmBE,GAGD,IAA1BhZ,EAAM,IAA2BiZ,KAAmBA,EAA+BhZ,EAAI,GAAK,iBAAmB,KAClHxC,EAAKqb,EAAM,KAAMG,IAGnB,EAAE3W,GACGA,GAAWnF,EAAOwb,GAClBrW,GAAWnF,EAAO2b,GAEtB,IAAK,IAAIjoB,EAAI,EAAGA,EAAIuoB,EAAYxkB,OAAQ/D,GAAK,EAC5CuoB,EAAYvoB,GAAGM,IAGhBumB,MAMH,SAAS6B,GAAkBtZ,GAC1B,IAAIuZ,EACAC,EAEJ,MAAO,CACN,IACCD,EAAM,EAAQ,OACd/b,EAAK+b,EAAK,QAAS,gBACfA,EAAIE,OAASD,EAA0BxZ,EAAI,IAAI2J,MAAMnM,EAAK+b,EAAK,MAAOC,GAC1Ehc,EAAK+b,EAAK,UAAW,QACrB/b,EAAK+b,EAAK,MAAO,KAElB,EAAEhkB,EAAQ0H,GACTD,EAAOzH,EAAQgkB,EAAKtc,IAErB,EAAE+C,EAAKD,GAC8B,QAAhCA,EAAM,IAAqCwZ,EAAIE,OAASD,EAA0BxZ,EAAI,IAAI2J,MAC7FnM,EAAK+b,EAAK,MAAOC,IAGnB,EAAEnX,GACGA,GAAWnF,EAAOqc,KAMzB,SAASG,GAAgB1Z,GACxB,IACIlO,EADAolB,EAAUc,GAA0BhY,EAAI,IAAyBA,EAAI,KAAO,GAGhF,MAAO,CACN,IACClO,EAAI,EAAKolB,IAEV,EAAE3hB,EAAQ0H,GACTD,EAAOzH,EAAQzD,EAAGmL,IAEnB,EAAE+C,EAAKD,GAC+C,QAAjDA,EAAM,IAAsDmX,KAAaA,EAAUc,GAA0BhY,EAAI,IAAyBA,EAAI,KAAO,KAAKpC,EAAS9L,EAAGolB,IAE3K,EAAE7U,GACGA,GAAWnF,EAAOpL,KAMzB,SAASkP,GAAkB2V,EAAO3W,GACjC,IAAIoX,EACAE,EACAE,EACAY,EAEJ,SAASuB,EAAoB3Z,EAAKD,GACjC,OAAcC,EAAI,IAAIoF,QAAgBsU,GAC/BJ,GAGR,IAAIhB,EAAqBqB,EAAoB3Z,GACzCuY,EAAWD,EAAmBtY,GAElC,MAAO,CACN7N,IAAKwkB,EACL7U,MAAO,KACP,IACCsV,EAAS,EAAQ,UACjBmB,EAAStnB,IACTuM,EAAK4Z,EAAQ,OAAQ,YACrB5Z,EAAK4Z,EAAQ,aAAcE,EAA4CtX,EAAI,IAAcA,EAAI,IAAyBA,EAAI,MAC1HxC,EAAK4Z,EAAQ,QAASI,EAA+BxX,EAAI,IAAIwY,OAC7Dhb,EAAK4Z,EAAQ,QAAS,SACtB5Z,EAAK4Z,EAAQ,KAAMgB,EAAkB,OAAmBpY,EAAI,IAAIzJ,IAChEjD,KAAKwO,MAAQsV,GAEd,EAAE7hB,EAAQ0H,GACTD,EAAOzH,EAAQ6hB,EAAQna,GACvBsb,EAASvnB,EAAEomB,EAAQ,OAEpB,EAAEpX,EAAKD,GACFuY,KAAwBA,EAAqBqB,EAAoB3Z,KAASuY,EAC7EA,EAAS7lB,EAAEsN,EAAKD,IAEhBwY,EAASrnB,EAAE,GACXqnB,EAAWD,EAAmBtY,GAE1BuY,IACHA,EAAStnB,IACTsnB,EAASvnB,EAAEomB,EAAQ,QAIgC,QAAjDrX,EAAM,IAAsDuX,KAA6BA,EAA4CtX,EAAI,IAAcA,EAAI,IAAyBA,EAAI,OAC3LxC,EAAK4Z,EAAQ,aAAcE,GAGQ,QAAhCvX,EAAM,IAAqCyX,KAAwBA,EAA+BxX,EAAI,IAAIwY,QAC7Ghb,EAAK4Z,EAAQ,QAASI,GAGa,QAAhCzX,EAAM,IAAqCqY,KAAqBA,EAAkB,OAAmBpY,EAAI,IAAIzJ,KAChHiH,EAAK4Z,EAAQ,KAAMgB,IAGrB,EAAE/V,GACGA,GAAWnF,EAAOka,GACtBmB,EAASrnB,MAKZ,SAASuR,GAAgBzC,GACxB,IAAI4Z,EACAlB,EACAmB,EACAhB,EACA7a,EACA8b,EACAC,EACAC,EACAC,EAEAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EAGAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAGAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAGAC,EACAC,EACAC,EACAC,EACAC,GAGAC,GACAC,GACAC,GACAC,GACAC,GACA3E,GA9CA4E,GAAoBrc,EAAI,GAAGqS,YAAc,GAGzCiK,GAAoBtc,EAAI,GAAGoS,kBAAoB,GAQ/CmK,GAAoBvc,EAAI,GAAGuS,oBAAsB,GAGjDiK,GAAgB,GAChBC,GAAe,IAAIrG,GAOnBsG,GAAgB,GAChBC,GAAe,IAAIvG,GASnBwG,GAAgB,GAChBC,GAAe,IAAIzG,GAMnB+C,GAAc,GACd2D,GAAe,IAAI1G,GAOnB2G,GAA6B/c,EAAI,IACrC,MAAMc,GAAUd,GAAoBA,EAAI,IAExC,IAAK,IAAIpP,EAAI,EAAGA,EAAImsB,GAAapoB,OAAQ/D,GAAK,EAAG,CAChD,IAAI4Q,EAAYiV,GAAmBzW,EAAK+c,GAAcnsB,GAClDuB,EAAM2O,GAAQU,GAClBib,GAAahb,IAAItP,EAAKqqB,GAAc5rB,GAAK8lB,GAAoBvkB,EAAKqP,IAGnE,IAAIwb,GAA0Bhd,EAAI,IAClC,MAAMid,GAAYjd,GAAiBA,EAAI,IAAIzJ,GAE3C,IAAK,IAAI3F,EAAI,EAAGA,EAAIosB,GAAaroB,OAAQ/D,GAAK,EAAG,CAChD,IAAI4Q,EAAYgV,GAAmBxW,EAAKgd,GAAcpsB,GAClDuB,EAAM8qB,GAAUzb,GACpBmb,GAAalb,IAAItP,EAAKuqB,GAAc9rB,GAAKumB,GAAoBhlB,EAAKqP,IAGnE,IAAI0b,GAA+Cld,EAAI,GACvD,MAAMmd,GAAYnd,GAA6BA,EAAI,IAAIkZ,SAEvD,IAAK,IAAItoB,EAAI,EAAGA,EAAIssB,GAAavoB,OAAQ/D,GAAK,EAAG,CAChD,IAAI4Q,EAAY+U,GAAmBvW,EAAKkd,GAActsB,GAClDuB,EAAMgrB,GAAU3b,GACpBqb,GAAapb,IAAItP,EAAKyqB,GAAchsB,GAAK6nB,GAAoBtmB,EAAKqP,IAGnE,IAAI4b,GAAkCpd,EAAI,IAC1C,MAAMqd,GAAYrd,GAAiBA,EAAI,IAAIzJ,GAE3C,IAAK,IAAI3F,EAAI,EAAGA,EAAIwsB,GAAWzoB,OAAQ/D,GAAK,EAAG,CAC9C,IAAI4Q,EAAY6U,GAAiBrW,EAAKod,GAAYxsB,GAC9CuB,EAAMkrB,GAAU7b,GACpBsb,GAAarb,IAAItP,EAAKgnB,GAAYvoB,GAAKoQ,GAAkB7O,EAAKqP,IAG/D,MAAO,CACN,IACCoY,EAAU,EAAQ,WAClBlB,EAAO,EAAQ,OACfmB,EAAO,EAAQ,OACfhB,EAAO,EAAQ,OACf7a,EAAQ,EAAQ,SAChBic,EAAQ,EAAQ,SAChBC,EAAK,EAAKmC,IACVlC,EAAQ,EAAQ,QAChBC,EAAK,EAAKkC,IACVjC,EAAO,EAAQ,OACfC,EAAU,EAAQ,UAClBC,EAAK,EAA4Bva,EAAI,KACrC0a,EAAQ,EAAQ,QAChBC,EAAK,EAAK4B,IACV3B,EAAO,EAAQ,OAEf,IAAK,IAAIhqB,EAAI,EAAGA,EAAI4rB,GAAc7nB,OAAQ/D,GAAK,EAC9C4rB,GAAc5rB,GAAGK,IAGlBiqB,EAAO,EAAQ,OAEf,IAAK,IAAItqB,EAAI,EAAGA,EAAI8rB,GAAc/nB,OAAQ/D,GAAK,EAC9C8rB,GAAc9rB,GAAGK,IAGlBmqB,EAAO,EAAQ,OACfC,EAAO,EAAQ,OACfE,EAAO,EAAQ,OACfC,EAAK,EAAiBxb,EAAI,IAC1B0b,EAAO,EAAQ,OAEf,IAAK,IAAI9qB,EAAI,EAAGA,EAAIgsB,GAAcjoB,OAAQ/D,GAAK,EAC9CgsB,GAAchsB,GAAGK,IAGlB8qB,GAAQ,EAAQ,OAEhB,IAAK,IAAInrB,EAAI,EAAGA,EAAIuoB,GAAYxkB,OAAQ/D,GAAK,EAC5CuoB,GAAYvoB,GAAGK,IAGhBirB,GAAQ,EAAQ,OAChBC,GAAU,EAAQ,UAClBA,GAAQmB,YAAc,KACtBhqB,KAAKrC,EAAI+K,EACTwB,EAAKkb,EAAM,QAAS,WACpBlb,EAAKQ,EAAO,KAAM,UAClBR,EAAKQ,EAAO,QAAS,UACrBR,EAAKQ,EAAO,OAAQ,UACpBR,EAAKQ,EAAO,OAAQ,YACpBR,EAAKQ,EAAO,eAAgB,UAC5BR,EAAKQ,EAAO,cAAe8b,EAAmC9Z,EAAI,GAAGqS,aACrE7U,EAAKQ,EAAO,iBAAkB,QAC9BR,EAAKQ,EAAO,eAAgB,OAC5BR,EAAKQ,EAAO,aAAc,QAC1BR,EAAKQ,EAAO,gBAAiB+b,KAA8C/Z,EAAI,KAAwBA,EAAI,GAAGrL,SAC9G6I,EAAKQ,EAAO,gBAAiB,kBAC7BR,EAAKQ,EAAO,YAAa,kBACzBR,EAAKQ,EAAO,mBAAoB,sBAChCR,EAAKQ,EAAO,oBAAqB,QAEjCR,EAAKQ,EAAO,wBAAyBgc,EAA2Dha,EAAI,IAClG,OAA8BA,EAAI,IAClC,IAEFxC,EAAKyc,EAAO,QAAS,WACrBzc,EAAKyc,EAAO,MAAO,UACnBzc,EAAK2c,EAAO,KAAM,sBAClB3c,EAAK2c,EAAO,QAAS,WACrB3c,EAAKqb,EAAM,QAAS,kBACpBrb,EAAK8c,EAAS,KAAM,mBACpB9c,EAAK8c,EAAS,QAASE,EAAsB,UAAuCxa,EAAI,IAAM,aAAe,KAC7GxC,EAAK8c,EAAS,aAAsCta,EAAI,KACxDxC,EAAK8c,EAAS,QAAiCta,EAAI,KACnDxC,EAAK8c,EAAS,mBAAoB,wBAClC9c,EAAK8c,EAAS,gBAAiB,WAC/B9c,EAAK8c,EAAS,gBAA4Cta,EAAI,KAC9DxC,EAAK8c,EAAS,gBAAiB,iBAE/B9c,EAAK6c,EAAM,QAASI,EAAmB,4BAAuEza,EAAI,IAChH,WACA,KAEFxC,EAAKkd,EAAO,KAAM,wBAClBld,EAAKkd,EAAO,QAAS,WACrBld,EAAKod,EAAM,KAAM,iBAEjBpd,EAAKod,EAAM,QAASC,EAAmB,kBAA+C7a,EAAI,IACxF,GACA,sBAEFxC,EAAKod,EAAM,QAASE,EAA8C9a,EAAI,IACpE,4BACA,oFAEFxC,EAAKod,EAAM,OAAQ,WACnBpd,EAAKod,EAAM,aAAcG,EAAiC/a,EAAI,GAAGyS,gBACjEjV,EAAKod,EAAM,wBAAyBI,EAAmC,YAAiChb,EAAI,KAC5GxC,EAAKod,EAAM,cAAeK,GAAqDjb,EAAI,KACnFxC,EAAKqc,EAAM,QAAS,cACpBrc,EAAK0d,EAAM,QAAS,OACpB1d,EAAK0d,EAAM,OAAQ,WACnBjd,EAAUid,EAAM,wBAAyB,UAAuBlb,EAAI,IAAIrL,OAAS,UACjF6I,EAAK0d,EAAM,aAAcC,EAAiCnb,EAAI,GAAG8R,iBACjEtU,EAAK6d,EAAM,QAAS,aACpB7d,EAAK6d,EAAM,QAA4Brb,EAAI,KAC3CxC,EAAK4d,EAAM,QAAS,qBACpB5d,EAAK4d,EAAM,cAAe,QAC1B5d,EAAK+d,EAAM,QAASE,EAAmB,YAA0Bzb,EAAI,GAAK,GAAK,SAC/ExC,EAAK+d,EAAM,OAAQ,SACnB/d,EAAK+d,EAAM,YAAa,UACxB/d,EAAKke,EAAM,QAASC,EAAmB,cAA2B3b,EAAI,KAAmBA,EAAI,GAAK,OAAS,KAC3GxC,EAAKke,EAAM,OAAQE,EAAiC5b,EAAI,GAAK,SAAW,YAExExC,EAAKke,EAAM,aAAcG,EAAuC7b,EAAI,GACzDA,EAAI,GAAGsS,mBACPtS,EAAI,GAAG0S,WAA4B1S,EAAI,IAAI7O,OAEtDqM,EAAKke,EAAM,KAAMI,EAA+B9b,EAAI,GAClD,GACA,OAAwBA,EAAI,IAAIzJ,IAElCiH,EAAKke,EAAM,WAAY,KACvBle,EAAKue,GAAO,QAASC,GAAoB,yBAAuChc,EAAI,GAAK,OAAS,KAClGxC,EAAKue,GAAO,OAAQ,QACpBve,EAAKue,GAAO,aAAcE,GAAkCjc,EAAI,GAAGgS,gBACnE/T,EAAU8d,GAAO,gBAAoC/b,EAAI,IAAM,MAC/DxC,EAAK2e,GAAS,WAAY,MAC1B3e,EAAK2e,GAAS,QAAS,wBACvB3e,EAAK0e,GAAO,cAAe,QAC3B1e,EAAK0e,GAAO,QAAS,kBACrB1e,EAAKoc,EAAS,QAAS,UACvBpc,EAAKoc,EAAS,aAAcwC,GAAoCpc,EAAI,GAAGmS,aACvE3U,EAAKoc,EAAS,QAAyB5Z,EAAI,MAE5C,EAAEzK,EAAQ0H,EAAQ2a,GACjB5a,EAAOzH,EAAQqkB,EAAS3c,GACxBH,EAAO8c,EAASlB,GAChB5b,EAAO8c,EAASC,GAChB/c,EAAO+c,EAAMhB,GACb/b,EAAO+b,EAAM7a,GACbD,EAAgBC,EAAyBgC,EAAI,IAC7ClD,EAAO+b,EAAMoB,GACbnd,EAAOmd,EAAOC,GACdpd,EAAO+b,EAAMsB,GACbrd,EAAOqd,EAAOC,GACdtd,EAAO+c,EAAMQ,GACbvd,EAAOud,EAAMC,GACbxd,EAAOwd,EAASC,GAChBzd,EAAO+c,EAAMa,GACb5d,EAAO4d,EAAOC,GACd7d,EAAO+c,EAAMe,GAEb,IAAK,IAAIhqB,EAAI,EAAGA,EAAI4rB,GAAc7nB,OAAQ/D,GAAK,EAC9C4rB,GAAc5rB,GAAGI,EAAE4pB,EAAM,MAGT5a,EAAI,IAAI4a,GACzB9d,EAAO8c,EAASsB,GAEhB,IAAK,IAAItqB,EAAI,EAAGA,EAAI8rB,GAAc/nB,OAAQ/D,GAAK,EAC9C8rB,GAAc9rB,GAAGI,EAAEkqB,EAAM,MAG1Bpe,EAAO8c,EAASwB,GAChBte,EAAOse,EAAMC,GACbve,EAAO8c,EAAS2B,GAChBze,EAAOye,EAAMC,GACb1e,EAAO8c,EAAS8B,GAEhB,IAAK,IAAI9qB,EAAI,EAAGA,EAAIgsB,GAAcjoB,OAAQ/D,GAAK,EAC9CgsB,GAAchsB,GAAGI,EAAE0qB,EAAM,MAGT1b,EAAI,IAAI0b,GACzB5e,EAAO8c,EAASmC,IAEhB,IAAK,IAAInrB,EAAI,EAAGA,EAAIuoB,GAAYxkB,OAAQ/D,GAAK,EAC5CuoB,GAAYvoB,GAAGI,EAAE+qB,GAAO,MAGzBjf,EAAO8c,EAASsC,IAChBpf,EAAOof,GAAOC,IACMnc,EAAI,IAAImc,IACRnc,EAAI,IAAI4Z,GACxBhC,GAASzb,EAAQsb,IAErBA,GAAU,CACTta,EAAOa,EAAO,QAAiCgC,EAAI,KACnD7C,EAAOa,EAAO,UAA+BgC,EAAI,KACjD7C,EAAOmd,EAAS,QAAmCta,EAAI,KACvD7C,EAAOyd,EAAM,WAA0C5a,EAAI,KAC3D7C,EAAOyd,EAAM,QAAoC5a,EAAI,KACrD7C,EAAOyd,EAAM,UAAwC5a,EAAI,KACzD7C,EAAOyd,EAAM,QAAoC5a,EAAI,KACrD7C,EAAO+d,EAAM,UAA4Blb,EAAI,KAC7CtD,EAAiB4e,EAA6Dtb,EAAI,IAAIjP,KAAK,KAAMsqB,IACjGle,EAAOue,EAAM,QAA0B1b,EAAI,KAC3C7C,EAAO4e,GAAO,QAA0B/b,EAAI,OAG9C,EAAEA,EAAKD,GA+CN,GA9CwB,EAApBA,EAAM,IAAmB+Z,KAA6BA,EAAmC9Z,EAAI,GAAGqS,cACnG7U,EAAKQ,EAAO,cAAe8b,GAGiB,IAAzC/Z,EAAM,IAA0Cga,KAA+BA,KAA8C/Z,EAAI,KAAwBA,EAAI,GAAGrL,UACnK6I,EAAKQ,EAAO,gBAAiB+b,GAGQ,SAAlCha,EAAM,IAAwCia,KAAuCA,EAA2Dha,EAAI,IACtJ,OAA8BA,EAAI,IAClC,KACDxC,EAAKQ,EAAO,wBAAyBgc,GAGL,EAA7Bja,EAAM,IACThC,EAAgBC,EAAyBgC,EAAI,IAGtB,EAApBD,EAAM,IAAmBsc,MAAcA,GAAoBrc,EAAI,GAAGqS,YAAc,KAAKzU,EAASsc,EAAImC,IAC9E,EAApBtc,EAAM,IAAmBuc,MAAcA,GAAoBtc,EAAI,GAAGoS,kBAAoB,KAAKxU,EAASwc,EAAIkC,IACtE,MAAlCvc,EAAM,IAAmCnC,EAAS2c,EAA2Bva,EAAI,KAE3C,KAAtCD,EAAM,IAAwCya,KAAyBA,EAAsB,UAAuCxa,EAAI,IAAM,aAAe,MAChKxC,EAAK8c,EAAS,QAASE,GAGe,OAAnCza,EAAM,IACTvC,EAAK8c,EAAS,aAAsCta,EAAI,KAGlB,OAAnCD,EAAM,IACTvC,EAAK8c,EAAS,QAAiCta,EAAI,KAGV,KAAtCD,EAAM,IACTvC,EAAK8c,EAAS,gBAA4Cta,EAAI,KAGP,KAApDD,EAAM,IAAsD0a,KAAsBA,EAAmB,4BAAuEza,EAAI,IAClL,WACA,MACDxC,EAAK6c,EAAM,QAASI,GAGG,EAApB1a,EAAM,IAAmBwc,MAAcA,GAAoBvc,EAAI,GAAGuS,oBAAsB,KAAK3U,EAAS+c,EAAI4B,IAE3D,OAA/Cxc,EAAM,GAAiD,CAC1D,MAAMgd,EAA6B/c,EAAI,IACvCwc,GAAgB5b,EAAkB4b,GAAezc,EAAOe,GAAS,EAAGd,EAAK+c,EAAcN,GAAc7B,EAAMla,EAAegW,GAAqB,KAAMD,IA2BtJ,GAxB0C,KAAtC1W,EAAM,IAAwC8a,KAAsBA,EAAmB,kBAA+C7a,EAAI,IAC5I,GACA,uBACDxC,EAAKod,EAAM,QAASC,GAGqB,KAAtC9a,EAAM,IAAwC+a,KAAsBA,EAA8C9a,EAAI,IACxH,4BACA,qFACDxC,EAAKod,EAAM,QAASE,GAGG,EAApB/a,EAAM,IAAmBgb,KAA2BA,EAAiC/a,EAAI,GAAGyS,iBAC/FjV,EAAKod,EAAM,aAAcG,GAGQ,MAA9Bhb,EAAM,IAAiCib,KAAsCA,EAAmC,YAAiChb,EAAI,MACxJxC,EAAKod,EAAM,wBAAyBI,GAGK,KAAtCjb,EAAM,IAAwCkb,KAA4BA,GAAqDjb,EAAI,MACtIxC,EAAKod,EAAM,cAAeK,GAG2C,WAAlElb,EAAM,GAAwE,CACjF,MAAMid,EAA0Bhd,EAAI,IACpC0c,GAAgB9b,EAAkB8b,GAAe3c,EAAOkd,GAAW,EAAGjd,EAAKgd,EAAcL,GAAczB,EAAMxa,EAAeyW,GAAqB,KAAMX,IAqBxJ,GAlB0B,QAAtBzW,EAAM,IACT9B,EAAUid,EAAM,wBAAyB,UAAuBlb,EAAI,IAAIrL,OAAS,UAG1D,EAApBoL,EAAM,IAAmBob,KAA2BA,EAAiCnb,EAAI,GAAG8R,kBAC/FtU,EAAK0d,EAAM,aAAcC,GAGQ,KAA9Bpb,EAAM,IACTvC,EAAK6d,EAAM,QAA4Brb,EAAI,KAGjB,IAAvBD,EAAM,IAAsBnC,EAAS4d,EAAgBxb,EAAI,IAElC,IAAvBD,EAAM,IAAwB0b,KAAsBA,EAAmB,YAA0Bzb,EAAI,GAAK,GAAK,UAClHxC,EAAK+d,EAAM,QAASE,GAG4G,SAA7H1b,EAAM,GAAiI,CAC1I,MAAMmd,EAA+Cld,EAAI,GACzD4c,GAAgBhc,EAAkBgc,GAAe7c,EAAOod,GAAW,EAAGnd,EAAKkd,EAAcL,GAAcnB,EAAMhb,EAAe+X,GAAqB,KAAMlC,IAuBxJ,GApBmC,SAA/BxW,EAAM,IAAqC4b,KAAsBA,EAAmB,cAA2B3b,EAAI,KAAmBA,EAAI,GAAK,OAAS,MAC3JxC,EAAKke,EAAM,QAASC,GAGS,IAA1B5b,EAAM,IAA2B6b,KAAqBA,EAAiC5b,EAAI,GAAK,SAAW,aAC9GxC,EAAKke,EAAM,OAAQE,GAG8B,QAA9C7b,EAAM,IAAmD8b,KAA2BA,EAAuC7b,EAAI,GACxHA,EAAI,GAAGsS,mBACPtS,EAAI,GAAG0S,WAA4B1S,EAAI,IAAI7O,QACrDqM,EAAKke,EAAM,aAAcG,GAGkB,QAAxC9b,EAAM,IAA6C+b,KAAmBA,EAA+B9b,EAAI,GAC3G,GACA,OAAwBA,EAAI,IAAIzJ,KACjCiH,EAAKke,EAAM,KAAMI,GAGkD,SAAhE/b,EAAM,GAAoE,CAC7E,MAAMqd,EAAkCpd,EAAI,IAC5CmZ,GAAcvY,EAAkBuY,GAAapZ,EAAOsd,GAAW,EAAGrd,EAAKod,EAAYN,GAAcf,GAAOrb,EAAeM,GAAmB,KAAMqV,IAGtH,IAAvBtW,EAAM,IAAwBic,MAAuBA,GAAoB,yBAAuChc,EAAI,GAAK,OAAS,MACrIxC,EAAKue,GAAO,QAASC,IAGE,EAApBjc,EAAM,IAAmBkc,MAA4BA,GAAkCjc,EAAI,GAAGgS,iBACjGxU,EAAKue,GAAO,aAAcE,IAGO,QAA9Blc,EAAM,IACT9B,EAAU8d,GAAO,gBAAoC/b,EAAI,IAAM,MAGxC,EAApBD,EAAM,IAAmBqc,MAA8BA,GAAoCpc,EAAI,GAAGmS,cACrG3U,EAAKoc,EAAS,aAAcwC,IAGE,OAA3Brc,EAAM,IACTvC,EAAKoc,EAAS,QAAyB5Z,EAAI,MAG7CpP,EAAGoL,EACH3K,EAAG2K,EACH,EAAEqG,GACGA,GAAWnF,EAAO0c,GAEtB,IAAK,IAAIhpB,EAAI,EAAGA,EAAI4rB,GAAc7nB,OAAQ/D,GAAK,EAC9C4rB,GAAc5rB,GAAGM,IAGD8O,EAAI,IAAI,MAEzB,IAAK,IAAIpP,EAAI,EAAGA,EAAI8rB,GAAc/nB,OAAQ/D,GAAK,EAC9C8rB,GAAc9rB,GAAGM,IAGlB,IAAK,IAAIN,EAAI,EAAGA,EAAIgsB,GAAcjoB,OAAQ/D,GAAK,EAC9CgsB,GAAchsB,GAAGM,IAGD8O,EAAI,IAAI,MAEzB,IAAK,IAAIpP,EAAI,EAAGA,EAAIuoB,GAAYxkB,OAAQ/D,GAAK,EAC5CuoB,GAAYvoB,GAAGM,IAGI8O,EAAI,IAAI,MACRA,EAAI,IAAI,MAC5B7D,EAAQsb,MAKX,SAASO,GAAgB3N,EAAOkT,GAC/B,OAAOA,GAAmBlT,EAAMF,OAASE,EAAMF,MAAMoT,IAAoBlT,EAAMjF,QAGhF,SAAS5C,GAASgb,EAAQC,EAASC,GAClC,IAcIC,EACAC,EACAC,EAGAC,EAKAC,EAGAC,EACAC,EAIAC,EAKAC,EAEAC,GAvCA,OAAEpO,EAAS,MAASyN,GACpB,WAAEvP,EAAa,MAASuP,GACxB,cAAEY,EAAgB7K,IAA4BiK,GAC9C,KAAEa,EAAOzM,IAAW4L,GACpB,SAAEc,EAAW,MAASd,GACtB,YAAEnQ,EAAc,MAASmQ,EAKzBe,EAAgB,GAChBC,EAA8B,GAC9BC,EAAgB,GAChBC,EAAa,GAIbC,GAAa,EACbC,GAAoB,EAEpBC,EAAyB,EACzBC,EAAiB,GACjBC,GAAyB,EACzBC,GAAuC,EAEvC1B,EAAkB,EAClB2B,EAAiB,EAGjBC,EAAsB,GACtB1U,EAAY,GACZ2U,EAAmB,GAEnBC,EAnxCuB,EAoxCvBC,EAAiB,EACjBC,EAAoB,EACpBC,EAAWxM,GAEXyM,GAAS,EAMb,SAASC,EAAMnpB,GACdonB,EAAYgC,cAAcC,eAAerpB,GAAImpB,QAI9C,SAASG,EAAU1uB,EAAM2uB,GACxBnC,EAAYoC,cAAc,IAAIC,YAAY7uB,EAAM,CAAE2uB,SAAQG,SAAS,EAAMC,UAAU,KFhxBrF,IAAiBtrB,EEm1BhB,SAASurB,EAAyBC,GACjC,MAAMC,EAAW1C,EAAYgC,eAhpC/B,SAA0BS,EAAkBxC,EAAe0C,GACzD,IAAK,MAAMjW,KAAS+V,EAAkB,CACpC,MACMG,EAAavK,GADHsK,EAAejW,SAEG,IAAvB8L,KACTA,GAAqBH,GAAmB4H,IAG1C,MAAM4C,EAAYD,EAAWE,QAAQ,KAAOtK,GAAmBsK,QAAQ,GACvE3L,GAAmBrT,IAAI4I,EAAMjF,QAASob,GAEjCA,GAC+BnW,EAAMjF,SA2oC5Csb,CAAgBN,EAAkBxC,EAFhCvT,GAASgW,EAAST,eAAe,OAAOvV,EAAM9T,KAKhDmnB,EAAa,EAAGc,EAAgBA,GAGjC,SAASmC,EAAetW,GACvB,OAAQA,EAAMjF,UAAYkO,GAAOjJ,IAAUyK,GAAmBrjB,IAAI4Y,EAAMjF,SAGzE2B,eAAe6Z,EAAsB9b,GACpC,MAAM+b,QAA0BjM,GAGhC,OAAO9P,EAAOvK,OAAO,EAAG+K,cAAeA,GAAWA,GAAWub,GAG9D9Z,eAAe+Z,EAAgBhc,GAC9B,OA9uCF,SAA+BA,EAAQ+b,GACrC,MAAME,EAAmB5W,IACvB,MAAMlF,EAAM,GACZ,IAAK,MAAM+b,KAAQ7W,EAIQ,iBAAd6W,EAAKpW,MAAqBoW,EAAK1b,SAAWub,IACnD5b,EAAI+b,EAAKpW,MAAQoW,EAAK5b,SAG1B,OAAOH,GAGT,OAAOH,EAAOvR,IAAI,EAAG6R,UAAS+E,QAAOD,aAAYP,MAAKxY,OAAM+nB,eAAe,CACzE9T,UACAjU,OACA+Y,aACAP,MACAuP,WACA3iB,GAAI6O,GAAWjU,EACfgZ,MAAOA,GAAS4W,EAAiB5W,GACjCqO,MAAOtO,EAAW1V,KAAK,SAwtClBysB,CAAqBnc,QAAc8P,IAG3C7N,eAAema,EAAiBlX,GAE/B,QAAqB,IAAVA,EACV,MAAO,GAIR,MAAMK,GAAmB,IAAXL,EACZsD,QACMiR,EAAS5N,gBAAgB3G,GAEjC,OAAO8W,QAAsBF,EAAsBvW,IAGpDtD,eAAeoa,EAAuB3V,GACrC,OAAOsV,QAAsBF,QAA4BrC,EAAShT,sBAAsBC,KAiCzF,SAAS4V,EAAWpX,GACnB0T,EAAa,EAAGgB,EAAgB,IAChChB,EAAa,GAAIiB,EAAa,IAC9BjB,EAAa,EAAGmB,GAAoB,GACpCnB,EAAa,GAAI6B,EAAoBC,EAAShW,UAAUrE,GAAKA,EAAE5O,KAAOyT,EAAMzT,KAyB7EwQ,eAAesa,EAAWtQ,GACzB,MAAM1G,QAAckU,EAAS+C,wBAAwBvQ,GAC/CwQ,EAAe,IAAI/C,KAAkBY,GAAkBoC,KAAKrc,GAAKA,EAAE5O,KAAOwa,GAC1E0Q,EAAmBF,EAAanc,SAAW4S,GAAgBuJ,EAAchE,SACzEgB,EAASmD,4BAA4B3Q,GAG3C2M,EAAa,GAAIQ,EAAwBA,GAEzC2B,EAAU,cAAe,CACxBxV,QACA4G,SAAUsM,KACPkE,GAAoB,CAAErc,QAASqc,MAC/BF,EAAapwB,MAAQ,CAAEA,KAAMowB,EAAapwB,QAuB/C4V,eAAe4a,EAAuBvkB,GACrC,MAAM,OAAE7H,GAAW6H,EAEnB,IAAK7H,EAAOqsB,UAAUC,SAAS,mBAC9B,OAGD9M,GAAK3X,GACL,MAAM6T,EAAW6Q,SAASvsB,EAAOgB,GAAG0c,MAAM,GAAI,IAC9CyK,EAAa,GAAIH,EAAkBtM,GACnCyM,EAAa,GAAIsB,GAAyB,GAC1CU,EAAM,mBACNG,EAAU,mBAAoB,CAAE5O,aAGhCsN,EAASwD,qBAAqB9Q,GArN/B2D,GAAyB3V,KAAK+iB,IACxBA,GACJtE,EAAa,EAAGI,EAAUQ,EAAKvM,2BF7xBjBnd,EEsyBRmS,gBACD5H,IACNue,EAAa,GAAI1N,EAASA,GA/1CL,MAg2CrB0N,EAAa,GAAIxP,EAAaA,GAj2CJ,+DFyjBxB3P,IAAwBgB,GAAGwD,SAAS7P,KAAK0B,GAK7C,SAAmBA,GACf2J,IAAwBgB,GAAG+C,WAAWpP,KAAK0B,GEqyB9CqtB,CAAUlb,UACLwX,SACGA,EAASrW,UA2kBjB,OA1SAsV,EAAO0E,KAAOzE,IACT,WAAYA,GAASC,EAAa,GAAI1N,EAASyN,EAAQzN,QACvD,eAAgByN,GAASC,EAAa,GAAIxP,EAAauP,EAAQvP,YAC/D,kBAAmBuP,GAASC,EAAa,GAAIW,EAAgBZ,EAAQY,eACrE,SAAUZ,GAASC,EAAa,EAAGY,EAAOb,EAAQa,MAClD,aAAcb,GAASC,EAAa,GAAIa,EAAWd,EAAQc,UAC3D,gBAAiBd,GAASC,EAAa,GAAIpQ,EAAcmQ,EAAQnQ,cAGtEkQ,EAAOje,GAAGxG,OAAS,KAoBlB,GAnB0D,IAAtDykB,EAAOje,GAAGQ,MAAM,IAEdiQ,GAAU9B,KAAgBqQ,GAAYA,EAASvO,SAAWA,GAAUuO,EAASrQ,aAAeA,IAC/FwP,EAAa,GAAIa,EAAW,IAAI,GAAS,CAAErQ,aAAY8B,YAKP,KAA/CwN,EAAOje,GAAGQ,MAAM,IAKduN,GAAeiR,GAClBb,EAAa,GAAIa,EAASjR,YAAcA,EAAaiR,GAKb,IAAvCf,EAAOje,GAAGQ,MAAM,GAA+D,IAAlCyd,EAAOje,GAAGQ,MAAM,GAI/D,CAyBIwe,GAvBJxX,iBACC,MAAMob,EAAgB9O,WACrB,KACCqK,EAAa,EAAGI,EAAUQ,EAAKrM,iBA3oDC,KAgpDlC,UACOsM,EAASrb,QACfwa,EAAa,GAAI+B,GAAS,GACzB,MAAM/N,GACP7D,QAAQnH,MAAMgL,GACdgM,EAAa,EAAGI,EAAUQ,EAAKpM,qBAC9B,QACDkQ,aAAaD,GAETrE,IAAYQ,EAAKrM,gBACpByL,EAAa,EAAGI,EAAU,KAO5BuE,GAkCH,GA7BoC,QAAhC7E,EAAOje,GAAGQ,MAAM,GAA+D,KAArCyd,EAAOje,GAAGQ,MAAM,KAExDuN,GAAeA,EAAY3Y,OAC9B+oB,EAAa,GAAI8B,EAAW,CAACtM,MAAgBF,KACnCwM,IAAaxM,IACvB0K,EAAa,GAAI8B,EAAWxM,KAKY,EAAvCwK,EAAOje,GAAGQ,MAAM,IAKlBoT,GAAI,KACHuK,EAAa,GAAIiB,GAAcD,GAAiB,IAAI7iB,QACpD6hB,EAAa,EAAGmB,GAAoB,KAKH,QAAhCrB,EAAOje,GAAGQ,MAAM,GAAqE,OAA3Cyd,EAAOje,GAAGQ,MAAM,IAI5D2d,EAAa,GAAIS,EAAeqB,EAASD,IAGD,QAAtC/B,EAAOje,GAAGQ,MAAM,GAA8E,KAA9Cyd,EAAOje,GAAGQ,MAAM,GAKlE,EACAgH,iBAEMwX,EAGMI,EAAWhqB,QA7uDI,GA8uDzB+oB,EAAa,EAAGc,QAAsB2C,EAAuBxC,IAC7DjB,EAAa,EAAGkB,GAAa,IACnBT,IACVT,EAAa,EAAGc,QAAsB0C,EAAiB/C,EAAa5nB,KACpEmnB,EAAa,EAAGkB,GAAa,KAP7BlB,EAAa,EAAGc,EAAgB,IAChCd,EAAa,EAAGkB,GAAa,IAW/B0D,GAeF,GAXgD,QAA5C9E,EAAOje,GAAGQ,MAAM,IAIlB2d,EAAa,GAAIO,EAAc,sBAChBvK,wBACD8L,EAAS7qB,oCACFiqB,EAAa,EAAI,8BAIF,IAAlCpB,EAAOje,GAAGQ,MAAM,GAIlB,EACAgH,iBACKwX,GACHb,EAAa,GAAIH,QAAwBgB,EAASgE,wBAKpDC,GAgBF,GAZ2C,KAAvChF,EAAOje,GAAGQ,MAAM,IAClB2d,EAAa,GAAIjT,EAAY/G,MAtxDV,GAsxDgCL,OAAO9P,IAAI,CAAC4R,EAAGvU,IArpDtE,SAAwB4T,EAAKyM,GAC3B,GAAiB,IAAbA,EACF,OAAOzM,EAET,MAAMie,EAAWje,EAAIvM,QAXX,KAYV,OAAkB,IAAdwqB,EACKje,EAAIke,UAAU,EAAGD,GACtBnT,OAAOqT,cAbW,OAaqB1R,EAAW,GAClDzM,EAAIke,UAAUD,IAEdje,EAAIoe,SAnBiB,OAoBvBpe,EAAMA,EAAIke,UAAU,EAAGle,EAAI7P,OAAS,IAE/B6P,EArBiB,SAqBS8K,OAAOqT,cAlBT,MAkBkD1R,EAAW,IAwoDlB4R,CAAcxE,EAAeztB,KAG/C,OAApD4sB,EAAOje,GAAGQ,MAAM,IAClB2d,EAAa,GAAIM,EAAqBvT,EAAU8S,IAGC,MAA/CC,EAAOje,GAAGQ,MAAM,IAClB2d,EAAa,GAAIyB,EAAsBb,EAAK9L,cAAchX,QAAQ,aAAc8iB,EAAK7T,UAAU8S,KAG3D,IAAlCC,EAAOje,GAAGQ,MAAM,GAIlB,CAKIwe,GAJJxX,iBACC2W,EAAa,GAAIQ,SAA+Brf,QAAQ3J,IAAIue,GAAyBlgB,IAAI6R,GAAWmZ,EAAS+C,wBAAwBlc,MAAY7K,OAAOC,UAKxJsoB,GAKH,GAAyE,MAArEtF,EAAOje,GAAGQ,MAAM,GAClB,CAOIwe,GAAYL,GANhBnX,iBACC,MAAMgc,QAAoBxE,EAAS9M,oBAAoB4N,GACjD2D,QAAkBlC,EAAgB,GAAO,IAAIiC,KAAgB7E,GAAwB/Y,GAAKA,EAAEC,SAAWD,EAAEhU,MAAM8hB,MAAM,EAAGoM,IAC9H3B,EAAa,GAAI0B,EAAmB4D,GAKpCC,GAoBH,GAfuE,OAAnEzF,EAAOje,GAAGQ,MAAM,IAQjB2d,EAAa,GAAIqB,EADdxJ,GAC+B,yBAAyBgK,EAAoBT,QAE7C,yBAA6C,IAApBS,QAKnB,EAAvC/B,EAAOje,GAAGQ,MAAM,GAIlB,CACA,MAAMqgB,EAAmB5B,EAAcjkB,OAAO8P,GAASA,EAAMjF,SAAS7K,OAAO8P,GAASiJ,GAAOjJ,KAAWyK,GAAmBpV,IAAI2K,EAAMjF,UAEjIgb,EAAiBzrB,OAEpB0gB,GAAI,IAAM8K,EAAyBC,KAEnC1C,EAAa,EAAGc,EAAgBA,EAAcjkB,OAAOomB,IAErDtL,GAAI,KAGFqI,EAAa,EAAGG,EAAgBqF,UAAY,EAAGrF,MAmBpD,GAZIL,EAAOje,GAAGQ,MAAM,GAAmDyd,EAAOje,GAAGQ,MAAM,GAYhC,IAAnDyd,EAAOje,GAAGQ,MAAM,GAKlB,CAuBA2d,EAAa,EAAGe,EAtBhB,WACC,GAAIG,EACH,MAAO,CAAC,CAAE1F,SAAU,GAAIpU,OAAQ0Z,IAGjC,MAAM2E,EAAoB,IAAI7hB,IAE9B,IAAK,MAAM+I,KAASmU,EAAe,CAClC,MAAMtF,EAAW7O,EAAM6O,UAAY,GACnC,IAAIpU,EAASqe,EAAkB1xB,IAAIynB,GAE9BpU,IACJA,EAAS,GACTqe,EAAkB1hB,IAAIyX,EAAUpU,IAGjCA,EAAO5R,KAAKmX,GAGb,MAAO,IAAI8Y,EAAkBld,WAAW1S,IAAI,EAAE2lB,EAAUpU,MAAY,CAAGoU,WAAUpU,YAAW0F,KAAK,CAAChO,EAAGC,IAAMD,EAAE0c,SAAWzc,EAAEyc,UAAY,EAAI,GAG7FkK,IAIa,IAAzD5F,EAAOje,GAAGQ,MAAM,IAIlB2d,EAAa,GAAIU,GAA2C,IAAtBS,GAA2BL,EAAcK,GAAkBtoB,IAG7B,MAAlEinB,EAAOje,GAAGQ,MAAM,KAKdif,EACHjB,EAAiBzgB,iBAChB,gBACA,KACCogB,EAAa,GAAIuB,GAAuC,IAEzD,CAAEoE,MAAM,IAGT3F,EAAa,GAAIuB,GAAuC,KAMrD,CACNX,EACAE,EACAC,EACAC,EACAf,EACAC,EACAC,EACAe,EACAC,EACAf,EACAiB,EACAC,EACAC,EACAlB,EACAR,EACA2B,EACAlB,EACAC,EACAkB,EACA1U,EACA2U,EACAE,EACAE,EACArB,EACAsB,EACArB,EA/nBD,SAAuB/T,EAAOkT,GAC7B,OAtjCaxY,EAsjCD,CAACsF,EAAMlZ,MAAQ6mB,GAAgB3N,EAAOkT,MAAqBlT,EAAMH,YArjCtE,GAAOnF,EAAKI,GAAKA,IAqjCkE3Q,KAAK,MAtjCjG,IAAeuQ,GA0lCd,SAAiChI,GAChC,OAAO0Y,GAAe1Y,EAAM+W,IAC3B,MAAMwP,EAEJxB,SAASyB,iBAAiB5F,GAAa6F,iBAAiB,iBAAkB,IAMtEC,EAFJ1mB,EAAK2mB,cAAc5N,wBAAwBhC,MAELA,EACxC4J,EAAa,GAAI2B,EAAaiE,GAC9B5F,EAAa,GAAI4B,EAAiBmE,MAQpC,SAAiC1mB,GAChC,OAAO0Y,GAAe1Y,EAAM+W,IAC3B4J,EAAa,GAAIoB,EAAyBhL,MAoD5C,SAAyB1W,GACxB,IAAKwhB,IAAeJ,EAAc7pB,OACjC,OAGD,MAAMgvB,EAAqBC,IAC1B7O,GAAK3X,GACLsgB,EAAa,EAAGmB,EAAmB3J,GAAqB0O,EAAU/E,EAAkBL,KAGrF,OAAQphB,EAAMjL,KACb,IAAK,YACJ,OAAOwxB,GAAmB,GAC3B,IAAK,UACJ,OAAOA,GAAmB,GAC3B,IAAK,QACJ,IAA0B,IAAtB9E,EAEH,OADA9J,GAAK3X,GACEikB,EAAW7C,EAAcK,GAAkBtoB,IACxCioB,EAAc7pB,QACxB+oB,EAAa,EAAGmB,EAAmB,KAigBtCuC,EAhfD,SAAsBhkB,GACrB,MAAM,OAAE7H,EAAM,IAAEpD,GAAQiL,EAElBymB,EAAUnrB,IACXA,IACHqc,GAAK3X,GACL1E,EAAGgnB,UAIL,OAAQvtB,GACP,IAAK,YACJ,OAAO0xB,EAAQtuB,EAAOuuB,iBACvB,IAAK,aACJ,OAAOD,EAAQtuB,EAAOiC,eAyBzBuP,eAA4B3J,GAC3B,MAAM,OAAE7H,GAAW6H,EAEnB,IAAK7H,EAAOqsB,UAAUC,SAAS,SAC9B,OAGD9M,GAAK3X,GAILikB,EAHW9rB,EAAOgB,GAAGmsB,UAAU,KAoc/Bf,EAvaD5a,eAAqC3J,GACpCsgB,EAAa,GAAIsB,GAA0BA,GAC3CtB,EAAa,GAAIwB,EAAiB3B,GAE9ByB,IACHjK,GAAK3X,GACLiY,GAAI,IAAMqK,EAAM,YAAYR,MAK9B,SAAkC9hB,GACjC,IAAK4hB,EACJ,OAGD,MAAM2E,EAAqB5c,UAC1BgO,GAAK3X,GACLsgB,EAAa,GAAIwB,EAAiBhK,GAAqB0O,EAAU1E,EAAgBzU,UAC3EtL,IACNugB,EAAM,YAAYR,IAGnB,OAAQ9hB,EAAMjL,KACb,IAAK,UACJ,OAAOwxB,GAAmB,GAC3B,IAAK,YACJ,OAAOA,GAAmB,GAC3B,IAAK,QAGJ,OAAOhC,EAAuBvkB,KAKjC,SAAgCA,GAC/B,GAAK4hB,EAIL,OAAQ5hB,EAAMjL,KACb,IAAK,IAGJ,OAAOwvB,EAAuBvkB,KAKjC2J,eAAyC3J,GAGxC,MAAM,cAAE2mB,GAAkB3mB,EAErB2mB,GAAkBA,EAAcnC,UAAUC,SAAS,oBACvDnE,EAAa,GAAIsB,GAAyB,IAoX3ChP,EACA9B,EACAqQ,EACAF,EACA/Q,GA9rBiB,EAgsBjBqR,EACAG,EACAZ,EACAmB,EACAE,EACAG,EACAG,EACAM,EACAQ,EACAC,EACAE,EACAI,EACAC,EACAE,EAnYD,WACC3C,EAAgBprB,KAAKzB,MACrB6rB,EAAa,EAAGgB,IAGjB,SAAsBsF,GACrBvlB,EAAkBulB,EAAU,UAAY,QAAQ,KAC/CtG,EAAa,GAAIK,EAAmBiG,MAIhBha,GAASoX,EAAWpX,GAE1C,SAAsBga,GACrBvlB,EAAkBulB,EAAU,UAAY,QAAQ,KAC/CtG,EAAa,EAAGG,EAAkBmG,MAIpC,SAAyBA,GACxBvlB,EAAkBulB,EAAU,UAAY,QAAQ,KAC/CtG,EAAa,EAAGE,EAAgBoG,MAIlC,SAAyBA,GACxBvlB,EAAkBulB,EAAU,UAAY,QAAQ,KAC/CtG,EAAa,EAAGC,EAAcqG,OAkXjC,MAAM,WAAe7hB,EACpB,YAAYtP,GACXmR,QACA1Q,KAAK2wB,WAAWC,UAAY,ooKAE5B3hB,EACCjP,KACA,CAAEiC,OAAQjC,KAAK2wB,YACfzhB,GACAC,GACAlG,EACA,CACCyT,OAAQ,GACR9B,WAAY,GACZmQ,cAAe,GACfC,KAAM,EACNC,SAAU,GACVjR,YAAa,IAEd,EAAE,GAAI,GAAI,IAGPza,IACCA,EAAQ0C,QACXyH,EAAOnK,EAAQ0C,OAAQjC,KAAMT,EAAQoK,QAGlCpK,EAAQ8P,QACXrP,KAAK4uB,KAAKrvB,EAAQ8P,OAClBzD,MAKH,gCACC,MAAO,CAAC,SAAU,aAAc,gBAAiB,OAAQ,WAAY,eAGtE,aACC,OAAO5L,KAAKiM,GAAGS,IAAI,IAGpB,WAAWgQ,GACV1c,KAAK4uB,KAAK,CAAElS,WACZ9Q,IAGD,iBACC,OAAO5L,KAAKiM,GAAGS,IAAI,IAGpB,eAAekO,GACd5a,KAAK4uB,KAAK,CAAEhU,eACZhP,IAGD,oBACC,OAAO5L,KAAKiM,GAAGS,IAAI,IAGpB,kBAAkBqe,GACjB/qB,KAAK4uB,KAAK,CAAE7D,kBACZnf,IAGD,WACC,OAAO5L,KAAKiM,GAAGS,IAAI,GAGpB,SAASse,GACRhrB,KAAK4uB,KAAK,CAAE5D,SACZpf,IAGD,eACC,OAAO5L,KAAKiM,GAAGS,IAAI,IAGpB,aAAaue,GACZjrB,KAAK4uB,KAAK,CAAE3D,aACZrf,IAGD,kBACC,OAAO5L,KAAKiM,GAAGS,IAAI,IAGpB,gBAAgBsN,GACfha,KAAK4uB,KAAK,CAAE5U,gBACZpO,KAIF,MAAMilB,WAAiB,GACrB,YAAaxhB,GAEXqB,MAAM,CAAErB,UAGV,uBACErP,KAAK+Q,YAIT+f,eAAeC,OAAO,eAAgBF,IAEvB,U,sFFj8DJ,EAAK,K,+QGxKyBG,I,oDA/B5BA,K,IACDC,EAAWtvB,SAAS2qB,eAAe,UACvC2E,EAASC,SACTD,EAASE,kBAAkB,EAAG,OAC9BxvB,SAASyvB,YAAY,Q,qBAhBnBC,EAAS,IAAI,G,IACfC,EAAa,GACbC,EAAY,GACZj0B,GAAK,E,OAETqE,SAAS6vB,KAAKptB,YAAYitB,GAC1BA,EAAOrnB,iBAAiB,cAAeF,IACnCwnB,EAAaA,EAAWzwB,OAAOiJ,EAAM0iB,OAAOzV,MAAMjF,SAClDxU,EAAIg0B,EAAWjwB,OAAS,EACxBkwB,EAAaznB,EAAM0iB,OAAOzV,MAAMjF,QAChCnQ,SAASQ,cAAc,SAAS5D,OAASgzB,I,wECXjDE,WAAWxiB,KAAK,CACZyiB,KAAM,WAEF,IAAMC,EAAM,IAAIC,GAAI,CAChB3vB,OAAQN,SAAS6vB,OAGrB9vB,OAAOiwB,IAAMA,GAEjBE,oBAAsB,aAGtBC,iBAAmB,WACXH,IAAII","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./App.svelte.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./App.svelte.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./App.svelte.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".copy.svelte-1puvk01{display:flex;max-width:344px}#emojis.svelte-1puvk01{padding:5px;background:#DDD;border-radius:10px;width:264px;margin:3px;height:30px;border:none}button.svelte-1puvk01{width:100px;height:30px;margin-top:5px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    for (var i = 0; i < modules.length; i++) {\n      var item = [].concat(modules[i]);\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.24.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","function assertNonEmptyString (str) {\n  if (typeof str !== 'string' || !str) {\n    throw new Error('expected a non-empty string, got: ' + str)\n  }\n}\n\nfunction assertNumber (number) {\n  if (typeof number !== 'number') {\n    throw new Error('expected a number, got: ' + number)\n  }\n}\n\nconst DB_VERSION_CURRENT = 1;\nconst DB_VERSION_INITIAL = 1;\nconst STORE_EMOJI = 'emoji';\nconst STORE_KEYVALUE = 'keyvalue';\nconst STORE_FAVORITES = 'favorites';\nconst FIELD_TOKENS = 'tokens';\nconst INDEX_TOKENS = 'tokens';\nconst FIELD_UNICODE = 'unicode';\nconst INDEX_COUNT = 'count';\nconst FIELD_GROUP = 'group';\nconst FIELD_ORDER = 'order';\nconst INDEX_GROUP_AND_ORDER = 'group-order';\nconst KEY_ETAG = 'eTag';\nconst KEY_URL = 'url';\nconst KEY_PREFERRED_SKINTONE = 'skinTone';\nconst MODE_READONLY = 'readonly';\nconst MODE_READWRITE = 'readwrite';\nconst INDEX_SKIN_UNICODE = 'skinUnicodes';\nconst FIELD_SKIN_UNICODE = 'skinUnicodes';\n\nconst DEFAULT_DATA_SOURCE = 'https://cdn.jsdelivr.net/npm/emojibase-data@5/en/data.json';\nconst DEFAULT_LOCALE = 'en';\n\n// like lodash's uniqBy but much smaller\nfunction uniqBy (arr, func) {\n  const set = new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set.has(key)) {\n      set.add(key);\n      res.push(item);\n    }\n  }\n  return res\n}\n\nfunction uniqEmoji (emojis) {\n  return uniqBy(emojis, _ => _.unicode)\n}\n\nfunction initialMigration (db, tx, done) {\n  function createObjectStore (name, keyPath, indexes) {\n    const store = keyPath\n      ? db.createObjectStore(name, { keyPath })\n      : db.createObjectStore(name);\n    if (indexes) {\n      for (const [indexName, [keyPath, multiEntry]] of Object.entries(indexes)) {\n        store.createIndex(indexName, keyPath, { multiEntry });\n      }\n    }\n    return store\n  }\n\n  createObjectStore(STORE_KEYVALUE);\n  createObjectStore(STORE_EMOJI, /* keyPath */ FIELD_UNICODE, {\n    [INDEX_TOKENS]: [FIELD_TOKENS, /* multiEntry */ true],\n    [INDEX_GROUP_AND_ORDER]: [[FIELD_GROUP, FIELD_ORDER]],\n    [INDEX_SKIN_UNICODE]: [FIELD_SKIN_UNICODE, /* multiEntry */ true]\n  });\n  createObjectStore(STORE_FAVORITES, undefined, {\n    [INDEX_COUNT]: ['']\n  });\n  done();\n}\n\nconst migrations = [\n  {\n    version: DB_VERSION_INITIAL,\n    migration: initialMigration\n  }\n];\n\nconst openReqs = {};\nconst databaseCache = {};\nconst onCloseListeners = {};\n\nfunction handleOpenOrDeleteReq (resolve, reject, req) {\n  req.onerror = () => reject(req.error);\n  req.onblocked = () => reject(new Error('IDB blocked'));\n  req.onsuccess = () => resolve(req.result);\n}\n\nasync function createDatabase (dbName) {\n  const db = await new Promise((resolve, reject) => {\n    const req = indexedDB.open(dbName, DB_VERSION_CURRENT);\n    openReqs[dbName] = req;\n    req.onupgradeneeded = e => {\n      const db = req.result;\n      const tx = e.currentTarget.transaction;\n\n      const migrationsToDo = migrations.filter(({ version }) => e.oldVersion < version);\n\n      function doNextMigration () {\n        if (!migrationsToDo.length) {\n          return\n        }\n        const { migration } = migrationsToDo.shift();\n        migration(db, tx, doNextMigration);\n      }\n      doNextMigration();\n    };\n    handleOpenOrDeleteReq(resolve, reject, req);\n  });\n  // Handle abnormal closes, e.g. \"delete database\" in chrome dev tools.\n  // No need for removeEventListener, because once the DB can no longer\n  // fire \"close\" events, it will auto-GC.\n  db.onclose = () => closeDatabase(dbName);\n  return db\n}\n\nfunction openDatabase (dbName) {\n  if (!databaseCache[dbName]) {\n    databaseCache[dbName] = createDatabase(dbName);\n  }\n  return databaseCache[dbName]\n}\n\nfunction dbPromise (db, storeName, readOnlyOrReadWrite, cb) {\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(storeName, readOnlyOrReadWrite);\n    const store = typeof storeName === 'string'\n      ? tx.objectStore(storeName)\n      : storeName.map(name => tx.objectStore(name));\n    let res;\n    cb(store, (result) => {\n      res = result;\n    });\n\n    tx.oncomplete = () => resolve(res);\n    tx.onerror = () => reject(tx.error);\n  })\n}\n\nfunction closeDatabase (dbName) {\n  // close any open requests\n  const req = openReqs[dbName];\n  const db = req && req.result;\n  if (db) {\n    db.close();\n    const listeners = onCloseListeners[dbName];\n    if (listeners) {\n      for (const listener of listeners) {\n        listener();\n      }\n    }\n  }\n  delete openReqs[dbName];\n  delete databaseCache[dbName];\n  delete onCloseListeners[dbName];\n}\n\nfunction deleteDatabase (dbName) {\n  return new Promise((resolve, reject) => {\n    // close any open requests\n    closeDatabase(dbName);\n    const req = indexedDB.deleteDatabase(dbName);\n    handleOpenOrDeleteReq(resolve, reject, req);\n  })\n}\n\n// The \"close\" event occurs during an abnormal shutdown, e.g. a user clearing their browser data.\n// However, it doesn't occur with the normal \"close\" event, so we handle that separately.\n// https://www.w3.org/TR/IndexedDB/#close-a-database-connection\nfunction addOnCloseListener (dbName, listener) {\n  let listeners = onCloseListeners[dbName];\n  if (!listeners) {\n    listeners = onCloseListeners[dbName] = [];\n  }\n  listeners.push(listener);\n}\n\nconst MIN_SEARCH_TEXT_LENGTH = 2;\n\n// list of emoticons that don't match a simple \\W+ regex\n// extracted using:\n// require('emojibase-data/en/data.json').map(_ => _.emoticon).filter(Boolean).filter(_ => !/^\\W+$/.test(_))\nconst irregularEmoticons = new Set([\n  ':D', 'xD', \":'D\", 'o:)',\n  ':x', ':p', ';p', 'xp',\n  ':l', ':z', ':j', '8D',\n  'xo', '8)', ':B', ':o',\n  ':s', \":'o\", 'Dx', 'x(',\n  'D:', ':c', '>0)', ':3',\n  '</3', '<3', '\\\\m/', ':E',\n  '8#'\n]);\n\nfunction extractTokens (str) {\n  return str\n    .split(/[\\s_]+/)\n    .map(word => {\n      if (!word.match(/\\w/) || irregularEmoticons.has(word)) {\n        // for pure emoticons like :) or :-), just leave them as-is\n        return word.toLowerCase()\n      }\n\n      return word\n        .replace(/[)(:,]/g, '')\n        .replace(//g, \"'\")\n        .toLowerCase()\n    }).filter(Boolean)\n}\n\n// Transform emojibase data for storage in IDB\nfunction transformEmojiBaseData (emojiBaseData) {\n  const res = emojiBaseData.map(({ annotation, emoticon, group, order, shortcodes, skins, tags, emoji, version }) => {\n    const tokens = [...new Set(\n      [\n        ...shortcodes.map(extractTokens).flat(),\n        ...tags.map(extractTokens).flat(),\n        ...extractTokens(annotation),\n        emoticon\n      ]\n        .filter(Boolean)\n        .map(_ => _.toLowerCase())\n        .filter(_ => _.length >= MIN_SEARCH_TEXT_LENGTH)\n    )].sort();\n    const res = {\n      annotation,\n      group,\n      order,\n      shortcodes,\n      tags,\n      tokens,\n      unicode: emoji,\n      version\n    };\n    if (emoticon) {\n      res.emoticon = emoticon;\n    }\n    if (skins) {\n      res.skinTones = [];\n      res.skinUnicodes = [];\n      res.skinVersions = [];\n      for (const { tone, emoji, version } of skins) {\n        res.skinTones.push(tone);\n        res.skinUnicodes.push(emoji);\n        res.skinVersions.push(version);\n      }\n    }\n    return res\n  });\n  return res\n}\n\n// helper functions that help compress the code better\n\nfunction callStore (store, method, key, cb) {\n  store[method](key).onsuccess = e => (cb && cb(e.target.result));\n}\n\nfunction getIDB (store, key, cb) {\n  callStore(store, 'get', key, cb);\n}\n\nfunction getAllIDB (store, key, cb) {\n  callStore(store, 'getAll', key, cb);\n}\n\nfunction getAllKeysIDB (store, key, cb) {\n  callStore(store, 'getAllKeys', key, cb);\n}\n\n// like lodash's minBy\nfunction minBy (array, func) {\n  let minItem = array[0];\n  for (let i = 1; i < array.length; i++) {\n    const item = array[i];\n    if (func(minItem) > func(item)) {\n      minItem = item;\n    }\n  }\n  return minItem\n}\n\n// return an array of results representing all items that are found in each one of the arrays\n\nfunction findCommonMembers (arrays, uniqByFunc) {\n  const shortestArray = minBy(arrays, _ => _.length);\n  const results = [];\n  for (const item of shortestArray) {\n    // if this item is included in every array in the intermediate results, add it to the final results\n    if (!arrays.some(array => array.findIndex(_ => uniqByFunc(_) === uniqByFunc(item)) === -1)) {\n      results.push(item);\n    }\n  }\n  return results\n}\n\nasync function isEmpty (db) {\n  return !(await get(db, STORE_KEYVALUE, KEY_URL))\n}\n\nasync function hasData (db, url, eTag) {\n  const [oldETag, oldUrl] = await Promise.all([KEY_ETAG, KEY_URL]\n    .map(key => get(db, STORE_KEYVALUE, key)));\n  return (oldETag === eTag && oldUrl === url)\n}\n\nasync function loadData (db, emojiBaseData, url, eTag) {\n  try {\n    const transformedData = transformEmojiBaseData(emojiBaseData);\n    await dbPromise(db, [STORE_EMOJI, STORE_KEYVALUE], MODE_READWRITE, ([emojiStore, metaStore]) => {\n      let oldETag;\n      let oldUrl;\n      let oldKeys;\n      let todo = 0;\n\n      function checkFetched () {\n        if (++todo === 3) {\n          onFetched();\n        }\n      }\n\n      function onFetched () {\n        if (oldETag === eTag && oldUrl === url) {\n          // check again within the transaction to guard against concurrency, e.g. multiple browser tabs\n          return\n        }\n        // delete old data\n        for (const key of oldKeys) {\n          emojiStore.delete(key);\n        }\n        // insert new data\n        for (const data of transformedData) {\n          emojiStore.put(data);\n        }\n        metaStore.put(eTag, KEY_ETAG);\n        metaStore.put(url, KEY_URL);\n      }\n\n      getIDB(metaStore, KEY_ETAG, result => {\n        oldETag = result;\n        checkFetched();\n      });\n\n      getIDB(metaStore, KEY_URL, result => {\n        oldUrl = result;\n        checkFetched();\n      });\n\n      getAllKeysIDB(emojiStore, undefined, result => {\n        oldKeys = result;\n        checkFetched();\n      });\n    });\n  } finally {\n  }\n}\n\nasync function getEmojiByGroup (db, group) {\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, cb) => {\n    const range = IDBKeyRange.bound([group, 0], [group + 1, 0], false, true);\n    getAllIDB(emojiStore.index(INDEX_GROUP_AND_ORDER), range, cb);\n  })\n}\n\nasync function getEmojiBySearchQuery (db, query) {\n  const tokens = extractTokens(query);\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, cb) => {\n    // get all results that contain all tokens (i.e. an AND query)\n    const intermediateResults = [];\n\n    const checkDone = () => {\n      if (intermediateResults.length === tokens.length) {\n        onDone();\n      }\n    };\n\n    const onDone = () => {\n      const results = findCommonMembers(intermediateResults, _ => _.unicode);\n      cb(results.sort((a, b) => a.order < b.order ? -1 : 1));\n    };\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n      const range = i === tokens.length - 1\n        ? IDBKeyRange.bound(token, token + '\\uffff', false, true) // treat last token as a prefix search\n        : IDBKeyRange.only(token); // treat all other tokens as an exact match\n      getAllIDB(emojiStore.index(INDEX_TOKENS), range, result => {\n        intermediateResults.push(result);\n        checkDone();\n      });\n    }\n  })\n}\n\nasync function getEmojiByShortcode (db, shortcode) {\n  const emojis = await getEmojiBySearchQuery(db, shortcode);\n  return emojis.filter(_ => {\n    const lowerShortcodes = _.shortcodes.map(_ => _.toLowerCase());\n    return lowerShortcodes.includes(shortcode.toLowerCase())\n  })[0] || null\n}\n\nasync function getEmojiByUnicode (db, unicode) {\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, cb) => (\n    getIDB(emojiStore, unicode, result => {\n      if (result) {\n        return cb(result)\n      }\n      getIDB(emojiStore.index(INDEX_SKIN_UNICODE), unicode, result => cb(result || null));\n    })\n  ))\n}\n\nfunction get (db, storeName, key) {\n  return dbPromise(db, storeName, MODE_READONLY, (store, cb) => (\n    getIDB(store, key, cb)\n  ))\n}\n\nfunction set (db, storeName, key, value) {\n  return dbPromise(db, storeName, MODE_READWRITE, (store) => (\n    store.put(value, key)\n  ))\n}\n\nfunction incrementFavoriteEmojiCount (db, unicode) {\n  return dbPromise(db, STORE_FAVORITES, MODE_READWRITE, (store) => {\n    getIDB(store, unicode, result => (\n      store.put((result || 0) + 1, unicode)\n    ));\n  })\n}\n\nfunction getTopFavoriteEmoji (db, customEmojiIndex, limit) {\n  if (limit === 0) {\n    return []\n  }\n  return dbPromise(db, [STORE_FAVORITES, STORE_EMOJI], MODE_READONLY, ([favoritesStore, emojiStore], cb) => {\n    const results = [];\n    favoritesStore.index(INDEX_COUNT).openCursor(undefined, 'prev').onsuccess = e => {\n      const cursor = e.target.result;\n      if (!cursor) { // no more results\n        return cb(results)\n      }\n\n      function addResult (result) {\n        results.push(result);\n        if (results.length === limit) {\n          return cb(results) // done, reached the limit\n        }\n        cursor.continue();\n      }\n\n      const unicodeOrName = cursor.primaryKey;\n      const custom = customEmojiIndex.byName(unicodeOrName);\n      if (custom) {\n        return addResult(custom)\n      }\n      // TODO: this could be optimized by doing the get and the cursor.continue() in parallel\n      getIDB(emojiStore, unicodeOrName, emoji => {\n        if (emoji) {\n          return addResult(emoji)\n        }\n        // emoji not found somehow, ignore (may happen if custom emoji change)\n        cursor.continue();\n      });\n    };\n  })\n}\n\n// @rollup/plugin-strip doesn't strip console.logs properly\n\nfunction log () {\n}\n\nfunction warn () {\n  /* istanbul ignore if */\n  {\n    console.warn(...arguments);\n  }\n}\n\n// trie data structure for prefix searches\n// loosely based on https://github.com/nolanlawson/substring-trie\n\nconst CODA_MARKER = ''; // marks the end of the string\n\nfunction trie (arr, itemToTokens) {\n  const map = new Map();\n  for (const item of arr) {\n    const tokens = itemToTokens(item);\n    for (const token of tokens) {\n      let currentMap = map;\n      for (let i = 0; i < token.length; i++) {\n        const char = token.charAt(i);\n        let nextMap = currentMap.get(char);\n        if (!nextMap) {\n          nextMap = new Map();\n          currentMap.set(char, nextMap);\n        }\n        currentMap = nextMap;\n      }\n      let valuesAtCoda = currentMap.get(CODA_MARKER);\n      if (!valuesAtCoda) {\n        valuesAtCoda = [];\n        currentMap.set(CODA_MARKER, valuesAtCoda);\n      }\n      valuesAtCoda.push(item);\n    }\n  }\n\n  const search = (query, exact) => {\n    let currentMap = map;\n    for (let i = 0; i < query.length; i++) {\n      const char = query.charAt(i);\n      const nextMap = currentMap.get(char);\n      if (nextMap) {\n        currentMap = nextMap;\n      } else {\n        return []\n      }\n    }\n\n    if (exact) {\n      const results = currentMap.get(CODA_MARKER);\n      return results || []\n    }\n\n    const results = [];\n    // traverse\n    const queue = currentMap ? [currentMap] : [];\n    while (queue.length) {\n      const currentMap = queue.shift();\n      const entriesSortedByKey = [...currentMap.entries()].sort((a, b) => a[0] < b[0] ? -1 : 1);\n      for (const [key, value] of entriesSortedByKey) {\n        if (key === CODA_MARKER) { // CODA_MARKER always comes first; it's the empty string\n          results.push(...value);\n        } else {\n          queue.push(value);\n        }\n      }\n    }\n    return results\n  };\n\n  return search\n}\n\nconst requiredKeys = [\n  'name',\n  'shortcodes',\n  'url'\n];\n\nfunction assertCustomEmojis (customEmojis) {\n  const isArray = customEmojis && Array.isArray(customEmojis);\n  const firstItemIsFaulty = isArray &&\n    customEmojis.length &&\n    (!customEmojis[0] || requiredKeys.some(key => !(key in customEmojis[0])));\n  if (!isArray || firstItemIsFaulty) {\n    throw new Error('Expected custom emojis to be in correct format')\n  }\n}\n\nfunction customEmojiIndex (customEmojis) {\n  assertCustomEmojis(customEmojis);\n\n  const sortByName = (a, b) => a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1;\n\n  //\n  // all()\n  //\n  const all = customEmojis.sort(sortByName);\n\n  //\n  // search()\n  //\n  const emojiToTokens = emoji => (\n    [...new Set(emoji.shortcodes.map(shortcode => extractTokens(shortcode)).flat())]\n  );\n  const searchTrie = trie(customEmojis, emojiToTokens);\n  const searchByExactMatch = _ => searchTrie(_, true);\n  const searchByPrefix = _ => searchTrie(_, false);\n\n  // Search by query for custom emoji. Similar to how we do this in IDB, the last token\n  // is treated as a prefix search, but every other one is treated as an exact match.\n  // Then we AND the results together\n  const search = query => {\n    const tokens = extractTokens(query);\n    const intermediateResults = tokens.map((token, i) => (\n      (i < tokens.length - 1 ? searchByExactMatch : searchByPrefix)(token)\n    ));\n    return findCommonMembers(intermediateResults, _ => _.name).sort(sortByName)\n  };\n\n  //\n  // byShortcode, byName\n  //\n  const shortcodeToEmoji = new Map();\n  const nameToEmoji = new Map();\n  for (const customEmoji of customEmojis) {\n    nameToEmoji.set(customEmoji.name.toLowerCase(), customEmoji);\n    for (const shortcode of customEmoji.shortcodes) {\n      shortcodeToEmoji.set(shortcode.toLowerCase(), customEmoji);\n    }\n  }\n\n  const byShortcode = shortcode => shortcodeToEmoji.get(shortcode.toLowerCase());\n  const byName = name => nameToEmoji.get(name.toLowerCase());\n\n  return {\n    all,\n    search,\n    byShortcode,\n    byName\n  }\n}\n\n// remove some internal implementation details, i.e. the \"tokens\" array on the emoji object\n// essentially, convert the emoji from the version stored in IDB to the version used in-memory\nfunction cleanEmoji (emoji) {\n  if (!emoji) {\n    return emoji\n  }\n  delete emoji.tokens;\n  if (emoji.skinTones) {\n    const len = emoji.skinTones.length;\n    emoji.skins = Array(len);\n    for (let i = 0; i < len; i++) {\n      emoji.skins[i] = {\n        tone: emoji.skinTones[i],\n        unicode: emoji.skinUnicodes[i],\n        version: emoji.skinVersions[i]\n      };\n    }\n    delete emoji.skinTones;\n    delete emoji.skinUnicodes;\n    delete emoji.skinVersions;\n  }\n  return emoji\n}\n\nfunction warnETag (eTag) {\n  if (!eTag) {\n    warn('emoji-picker-element is more efficient if the dataSource server exposes an ETag header.');\n  }\n}\n\nconst requiredKeys$1 = [\n  'annotation',\n  'emoji',\n  'emoticon',\n  'group',\n  'order',\n  'shortcodes',\n  'tags',\n  'version'\n];\n\nfunction assertEmojiBaseData (emojiBaseData) {\n  if (!emojiBaseData ||\n    !Array.isArray(emojiBaseData) ||\n    !emojiBaseData[0] ||\n    (typeof emojiBaseData[0] !== 'object') ||\n    requiredKeys$1.some(key => (!(key in emojiBaseData[0])))) {\n    throw new Error('Expected emojibase full (not compact) data, but data is in wrong format')\n  }\n}\n\nfunction assertStatus (response, dataSource) {\n  if (Math.floor(response.status / 100) !== 2) {\n    throw new Error('Failed to fetch: ' + dataSource + ':  ' + response.status)\n  }\n}\n\nasync function getETag (dataSource) {\n  const response = await fetch(dataSource, { method: 'HEAD' });\n  assertStatus(response, dataSource);\n  const eTag = response.headers.get('etag');\n  warnETag(eTag);\n  return eTag\n}\n\nasync function getETagAndData (dataSource) {\n  const response = await fetch(dataSource);\n  assertStatus(response, dataSource);\n  const eTag = response.headers.get('etag');\n  warnETag(eTag);\n  const emojiBaseData = await response.json();\n  assertEmojiBaseData(emojiBaseData);\n  return [eTag, emojiBaseData]\n}\n\n// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n/**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */\nfunction arrayBufferToBinaryString(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var length = bytes.byteLength;\n    var i = -1;\n    while (++i < length) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */\nfunction binaryStringToArrayBuffer(binary) {\n    var length = binary.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    var i = -1;\n    while (++i < length) {\n        arr[i] = binary.charCodeAt(i);\n    }\n    return buf;\n}\n\n// generate a checksum based on the stringified JSON\nasync function jsonChecksum (object) {\n  const inString = JSON.stringify(object);\n  const inBuffer = binaryStringToArrayBuffer(inString);\n  // this does not need to be cryptographically secure, SHA-1 is fine\n  const outBuffer = await crypto.subtle.digest('SHA-1', inBuffer);\n  const outBinString = arrayBufferToBinaryString(outBuffer);\n  const res = btoa(outBinString);\n  return res\n}\n\nasync function checkForUpdates (db, dataSource) {\n  // just do a simple HEAD request first to see if the eTags match\n  let emojiBaseData;\n  let eTag = await getETag(dataSource);\n  if (!eTag) { // work around lack of ETag/Access-Control-Expose-Headers\n    const eTagAndData = await getETagAndData(dataSource);\n    eTag = eTagAndData[0];\n    emojiBaseData = eTagAndData[1];\n    if (!eTag) {\n      eTag = await jsonChecksum(emojiBaseData);\n    }\n  }\n  if (await hasData(db, dataSource, eTag)) ; else {\n    if (!emojiBaseData) {\n      const eTagAndData = await getETagAndData(dataSource);\n      emojiBaseData = eTagAndData[1];\n    }\n    await loadData(db, emojiBaseData, dataSource, eTag);\n  }\n}\n\nasync function loadDataForFirstTime (db, dataSource) {\n  let [eTag, emojiBaseData] = await getETagAndData(dataSource);\n  if (!eTag) {\n    // Handle lack of support for ETag or Access-Control-Expose-Headers\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers#Browser_compatibility\n    eTag = await jsonChecksum(emojiBaseData);\n  }\n\n  await loadData(db, emojiBaseData, dataSource, eTag);\n}\n\nclass Database {\n  constructor ({ dataSource = DEFAULT_DATA_SOURCE, locale = DEFAULT_LOCALE, customEmoji = [] } = {}) {\n    this.dataSource = dataSource;\n    this.locale = locale;\n    this._dbName = `emoji-picker-element-${this.locale}`;\n    this._db = undefined;\n    this._lazyUpdate = undefined;\n    this._custom = customEmojiIndex(customEmoji);\n\n    this._clear = this._clear.bind(this);\n    this._ready = this._init();\n  }\n\n  async _init () {\n    const db = this._db = await openDatabase(this._dbName);\n\n    addOnCloseListener(this._dbName, this._clear);\n    const dataSource = this.dataSource;\n    const empty = await isEmpty(db);\n\n    if (empty) {\n      await loadDataForFirstTime(db, dataSource);\n    } else { // offline-first - do an update asynchronously\n      this._lazyUpdate = checkForUpdates(db, dataSource);\n    }\n  }\n\n  async ready () {\n    if (!this._ready) {\n      this._ready = this._init();\n    }\n    return this._ready\n  }\n\n  async getEmojiByGroup (group) {\n    assertNumber(group);\n    await this.ready();\n    return uniqEmoji(await getEmojiByGroup(this._db, group)).map(cleanEmoji)\n  }\n\n  async getEmojiBySearchQuery (query) {\n    assertNonEmptyString(query);\n    await this.ready();\n    const customs = this._custom.search(query);\n    const natives = uniqEmoji(await getEmojiBySearchQuery(this._db, query)).map(cleanEmoji);\n    return [\n      ...customs,\n      ...natives\n    ]\n  }\n\n  async getEmojiByShortcode (shortcode) {\n    assertNonEmptyString(shortcode);\n    await this.ready();\n    const custom = this._custom.byShortcode(shortcode);\n    if (custom) {\n      return custom\n    }\n    return cleanEmoji(await getEmojiByShortcode(this._db, shortcode))\n  }\n\n  async getEmojiByUnicodeOrName (unicodeOrName) {\n    assertNonEmptyString(unicodeOrName);\n    await this.ready();\n    const custom = this._custom.byName(unicodeOrName);\n    if (custom) {\n      return custom\n    }\n    return cleanEmoji(await getEmojiByUnicode(this._db, unicodeOrName))\n  }\n\n  async getPreferredSkinTone () {\n    await this.ready();\n    return (await get(this._db, STORE_KEYVALUE, KEY_PREFERRED_SKINTONE)) || 0\n  }\n\n  async setPreferredSkinTone (skinTone) {\n    assertNumber(skinTone);\n    await this.ready();\n    return set(this._db, STORE_KEYVALUE, KEY_PREFERRED_SKINTONE, skinTone)\n  }\n\n  async incrementFavoriteEmojiCount (unicodeOrName) {\n    assertNonEmptyString(unicodeOrName);\n    await this.ready();\n    return incrementFavoriteEmojiCount(this._db, unicodeOrName)\n  }\n\n  async getTopFavoriteEmoji (limit) {\n    assertNumber(limit);\n    await this.ready();\n    return (await getTopFavoriteEmoji(this._db, this._custom, limit)).map(cleanEmoji)\n  }\n\n  set customEmoji (customEmojis) {\n    this._custom = customEmojiIndex(customEmojis);\n  }\n\n  get customEmoji () {\n    return this._custom.all\n  }\n\n  async _shutdown () {\n    await this.ready(); // reopen if we've already been closed/deleted\n    try {\n      await this._lazyUpdate; // allow any lazy updates to process before closing/deleting\n    } catch (err) { /* ignore network errors (offline-first) */ }\n    if (this._db) {\n      return true // we need to actually run the close/delete logic, so we return true\n    }\n  }\n\n  // clear references to IDB, e.g. during a close event\n  _clear () {\n    log('_clear database', this._dbName);\n    // We don't need to call removeEventListener or remove the manual \"close\" listeners.\n    // The memory leak tests prove this is unnecessary. It's because:\n    // 1) IDBDatabases that can no longer fire \"close\" automatically have listeners GCed\n    // 2) we clear the manual close listeners in databaseLifecycle.js.\n    this._db = this._ready = this._lazyUpdate = undefined;\n  }\n\n  async close () {\n    if (await this._shutdown()) {\n      await closeDatabase(this._dbName);\n    }\n  }\n\n  async delete () {\n    if (await this._shutdown()) {\n      await deleteDatabase(this._dbName);\n    }\n  }\n}\n\nexport default Database;\n","import { SvelteElement, init, safe_not_equal, insert, flush, element, text, attr, append, set_data, detach, listen, action_destroyer, update_keyed_each, destroy_block, noop, set_style, set_input_value, run_all, globals, binding_callbacks } from 'svelte/internal';\nimport Database from './database.js';\nimport { onMount, tick, onDestroy } from 'svelte';\n\nvar enI18n = {\n  categoriesLabel: 'Categories',\n  emojiUnsupportedMessage: 'Your browser does not support color emoji.',\n  favoritesLabel: 'Favorites',\n  loadingMessage: 'Loading',\n  networkErrorMessage: 'Could not load emoji. Try refreshing.',\n  regionLabel: 'Emoji picker',\n  searchDescription: 'When search results are available, press up or down to select and enter to choose.',\n  searchLabel: 'Search',\n  searchResultsLabel: 'Search results',\n  skinToneDescription: 'When expanded, press up or down to select and enter to choose.',\n  skinToneLabel: 'Choose a skin tone (currently {skinTone})',\n  skinTonesLabel: 'Skin tones',\n  skinTones: [\n    'Default',\n    'Light',\n    'Medium-Light',\n    'Medium',\n    'Medium-Dark',\n    'Dark'\n  ],\n  categories: {\n    custom: 'Custom',\n    'smileys-emotion': 'Smileys and emoticons',\n    'people-body': 'People and body',\n    'animals-nature': 'Animals and nature',\n    'food-drink': 'Food and drink',\n    'travel-places': 'Travel and places',\n    activities: 'Activities',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags'\n  }\n};\n\n// via https://unpkg.com/browse/emojibase-data@5.0.1/meta/groups.json\nconst allGroups = [\n  [-1, '', 'custom'],\n  [0, '', 'smileys-emotion'],\n  [1, '', 'people-body'],\n  [3, '', 'animals-nature'],\n  [4, '', 'food-drink'],\n  [5, '', 'travel-places'],\n  [6, '', 'activities'],\n  [7, '', 'objects'],\n  [8, '', 'symbols'],\n  [9, '', 'flags']\n].map(([id, emoji, name]) => ({ id, emoji, name }));\n\nconst groups = allGroups.slice(1);\nconst customGroup = allGroups[0];\n\nconst DEFAULT_DATA_SOURCE = 'https://cdn.jsdelivr.net/npm/emojibase-data@5/en/data.json';\nconst DEFAULT_LOCALE = 'en';\n\nconst MIN_SEARCH_TEXT_LENGTH = 2;\nconst NUM_SKIN_TONES = 6;\n\nconst rIC = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n\n// check for ZWJ (zero width joiner) character\nfunction hasZwj (emoji) {\n  return emoji.unicode.includes('\\u200d')\n}\n\n// @rollup/plugin-strip doesn't properly strip performance.mark/measure\n\nfunction stop (str) {\n}\n\n// Find one good representative emoji to test. Ideally it should have color in the center.\n// For some inspiration, see: https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\nconst versionsAndTestEmoji = {\n  '': 0.6,\n  '': 0.7,\n  '': 1,\n  '': 2,\n  '': 3,\n  '': 4,\n  '': 5,\n  '': 11, // smiling face with hearts\n  '': 12, // sari\n  '': 12.1, // person: red hair\n  '': 13 // smiling face with tear\n};\n\nconst TIMEOUT_BEFORE_LOADING_MESSAGE = 1000; // 1 second\nconst DEFAULT_SKIN_TONE_EMOJI = '';\nconst DEFAULT_NUM_COLUMNS = 8;\n\n// Based on https://fivethirtyeight.com/features/the-100-most-used-emojis/ and\n// https://blog.emojipedia.org/facebook-reveals-most-and-least-used-emojis/ with\n// a bit of my own curation. (E.g. avoid the \"OK\" gesture because of connotations:\n// https://emojipedia.org/ok-hand/)\nconst MOST_COMMONLY_USED_EMOJI = [\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  ''\n];\n\nconst FONT_FAMILY = '\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",' +\n  '\"Twemoji Mozilla\",\"Noto Color Emoji\",\"EmojiOne Color\",\"Android Emoji\",sans-serif';\n\n// Test if an emoji is supported by rendering it to canvas and checking that the color is not black\n\nconst getTextFeature = (text, color) => {\n  try {\n    const canvas = document.createElement('canvas');\n    canvas.width = canvas.height = 1;\n\n    const ctx = canvas.getContext('2d');\n    ctx.textBaseline = 'top';\n    ctx.font = `100px ${FONT_FAMILY}`;\n    ctx.fillStyle = color;\n    ctx.scale(0.01, 0.01);\n    ctx.fillText(text, 0, 0);\n\n    return ctx.getImageData(0, 0, 1, 1).data\n  } catch (e) { /* ignore, return undefined */ }\n};\n\nconst compareFeatures = (feature1, feature2) => {\n  const feature1Str = [...feature1].join(',');\n  const feature2Str = [...feature2].join(',');\n  return feature1Str === feature2Str && feature1Str !== '0,0,0,0'\n};\n\nfunction testColorEmojiSupported (text) {\n  // Render white and black and then compare them to each other and ensure they're the same\n  // color, and neither one is black. This shows that the emoji was rendered in color.\n  const feature1 = getTextFeature(text, '#000');\n  const feature2 = getTextFeature(text, '#fff');\n  return feature1 && feature2 && compareFeatures(feature1, feature2)\n}\n\n// rather than check every emoji ever, which would be expensive, just check some representatives from the\n\nfunction determineEmojiSupportLevel () {\n  let res;\n  for (const [emoji, version] of Object.entries(versionsAndTestEmoji)) {\n    /* istanbul ignore else */\n    if (testColorEmojiSupported(emoji)) {\n      res = version;\n    } else {\n      break\n    }\n  }\n  return res\n}\n\n// @rollup/plugin-strip doesn't strip console.logs properly\n\nfunction log () {\n}\n\n// Check which emojis we know for sure aren't supported, based on Unicode version level\nconst emojiSupportLevelPromise = new Promise(resolve => (\n  rIC(() => (\n    resolve(determineEmojiSupportLevel()) // delay so ideally this can run while IDB is first populating\n  ))\n));\n// determine which emojis containing ZWJ (zero width joiner) characters\n// are supported (rendered as one glyph) rather than unsupported (rendered as two or more glyphs)\nconst supportedZwjEmojis = new Map();\n\nconst VARIATION_SELECTOR = '\\ufe0f';\nconst SKINTONE_MODIFIER = '\\ud83c';\nconst ZWJ = '\\u200d';\nconst LIGHT_SKIN_TONE = 0x1F3FB;\nconst LIGHT_SKIN_TONE_MODIFIER = 0xdffb;\n\n// TODO: this is a naive implementation, we can improve it later\n// It's only used for the skintone picker, so as long as people don't customize with\n// really exotic emoji then it should work fine\nfunction applySkinTone (str, skinTone) {\n  if (skinTone === 0) {\n    return str\n  }\n  const zwjIndex = str.indexOf(ZWJ);\n  if (zwjIndex !== -1) {\n    return str.substring(0, zwjIndex) +\n      String.fromCodePoint(LIGHT_SKIN_TONE + skinTone - 1) +\n      str.substring(zwjIndex)\n  }\n  if (str.endsWith(VARIATION_SELECTOR)) {\n    str = str.substring(0, str.length - 1);\n  }\n  return str + SKINTONE_MODIFIER + String.fromCodePoint(LIGHT_SKIN_TONE_MODIFIER + skinTone - 1)\n}\n\nfunction halt (event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n// Implementation left/right or up/down navigation, circling back when you\n// reach the start/end of the list\nfunction incrementOrDecrement (decrement, val, arr) {\n  val += (decrement ? -1 : 1);\n  if (val < 0) {\n    val = arr.length - 1;\n  } else if (val >= arr.length) {\n    val = 0;\n  }\n  return val\n}\n\n// like lodash's uniqBy but much smaller\nfunction uniqBy (arr, func) {\n  const set = new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set.has(key)) {\n      set.add(key);\n      res.push(item);\n    }\n  }\n  return res\n}\n\n// We don't need all the data on every emoji, and there are specific things we need\n// for the UI, so build a \"view model\" from the emoji object we got from the database\n\nfunction summarizeEmojisForUI (emojis, emojiSupportLevel) {\n  const toSimpleSkinsMap = skins => {\n    const res = {};\n    for (const skin of skins) {\n      // ignore arrays like [1, 2] with multiple skin tones\n      // also ignore variants that are in an unsupported emoji version\n      // (these do exist - variants from a different version than their base emoji)\n      if (typeof skin.tone === 'number' && skin.version <= emojiSupportLevel) {\n        res[skin.tone] = skin.unicode;\n      }\n    }\n    return res\n  };\n\n  return emojis.map(({ unicode, skins, shortcodes, url, name, category }) => ({\n    unicode,\n    name,\n    shortcodes,\n    url,\n    category,\n    id: unicode || name,\n    skins: skins && toSimpleSkinsMap(skins),\n    title: shortcodes.join(', ')\n  }))\n}\n\n// import rAF from one place so that the bundle size is a bit smaller\nconst rAF = requestAnimationFrame;\n\n// Svelte action to calculate the width of an element and auto-update\n\nconst resizeObserverSupported = typeof ResizeObserver === 'function';\n\nfunction calculateWidth (node, onUpdate) {\n  let resizeObserver;\n  /* istanbul ignore if */\n  if (resizeObserverSupported) {\n    resizeObserver = new ResizeObserver(entries => (\n      onUpdate(entries[0].contentRect.width)\n    ));\n    resizeObserver.observe(node);\n  } else { // just set the width once, don't bother trying to track it\n    rAF(() => (\n      onUpdate(node.getBoundingClientRect().width)\n    ));\n  }\n\n  return {\n    destroy () {\n      /* istanbul ignore if */\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }\n}\n\n// get the width of the text inside of a DOM node, via https://stackoverflow.com/a/59525891/680742\nfunction calculateTextWidth (node) {\n  /* istanbul ignore else */\n  {\n    const range = document.createRange();\n    range.selectNode(node.firstChild);\n    return range.getBoundingClientRect().width\n  }\n}\n\nlet baselineEmojiWidth;\n\nfunction checkZwjSupport (zwjEmojisToCheck, baselineEmoji, emojiToDomNode) {\n  for (const emoji of zwjEmojisToCheck) {\n    const domNode = emojiToDomNode(emoji);\n    const emojiWidth = calculateTextWidth(domNode);\n    if (typeof baselineEmojiWidth === 'undefined') { // calculate the baseline emoji width only once\n      baselineEmojiWidth = calculateTextWidth(baselineEmoji);\n    }\n    // compare sizes rounded to 1/10 of a pixel to avoid issues with slightly different measurements (e.g. GNOME Web)\n    const supported = emojiWidth.toFixed(1) === baselineEmojiWidth.toFixed(1);\n    supportedZwjEmojis.set(emoji.unicode, supported);\n    /* istanbul ignore if */\n    if (!supported) {\n      log('Filtered unsupported emoji', emoji.unicode);\n    }\n  }\n}\n\n// Measure after style/layout are complete\n\nconst requestPostAnimationFrame = callback => {\n  rAF(() => {\n    setTimeout(callback);\n  });\n};\n\n// like lodash's uniq\n\nfunction uniq (arr) {\n  return uniqBy(arr, _ => _)\n}\n\n/* src/picker/components/Picker/Picker.svelte generated by Svelte v3.22.2 */\n\nconst { Map: Map_1 } = globals;\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[64] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[64] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[67] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_3(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[70] = list[i];\n\treturn child_ctx;\n}\n\nfunction get_each_context_4(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[73] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\n// (44:38) {#each skinTones as skinTone, i (skinTone)}\nfunction create_each_block_4(key_1, ctx) {\n\tlet div;\n\tlet t_value = /*skinTone*/ ctx[73] + \"\";\n\tlet t;\n\tlet div_id_value;\n\tlet div_class_value;\n\tlet div_aria_selected_value;\n\tlet div_title_value;\n\tlet div_aria_label_value;\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"id\", div_id_value = \"skintone-\" + /*i*/ ctx[66]);\n\n\t\t\tattr(div, \"class\", div_class_value = \"emoji skintone-option cursor-pointer hide-focus \" + (/*i*/ ctx[66] === /*activeSkinTone*/ ctx[15]\n\t\t\t? \"active\"\n\t\t\t: \"\"));\n\n\t\t\tattr(div, \"aria-selected\", div_aria_selected_value = /*i*/ ctx[66] === /*activeSkinTone*/ ctx[15]);\n\t\t\tattr(div, \"role\", \"option\");\n\t\t\tattr(div, \"title\", div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]]);\n\t\t\tattr(div, \"tabindex\", \"-1\");\n\t\t\tattr(div, \"aria-label\", div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]]);\n\t\t\tthis.first = div;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*skinTones*/ 524288 && t_value !== (t_value = /*skinTone*/ ctx[73] + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*skinTones*/ 524288 && div_id_value !== (div_id_value = \"skintone-\" + /*i*/ ctx[66])) {\n\t\t\t\tattr(div, \"id\", div_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 557056 && div_class_value !== (div_class_value = \"emoji skintone-option cursor-pointer hide-focus \" + (/*i*/ ctx[66] === /*activeSkinTone*/ ctx[15]\n\t\t\t? \"active\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(div, \"class\", div_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 557056 && div_aria_selected_value !== (div_aria_selected_value = /*i*/ ctx[66] === /*activeSkinTone*/ ctx[15])) {\n\t\t\t\tattr(div, \"aria-selected\", div_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 524289 && div_title_value !== (div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]])) {\n\t\t\t\tattr(div, \"title\", div_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 524289 && div_aria_label_value !== (div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]])) {\n\t\t\t\tattr(div, \"aria-label\", div_aria_label_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\n// (54:33) {#each groups as group (group.id)}\nfunction create_each_block_3(key_1, ctx) {\n\tlet button;\n\tlet div;\n\tlet t_value = /*group*/ ctx[70].emoji + \"\";\n\tlet t;\n\tlet button_aria_controls_value;\n\tlet button_aria_label_value;\n\tlet button_aria_selected_value;\n\tlet button_title_value;\n\tlet dispose;\n\n\tfunction click_handler(...args) {\n\t\treturn /*click_handler*/ ctx[60](/*group*/ ctx[70], ...args);\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"emoji\");\n\t\t\tattr(button, \"role\", \"tab\");\n\t\t\tattr(button, \"class\", \"nav-button\");\n\t\t\tattr(button, \"aria-controls\", button_aria_controls_value = \"tab-\" + /*group*/ ctx[70].id);\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name]);\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = !/*searchMode*/ ctx[7] && /*currentGroup*/ ctx[23].id === /*group*/ ctx[70].id);\n\t\t\tattr(button, \"title\", button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name]);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor, remount) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, div);\n\t\t\tappend(div, t);\n\t\t\tif (remount) dispose();\n\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty[0] & /*groups*/ 4194304 && t_value !== (t_value = /*group*/ ctx[70].emoji + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*groups*/ 4194304 && button_aria_controls_value !== (button_aria_controls_value = \"tab-\" + /*group*/ ctx[70].id)) {\n\t\t\t\tattr(button, \"aria-controls\", button_aria_controls_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4194305 && button_aria_label_value !== (button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name])) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup, groups*/ 12583040 && button_aria_selected_value !== (button_aria_selected_value = !/*searchMode*/ ctx[7] && /*currentGroup*/ ctx[23].id === /*group*/ ctx[70].id)) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4194305 && button_title_value !== (button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name])) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (90:98) {:else}\nfunction create_else_block_1(ctx) {\n\tlet div;\n\n\treturn {\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tattr(div, \"class\", \"custom-emoji\");\n\t\t\tset_style(div, \"background-image\", \"url(\" + /*emoji*/ ctx[64].url + \")\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4) {\n\t\t\t\tset_style(div, \"background-image\", \"url(\" + /*emoji*/ ctx[64].url + \")\");\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\n// (90:38) {#if emoji.unicode}\nfunction create_if_block_1(ctx) {\n\tlet t_value = unicodeWithSkin(/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[14]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 16388 && t_value !== (t_value = unicodeWithSkin(/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[14]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (85:39) {#each emojiWithCategory.emojis as emoji, i (emoji.id)}\nfunction create_each_block_2(key_1, ctx) {\n\tlet button;\n\tlet button_role_value;\n\tlet button_aria_selected_value;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_class_value;\n\tlet button_id_value;\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[64].unicode) return create_if_block_1;\n\t\treturn create_else_block_1;\n\t}\n\n\tlet current_block_type = select_block_type(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", button_role_value = /*searchMode*/ ctx[7] ? \"option\" : \"menuitem\");\n\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i*/ ctx[66] == /*activeSearchItem*/ ctx[8]\n\t\t\t: \"\");\n\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[26](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[14]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[64].title);\n\n\t\t\tattr(button, \"class\", button_class_value = \"emoji \" + (/*searchMode*/ ctx[7] && /*i*/ ctx[66] === /*activeSearchItem*/ ctx[8]\n\t\t\t? \"active\"\n\t\t\t: \"\"));\n\n\t\t\tattr(button, \"id\", button_id_value = \"emo-\" + /*emoji*/ ctx[64].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && button_role_value !== (button_role_value = /*searchMode*/ ctx[7] ? \"option\" : \"menuitem\")) {\n\t\t\t\tattr(button, \"role\", button_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 388 && button_aria_selected_value !== (button_aria_selected_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i*/ ctx[66] == /*activeSearchItem*/ ctx[8]\n\t\t\t: \"\")) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 16388 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[26](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[14]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && button_title_value !== (button_title_value = /*emoji*/ ctx[64].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 388 && button_class_value !== (button_class_value = \"emoji \" + (/*searchMode*/ ctx[7] && /*i*/ ctx[66] === /*activeSearchItem*/ ctx[8]\n\t\t\t? \"active\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(button, \"class\", button_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && button_id_value !== (button_id_value = \"emo-\" + /*emoji*/ ctx[64].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\n// (72:3) {#each currentEmojisWithCategories as emojiWithCategory, i (emojiWithCategory.category)}\nfunction create_each_block_1(key_1, ctx) {\n\tlet div0;\n\n\tlet t_value = (/*searchMode*/ ctx[7]\n\t? /*i18n*/ ctx[0].searchResultsLabel\n\t: /*emojiWithCategory*/ ctx[67].category\n\t\t? /*emojiWithCategory*/ ctx[67].category\n\t\t: /*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name]) + \"\";\n\n\tlet t;\n\tlet div0_id_value;\n\tlet div0_class_value;\n\tlet div1;\n\tlet each_blocks = [];\n\tlet each_1_lookup = new Map_1();\n\tlet div1_role_value;\n\tlet div1_aria_labelledby_value;\n\tlet div1_id_value;\n\tlet calculateEmojiGridWidth_action;\n\tlet dispose;\n\tlet each_value_2 = /*emojiWithCategory*/ ctx[67].emojis;\n\tconst get_key = ctx => /*emoji*/ ctx[64].id;\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\tlet child_ctx = get_each_context_2(ctx, each_value_2, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach_1_lookup.set(key, each_blocks[i] = create_each_block_2(key, child_ctx));\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tdiv1 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div0, \"id\", div0_id_value = \"menu-label-\" + /*i*/ ctx[66]);\n\n\t\t\tattr(div0, \"class\", div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t? \"\"\n\t\t\t: \"gone\"));\n\n\t\t\tattr(div0, \"aria-hidden\", \"true\");\n\t\t\tattr(div1, \"class\", \"emoji-menu\");\n\t\t\tattr(div1, \"role\", div1_role_value = /*searchMode*/ ctx[7] ? \"listbox\" : \"menu\");\n\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[66]);\n\t\t\tattr(div1, \"id\", div1_id_value = /*searchMode*/ ctx[7] ? \"search-results\" : \"\");\n\t\t\tthis.first = div0;\n\t\t},\n\t\tm(target, anchor, remount) {\n\t\t\tinsert(target, div0, anchor);\n\t\t\tappend(div0, t);\n\t\t\tinsert(target, div1, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div1, null);\n\t\t\t}\n\n\t\t\tif (remount) dispose();\n\t\t\tdispose = action_destroyer(calculateEmojiGridWidth_action = /*calculateEmojiGridWidth*/ ctx[27].call(null, div1));\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentEmojisWithCategories, currentGroup*/ 8388741 && t_value !== (t_value = (/*searchMode*/ ctx[7]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*emojiWithCategory*/ ctx[67].category\n\t\t\t\t? /*emojiWithCategory*/ ctx[67].category\n\t\t\t\t: /*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name]) + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && div0_id_value !== (div0_id_value = \"menu-label-\" + /*i*/ ctx[66])) {\n\t\t\t\tattr(div0, \"id\", div0_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && div0_class_value !== (div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[2].length > 1\n\t\t\t? \"\"\n\t\t\t: \"gone\"))) {\n\t\t\t\tattr(div0, \"class\", div0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone*/ 67125636) {\n\t\t\t\tconst each_value_2 = /*emojiWithCategory*/ ctx[67].emojis;\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value_2, each_1_lookup, div1, destroy_block, create_each_block_2, null, get_each_context_2);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && div1_role_value !== (div1_role_value = /*searchMode*/ ctx[7] ? \"listbox\" : \"menu\")) {\n\t\t\t\tattr(div1, \"role\", div1_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 4 && div1_aria_labelledby_value !== (div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[66])) {\n\t\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && div1_id_value !== (div1_id_value = /*searchMode*/ ctx[7] ? \"search-results\" : \"\")) {\n\t\t\t\tattr(div1, \"id\", div1_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div0);\n\t\t\tif (detaching) detach(div1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (104:94) {:else}\nfunction create_else_block(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (img.src !== (img_src_value = /*emoji*/ ctx[64].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t\tattr(img, \"alt\", \"\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1048576 && img.src !== (img_src_value = /*emoji*/ ctx[64].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (104:34) {#if emoji.unicode}\nfunction create_if_block(ctx) {\n\tlet t_value = unicodeWithSkin(/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[14]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1064960 && t_value !== (t_value = unicodeWithSkin(/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[14]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (100:62) {#each currentFavorites as emoji, i (emoji.id)}\nfunction create_each_block(key_1, ctx) {\n\tlet button;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_id_value;\n\n\tfunction select_block_type_1(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[64].unicode) return create_if_block;\n\t\treturn create_else_block;\n\t}\n\n\tlet current_block_type = select_block_type_1(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", \"menuitem\");\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[26](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[14]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[64].title);\n\t\t\tattr(button, \"class\", \"emoji\");\n\t\t\tattr(button, \"id\", button_id_value = \"fav-\" + /*emoji*/ ctx[64].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (current_block_type === (current_block_type = select_block_type_1(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1064960 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[26](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[14]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1048576 && button_title_value !== (button_title_value = /*emoji*/ ctx[64].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1048576 && button_id_value !== (button_id_value = \"fav-\" + /*emoji*/ ctx[64].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tlet section;\n\tlet div0;\n\tlet div4;\n\tlet div1;\n\tlet input;\n\tlet input_placeholder_value;\n\tlet input_aria_expanded_value;\n\tlet input_aria_activedescendant_value;\n\tlet label;\n\tlet t0_value = /*i18n*/ ctx[0].searchLabel + \"\";\n\tlet t0;\n\tlet span0;\n\tlet t1_value = /*i18n*/ ctx[0].searchDescription + \"\";\n\tlet t1;\n\tlet div2;\n\tlet button0;\n\tlet t2;\n\tlet button0_class_value;\n\tlet div2_class_value;\n\tlet span1;\n\tlet t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\";\n\tlet t3;\n\tlet div3;\n\tlet each_blocks_3 = [];\n\tlet each0_lookup = new Map_1();\n\tlet div3_class_value;\n\tlet div3_style_value;\n\tlet div3_aria_label_value;\n\tlet div3_aria_activedescendant_value;\n\tlet div3_aria_hidden_value;\n\tlet div5;\n\tlet each_blocks_2 = [];\n\tlet each1_lookup = new Map_1();\n\tlet div5_aria_label_value;\n\tlet div7;\n\tlet div6;\n\tlet calculateIndicatorWidth_action;\n\tlet div8;\n\tlet t4;\n\tlet div8_class_value;\n\tlet div9;\n\tlet each_blocks_1 = [];\n\tlet each2_lookup = new Map_1();\n\tlet div9_class_value;\n\tlet div9_role_value;\n\tlet div9_aria_label_value;\n\tlet div9_id_value;\n\tlet div10;\n\tlet each_blocks = [];\n\tlet each3_lookup = new Map_1();\n\tlet div10_class_value;\n\tlet div10_aria_label_value;\n\tlet div11;\n\tlet button1;\n\tlet section_aria_label_value;\n\tlet dispose;\n\tlet each_value_4 = /*skinTones*/ ctx[19];\n\tconst get_key = ctx => /*skinTone*/ ctx[73];\n\n\tfor (let i = 0; i < each_value_4.length; i += 1) {\n\t\tlet child_ctx = get_each_context_4(ctx, each_value_4, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach0_lookup.set(key, each_blocks_3[i] = create_each_block_4(key, child_ctx));\n\t}\n\n\tlet each_value_3 = /*groups*/ ctx[22];\n\tconst get_key_1 = ctx => /*group*/ ctx[70].id;\n\n\tfor (let i = 0; i < each_value_3.length; i += 1) {\n\t\tlet child_ctx = get_each_context_3(ctx, each_value_3, i);\n\t\tlet key = get_key_1(child_ctx);\n\t\teach1_lookup.set(key, each_blocks_2[i] = create_each_block_3(key, child_ctx));\n\t}\n\n\tlet each_value_1 = /*currentEmojisWithCategories*/ ctx[2];\n\tconst get_key_2 = ctx => /*emojiWithCategory*/ ctx[67].category;\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\tlet child_ctx = get_each_context_1(ctx, each_value_1, i);\n\t\tlet key = get_key_2(child_ctx);\n\t\teach2_lookup.set(key, each_blocks_1[i] = create_each_block_1(key, child_ctx));\n\t}\n\n\tlet each_value = /*currentFavorites*/ ctx[20];\n\tconst get_key_3 = ctx => /*emoji*/ ctx[64].id;\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\tlet child_ctx = get_each_context(ctx, each_value, i);\n\t\tlet key = get_key_3(child_ctx);\n\t\teach3_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tdiv4 = element(\"div\");\n\t\t\tdiv1 = element(\"div\");\n\t\t\tinput = element(\"input\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tspan0 = element(\"span\");\n\t\t\tt1 = text(t1_value);\n\t\t\tdiv2 = element(\"div\");\n\t\t\tbutton0 = element(\"button\");\n\t\t\tt2 = text(/*skinToneButtonText*/ ctx[16]);\n\t\t\tspan1 = element(\"span\");\n\t\t\tt3 = text(t3_value);\n\t\t\tdiv3 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].c();\n\t\t\t}\n\n\t\t\tdiv5 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tdiv7 = element(\"div\");\n\t\t\tdiv6 = element(\"div\");\n\t\t\tdiv8 = element(\"div\");\n\t\t\tt4 = text(/*message*/ ctx[9]);\n\t\t\tdiv9 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tdiv10 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tdiv11 = element(\"div\");\n\t\t\tbutton1 = element(\"button\");\n\t\t\tbutton1.textContent = \"\";\n\t\t\tthis.c = noop;\n\t\t\tattr(div0, \"class\", \"pad-top\");\n\t\t\tattr(input, \"id\", \"search\");\n\t\t\tattr(input, \"class\", \"search\");\n\t\t\tattr(input, \"type\", \"search\");\n\t\t\tattr(input, \"role\", \"combobox\");\n\t\t\tattr(input, \"enterkeyhint\", \"search\");\n\t\t\tattr(input, \"placeholder\", input_placeholder_value = /*i18n*/ ctx[0].searchLabel);\n\t\t\tattr(input, \"autocapitalize\", \"none\");\n\t\t\tattr(input, \"autocomplete\", \"off\");\n\t\t\tattr(input, \"spellcheck\", \"true\");\n\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value = !!(/*searchMode*/ ctx[7] && /*currentEmojis*/ ctx[1].length));\n\t\t\tattr(input, \"aria-controls\", \"search-results\");\n\t\t\tattr(input, \"aria-owns\", \"search-results\");\n\t\t\tattr(input, \"aria-describedby\", \"search-description\");\n\t\t\tattr(input, \"aria-autocomplete\", \"list\");\n\n\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[25]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[25]}`\n\t\t\t: \"\");\n\n\t\t\tattr(label, \"class\", \"sr-only\");\n\t\t\tattr(label, \"for\", \"search\");\n\t\t\tattr(span0, \"id\", \"search-description\");\n\t\t\tattr(span0, \"class\", \"sr-only\");\n\t\t\tattr(div1, \"class\", \"search-wrapper\");\n\t\t\tattr(button0, \"id\", \"skintone-button\");\n\t\t\tattr(button0, \"class\", button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[11] ? \"hide-focus\" : \"\"));\n\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\tattr(button0, \"aria-describedby\", \"skintone-description\");\n\t\t\tattr(button0, \"aria-haspopup\", \"listbox\");\n\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[11]);\n\t\t\tattr(button0, \"aria-controls\", \"skintone-list\");\n\n\t\t\tattr(div2, \"class\", div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[12]\n\t\t\t? \"expanded\"\n\t\t\t: \"\"));\n\n\t\t\tattr(span1, \"id\", \"skintone-description\");\n\t\t\tattr(span1, \"class\", \"sr-only\");\n\t\t\tattr(div3, \"id\", \"skintone-list\");\n\n\t\t\tattr(div3, \"class\", div3_class_value = \"skintone-list \" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? \"\"\n\t\t\t: \"hidden no-animate\"));\n\n\t\t\tattr(div3, \"style\", div3_style_value = /*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? \"transform: translateY(0);\"\n\t\t\t: \"transform: translateY(calc(-1 * var(--num-skintones) * var(--total-emoji-size)))\");\n\n\t\t\tattr(div3, \"role\", \"listbox\");\n\t\t\tattr(div3, \"aria-label\", div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel);\n\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[15]);\n\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[11]);\n\t\t\tattr(div4, \"class\", \"search-row\");\n\t\t\tattr(div5, \"class\", \"nav\");\n\t\t\tattr(div5, \"role\", \"tablist\");\n\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[22].length + \", 1fr)\");\n\t\t\tattr(div5, \"aria-label\", div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel);\n\t\t\tattr(div6, \"class\", \"indicator\");\n\t\t\tattr(div6, \"style\", /*indicatorStyle*/ ctx[10]);\n\t\t\tattr(div7, \"class\", \"indicator-wrapper\");\n\t\t\tattr(div7, \"aria-hidden\", \"true\");\n\t\t\tattr(div8, \"class\", div8_class_value = \"message \" + (/*message*/ ctx[9] ? \"\" : \"gone\"));\n\t\t\tattr(div8, \"role\", \"alert\");\n\t\t\tattr(div8, \"aria-live\", \"polite\");\n\t\t\tattr(div9, \"class\", div9_class_value = \"tabpanel \" + (!/*loaded*/ ctx[24] || /*message*/ ctx[9] ? \"gone\" : \"\"));\n\t\t\tattr(div9, \"role\", div9_role_value = /*searchMode*/ ctx[7] ? \"region\" : \"tabpanel\");\n\n\t\t\tattr(div9, \"aria-label\", div9_aria_label_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name]);\n\n\t\t\tattr(div9, \"id\", div9_id_value = /*searchMode*/ ctx[7]\n\t\t\t? \"\"\n\t\t\t: `tab-${/*currentGroup*/ ctx[23].id}`);\n\n\t\t\tattr(div9, \"tabindex\", \"0\");\n\t\t\tattr(div10, \"class\", div10_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[9] ? \"gone\" : \"\"));\n\t\t\tattr(div10, \"role\", \"menu\");\n\t\t\tattr(div10, \"aria-label\", div10_aria_label_value = /*i18n*/ ctx[0].favoritesLabel);\n\t\t\tset_style(div10, \"padding-right\", /*scrollbarWidth*/ ctx[21] + \"px\");\n\t\t\tattr(button1, \"tabindex\", \"-1\");\n\t\t\tattr(button1, \"class\", \"emoji baseline-emoji\");\n\t\t\tattr(div11, \"aria-hidden\", \"true\");\n\t\t\tattr(div11, \"class\", \"hidden abs-pos\");\n\t\t\tattr(section, \"class\", \"picker\");\n\t\t\tattr(section, \"aria-label\", section_aria_label_value = /*i18n*/ ctx[0].regionLabel);\n\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[17]);\n\t\t},\n\t\tm(target, anchor, remount) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, div0);\n\t\t\tappend(section, div4);\n\t\t\tappend(div4, div1);\n\t\t\tappend(div1, input);\n\t\t\tset_input_value(input, /*rawSearchText*/ ctx[3]);\n\t\t\tappend(div1, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div1, span0);\n\t\t\tappend(span0, t1);\n\t\t\tappend(div4, div2);\n\t\t\tappend(div2, button0);\n\t\t\tappend(button0, t2);\n\t\t\tappend(div4, span1);\n\t\t\tappend(span1, t3);\n\t\t\tappend(div4, div3);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].m(div3, null);\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[59](div3);\n\t\t\tappend(section, div5);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].m(div5, null);\n\t\t\t}\n\n\t\t\tappend(section, div7);\n\t\t\tappend(div7, div6);\n\t\t\tappend(section, div8);\n\t\t\tappend(div8, t4);\n\t\t\tappend(section, div9);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].m(div9, null);\n\t\t\t}\n\n\t\t\t/*div9_binding*/ ctx[61](div9);\n\t\t\tappend(section, div10);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].m(div10, null);\n\t\t\t}\n\n\t\t\tappend(section, div11);\n\t\t\tappend(div11, button1);\n\t\t\t/*button1_binding*/ ctx[62](button1);\n\t\t\t/*section_binding*/ ctx[63](section);\n\t\t\tif (remount) run_all(dispose);\n\n\t\t\tdispose = [\n\t\t\t\tlisten(input, \"input\", /*input_input_handler*/ ctx[58]),\n\t\t\t\tlisten(input, \"keydown\", /*onSearchKeydown*/ ctx[29]),\n\t\t\t\tlisten(button0, \"click\", /*onClickSkinToneButton*/ ctx[34]),\n\t\t\t\tlisten(div3, \"focusout\", /*onSkinToneOptionsFocusOut*/ ctx[37]),\n\t\t\t\tlisten(div3, \"click\", /*onSkinToneOptionsClick*/ ctx[33]),\n\t\t\t\tlisten(div3, \"keydown\", /*onSkinToneOptionsKeydown*/ ctx[35]),\n\t\t\t\tlisten(div3, \"keyup\", /*onSkinToneOptionsKeyup*/ ctx[36]),\n\t\t\t\tlisten(div5, \"keydown\", /*onNavKeydown*/ ctx[31]),\n\t\t\t\taction_destroyer(calculateIndicatorWidth_action = /*calculateIndicatorWidth*/ ctx[28].call(null, div6)),\n\t\t\t\tlisten(div9, \"click\", /*onEmojiClick*/ ctx[32]),\n\t\t\t\tlisten(div10, \"click\", /*onEmojiClick*/ ctx[32])\n\t\t\t];\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*i18n*/ 1 && input_placeholder_value !== (input_placeholder_value = /*i18n*/ ctx[0].searchLabel)) {\n\t\t\t\tattr(input, \"placeholder\", input_placeholder_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojis*/ 130 && input_aria_expanded_value !== (input_aria_expanded_value = !!(/*searchMode*/ ctx[7] && /*currentEmojis*/ ctx[1].length))) {\n\t\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSearchItemId*/ 33554432 && input_aria_activedescendant_value !== (input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[25]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[25]}`\n\t\t\t: \"\")) {\n\t\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*rawSearchText*/ 8) {\n\t\t\t\tset_input_value(input, /*rawSearchText*/ ctx[3]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t0_value !== (t0_value = /*i18n*/ ctx[0].searchLabel + \"\")) set_data(t0, t0_value);\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t1_value !== (t1_value = /*i18n*/ ctx[0].searchDescription + \"\")) set_data(t1, t1_value);\n\t\t\tif (dirty[0] & /*skinToneButtonText*/ 65536) set_data(t2, /*skinToneButtonText*/ ctx[16]);\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && button0_class_value !== (button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[11] ? \"hide-focus\" : \"\"))) {\n\t\t\t\tattr(button0, \"class\", button0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 262144) {\n\t\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 262144) {\n\t\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[18]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048) {\n\t\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[11]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpandedAfterAnimation*/ 4096 && div2_class_value !== (div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[12]\n\t\t\t? \"expanded\"\n\t\t\t: \"\"))) {\n\t\t\t\tattr(div2, \"class\", div2_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t3_value !== (t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\")) set_data(t3, t3_value);\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone, i18n*/ 557057) {\n\t\t\t\tconst each_value_4 = /*skinTones*/ ctx[19];\n\t\t\t\teach_blocks_3 = update_keyed_each(each_blocks_3, dirty, get_key, 1, ctx, each_value_4, each0_lookup, div3, destroy_block, create_each_block_4, null, get_each_context_4);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && div3_class_value !== (div3_class_value = \"skintone-list \" + (/*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? \"\"\n\t\t\t: \"hidden no-animate\"))) {\n\t\t\t\tattr(div3, \"class\", div3_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && div3_style_value !== (div3_style_value = /*skinTonePickerExpanded*/ ctx[11]\n\t\t\t? \"transform: translateY(0);\"\n\t\t\t: \"transform: translateY(calc(-1 * var(--num-skintones) * var(--total-emoji-size)))\")) {\n\t\t\t\tattr(div3, \"style\", div3_style_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div3_aria_label_value !== (div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel)) {\n\t\t\t\tattr(div3, \"aria-label\", div3_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSkinTone*/ 32768 && div3_aria_activedescendant_value !== (div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[15])) {\n\t\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 2048 && div3_aria_hidden_value !== (div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[11])) {\n\t\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups, i18n, searchMode, currentGroup, onNavClick*/ 1086324865) {\n\t\t\t\tconst each_value_3 = /*groups*/ ctx[22];\n\t\t\t\teach_blocks_2 = update_keyed_each(each_blocks_2, dirty, get_key_1, 1, ctx, each_value_3, each1_lookup, div5, destroy_block, create_each_block_3, null, get_each_context_3);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups*/ 4194304) {\n\t\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[22].length + \", 1fr)\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div5_aria_label_value !== (div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel)) {\n\t\t\t\tattr(div5, \"aria-label\", div5_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*indicatorStyle*/ 1024) {\n\t\t\t\tattr(div6, \"style\", /*indicatorStyle*/ ctx[10]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 512) set_data(t4, /*message*/ ctx[9]);\n\n\t\t\tif (dirty[0] & /*message*/ 512 && div8_class_value !== (div8_class_value = \"message \" + (/*message*/ ctx[9] ? \"\" : \"gone\"))) {\n\t\t\t\tattr(div8, \"class\", div8_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, i18n, currentGroup*/ 75514245) {\n\t\t\t\tconst each_value_1 = /*currentEmojisWithCategories*/ ctx[2];\n\t\t\t\teach_blocks_1 = update_keyed_each(each_blocks_1, dirty, get_key_2, 1, ctx, each_value_1, each2_lookup, div9, destroy_block, create_each_block_1, null, get_each_context_1);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*loaded, message*/ 16777728 && div9_class_value !== (div9_class_value = \"tabpanel \" + (!/*loaded*/ ctx[24] || /*message*/ ctx[9] ? \"gone\" : \"\"))) {\n\t\t\t\tattr(div9, \"class\", div9_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 128 && div9_role_value !== (div9_role_value = /*searchMode*/ ctx[7] ? \"region\" : \"tabpanel\")) {\n\t\t\t\tattr(div9, \"role\", div9_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentGroup*/ 8388737 && div9_aria_label_value !== (div9_aria_label_value = /*searchMode*/ ctx[7]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[23].name])) {\n\t\t\t\tattr(div9, \"aria-label\", div9_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup*/ 8388736 && div9_id_value !== (div9_id_value = /*searchMode*/ ctx[7]\n\t\t\t? \"\"\n\t\t\t: `tab-${/*currentGroup*/ ctx[23].id}`)) {\n\t\t\t\tattr(div9, \"id\", div9_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*labelWithSkin, currentFavorites, currentSkinTone*/ 68173824) {\n\t\t\t\tconst each_value = /*currentFavorites*/ ctx[20];\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key_3, 1, ctx, each_value, each3_lookup, div10, destroy_block, create_each_block, null, get_each_context);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 512 && div10_class_value !== (div10_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[9] ? \"gone\" : \"\"))) {\n\t\t\t\tattr(div10, \"class\", div10_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div10_aria_label_value !== (div10_aria_label_value = /*i18n*/ ctx[0].favoritesLabel)) {\n\t\t\t\tattr(div10, \"aria-label\", div10_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*scrollbarWidth*/ 2097152) {\n\t\t\t\tset_style(div10, \"padding-right\", /*scrollbarWidth*/ ctx[21] + \"px\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && section_aria_label_value !== (section_aria_label_value = /*i18n*/ ctx[0].regionLabel)) {\n\t\t\t\tattr(section, \"aria-label\", section_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*pickerStyle*/ 131072) {\n\t\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[17]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].d();\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[59](null);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].d();\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].d();\n\t\t\t}\n\n\t\t\t/*div9_binding*/ ctx[61](null);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\n\t\t\t/*button1_binding*/ ctx[62](null);\n\t\t\t/*section_binding*/ ctx[63](null);\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction unicodeWithSkin(emoji, currentSkinTone) {\n\treturn currentSkinTone && emoji.skins && emoji.skins[currentSkinTone] || emoji.unicode;\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { locale = null } = $$props;\n\tlet { dataSource = null } = $$props;\n\tlet { skinToneEmoji = DEFAULT_SKIN_TONE_EMOJI } = $$props;\n\tlet { i18n = enI18n } = $$props;\n\tlet { database = null } = $$props;\n\tlet { customEmoji = null } = $$props;\n\n\t// private\n\tlet initialLoad = true;\n\n\tlet currentEmojis = [];\n\tlet currentEmojisWithCategories = []; // eslint-disable-line no-unused-vars\n\tlet rawSearchText = \"\";\n\tlet searchText = \"\";\n\tlet rootElement;\n\tlet baselineEmoji;\n\tlet tabpanelElement;\n\tlet searchMode = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItem = -1;\n\tlet message; // eslint-disable-line no-unused-vars\n\tlet computedIndicatorWidth = 0;\n\tlet indicatorStyle = \"\"; // eslint-disable-line no-unused-vars\n\tlet skinTonePickerExpanded = false;\n\tlet skinTonePickerExpandedAfterAnimation = false; // eslint-disable-line no-unused-vars\n\tlet skinToneDropdown;\n\tlet currentSkinTone = 0;\n\tlet activeSkinTone = 0;\n\tlet skinToneButtonText; // eslint-disable-line no-unused-vars\n\tlet pickerStyle; // eslint-disable-line no-unused-vars\n\tlet skinToneButtonLabel = \"\"; // eslint-disable-line no-unused-vars\n\tlet skinTones = [];\n\tlet currentFavorites = []; // eslint-disable-line no-unused-vars\n\tlet defaultFavoriteEmojis;\n\tlet numColumns = DEFAULT_NUM_COLUMNS;\n\tlet scrollbarWidth = 0; // eslint-disable-line no-unused-vars\n\tlet currentGroupIndex = 0;\n\tlet groups$1 = groups;\n\tlet currentGroup;\n\tlet loaded = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItemId; // eslint-disable-line no-unused-vars\n\n\t//\n\t// Utils/helpers\n\t//\n\tfunction focus(id) {\n\t\trootElement.getRootNode().getElementById(id).focus();\n\t}\n\n\t// fire a custom event that crosses the shadow boundary\n\tfunction fireEvent(name, detail) {\n\t\trootElement.dispatchEvent(new CustomEvent(name, { detail, bubbles: true, composed: true }));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction labelWithSkin(emoji, currentSkinTone) {\n\t\treturn uniq([emoji.name || unicodeWithSkin(emoji, currentSkinTone), ...emoji.shortcodes]).join(\", \");\n\t}\n\n\t//\n\t// Determine the emoji support level (in requestIdleCallback)\n\t//\n\temojiSupportLevelPromise.then(level => {\n\t\tif (!level) {\n\t\t\t$$invalidate(9, message = i18n.emojiUnsupportedMessage);\n\t\t}\n\t});\n\n\t// TODO: this is a bizarre way to set these default properties, but currently Svelte\n\t// renders custom elements in an odd way - props are not set when calling the constructor,\n\t// but are only set later. This would cause a double render or a double-fetch of\n\t// the dataSource, which is bad. Delaying with a microtask avoids this.\n\t// See https://github.com/sveltejs/svelte/pull/4527\n\tonMount(async () => {\n\t\tawait tick();\n\t\t$$invalidate(38, locale = locale || DEFAULT_LOCALE);\n\t\t$$invalidate(39, dataSource = dataSource || DEFAULT_DATA_SOURCE);\n\t});\n\n\tonDestroy(async () => {\n\t\tif (database) {\n\t\t\tawait database.close();\n\t\t}\n\t});\n\n\t//\n\t// Calculate the width of the emoji grid. This serves two purposes:\n\t// 1) Re-calculate the --num-columns var because it may have changed\n\t// 2) Re-calculate the scrollbar width because it may have changed\n\t//   (i.e. because the number of items changed)\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction calculateEmojiGridWidth(node) {\n\t\treturn calculateWidth(node, width => {\n\t\t\tconst newNumColumns = \"production\" === \"test\"\n\t\t\t? DEFAULT_NUM_COLUMNS\n\t\t\t: parseInt(getComputedStyle(rootElement).getPropertyValue(\"--num-columns\"), 10);\n\n\t\t\tconst parentWidth = \"production\" === \"test\"\n\t\t\t? 1\n\t\t\t: node.parentElement.getBoundingClientRect().width; // jsdom throws an error here occasionally\n\n\t\t\tconst newScrollbarWidth = parentWidth - width;\n\t\t\t$$invalidate(47, numColumns = newNumColumns);\n\t\t\t$$invalidate(21, scrollbarWidth = newScrollbarWidth);\n\t\t});\n\t}\n\n\t//\n\t// Animate the indicator\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction calculateIndicatorWidth(node) {\n\t\treturn calculateWidth(node, width => {\n\t\t\t$$invalidate(45, computedIndicatorWidth = width);\n\t\t});\n\t}\n\n\tfunction checkZwjSupportAndUpdate(zwjEmojisToCheck) {\n\t\tconst rootNode = rootElement.getRootNode();\n\n\t\t// Jest doesn't seem to understand that shadowRoot.getElementById() is a thing\n\t\tconst emojiToDomNode = \"production\" === \"test\"\n\t\t? emoji => rootNode.querySelector(`[id=${JSON.stringify(\"emo-\" + emoji.id)}]`)\n\t\t: emoji => rootNode.getElementById(`emo-${emoji.id}`);\n\n\t\tcheckZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode);\n\n\t\t// force update\n\t\t$$invalidate(1, currentEmojis = currentEmojis); // eslint-disable-line no-self-assign\n\t}\n\n\tfunction isZwjSupported(emoji) {\n\t\treturn !emoji.unicode || !hasZwj(emoji) || supportedZwjEmojis.get(emoji.unicode);\n\t}\n\n\tasync function filterEmojisByVersion(emojis) {\n\t\tconst emojiSupportLevel = await emojiSupportLevelPromise;\n\n\t\t// !version corresponds to custom emoji\n\t\treturn emojis.filter(({ version }) => !version || version <= emojiSupportLevel);\n\t}\n\n\tasync function summarizeEmojis(emojis) {\n\t\treturn summarizeEmojisForUI(emojis, await emojiSupportLevelPromise);\n\t}\n\n\tasync function getEmojisByGroup(group) {\n\n\t\tif (typeof group === \"undefined\") {\n\t\t\treturn [];\n\t\t}\n\n\t\t// -1 is custom emoji\n\t\tconst emoji = group === -1\n\t\t? customEmoji\n\t\t: await database.getEmojiByGroup(group);\n\n\t\treturn summarizeEmojis(await filterEmojisByVersion(emoji));\n\t}\n\n\tasync function getEmojisBySearchQuery(query) {\n\t\treturn summarizeEmojis(await filterEmojisByVersion(await database.getEmojiBySearchQuery(query)));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSearchKeydown(event) {\n\t\tif (!searchMode || !currentEmojis.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst goToNextOrPrevious = previous => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(8, activeSearchItem = incrementOrDecrement(previous, activeSearchItem, currentEmojis));\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowDown\":\n\t\t\t\treturn goToNextOrPrevious(false);\n\t\t\tcase \"ArrowUp\":\n\t\t\t\treturn goToNextOrPrevious(true);\n\t\t\tcase \"Enter\":\n\t\t\t\tif (activeSearchItem !== -1) {\n\t\t\t\t\thalt(event);\n\t\t\t\t\treturn clickEmoji(currentEmojis[activeSearchItem].id);\n\t\t\t\t} else if (currentEmojis.length) {\n\t\t\t\t\t$$invalidate(8, activeSearchItem = 0);\n\t\t\t\t}\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on nav\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavClick(group) {\n\t\t$$invalidate(3, rawSearchText = \"\");\n\t\t$$invalidate(44, searchText = \"\");\n\t\t$$invalidate(8, activeSearchItem = -1);\n\t\t$$invalidate(48, currentGroupIndex = groups$1.findIndex(_ => _.id === group.id));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavKeydown(event) {\n\t\tconst { target, key } = event;\n\n\t\tconst doFocus = el => {\n\t\t\tif (el) {\n\t\t\t\thalt(event);\n\t\t\t\tel.focus();\n\t\t\t}\n\t\t};\n\n\t\tswitch (key) {\n\t\t\tcase \"ArrowLeft\":\n\t\t\t\treturn doFocus(target.previousSibling);\n\t\t\tcase \"ArrowRight\":\n\t\t\t\treturn doFocus(target.nextSibling);\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on an emoji\n\t//\n\tasync function clickEmoji(unicodeOrName) {\n\t\tconst emoji = await database.getEmojiByUnicodeOrName(unicodeOrName);\n\t\tconst emojiSummary = [...currentEmojis, ...currentFavorites].find(_ => _.id === unicodeOrName);\n\t\tconst skinTonedUnicode = emojiSummary.unicode && unicodeWithSkin(emojiSummary, currentSkinTone);\n\t\tawait database.incrementFavoriteEmojiCount(unicodeOrName);\n\n\t\t// eslint-disable-next-line no-self-assign\n\t\t$$invalidate(46, defaultFavoriteEmojis = defaultFavoriteEmojis); // force favorites to re-render\n\n\t\tfireEvent(\"emoji-click\", {\n\t\t\temoji,\n\t\t\tskinTone: currentSkinTone,\n\t\t\t...skinTonedUnicode && { unicode: skinTonedUnicode },\n\t\t\t...emojiSummary.name && { name: emojiSummary.name }\n\t\t});\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onEmojiClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!target.classList.contains(\"emoji\")) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst id = target.id.substring(4); // replace 'emo-' or 'fav-' prefix\n\n\t\t/* no await */\n\t\tclickEmoji(id);\n\t}\n\n\t//\n\t// Handle user input on the skintone picker\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!target.classList.contains(\"skintone-option\")) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst skinTone = parseInt(target.id.slice(9), 10); // remove 'skintone-' prefix\n\t\t$$invalidate(14, currentSkinTone = skinTone);\n\t\t$$invalidate(11, skinTonePickerExpanded = false);\n\t\tfocus(\"skintone-button\");\n\t\tfireEvent(\"skin-tone-change\", { skinTone });\n\n\t\t/* no await */\n\t\tdatabase.setPreferredSkinTone(skinTone);\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onClickSkinToneButton(event) {\n\t\t$$invalidate(11, skinTonePickerExpanded = !skinTonePickerExpanded);\n\t\t$$invalidate(15, activeSkinTone = currentSkinTone);\n\n\t\tif (skinTonePickerExpanded) {\n\t\t\thalt(event);\n\t\t\trAF(() => focus(`skintone-${activeSkinTone}`));\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeydown(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst goToNextOrPrevious = async previous => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(15, activeSkinTone = incrementOrDecrement(previous, activeSkinTone, skinTones));\n\t\t\tawait tick();\n\t\t\tfocus(`skintone-${activeSkinTone}`);\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowUp\":\n\t\t\t\treturn goToNextOrPrevious(true);\n\t\t\tcase \"ArrowDown\":\n\t\t\t\treturn goToNextOrPrevious(false);\n\t\t\tcase \"Enter\":\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\treturn onSkinToneOptionsClick(event);\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeyup(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (event.key) {\n\t\t\tcase \" \":\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\treturn onSkinToneOptionsClick(event);\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsFocusOut(event) {\n\t\t// On blur outside of the skintone options, collapse the skintone picker.\n\t\t// Except if focus is just moving to another skintone option, e.g. pressing up/down to change focus\n\t\tconst { relatedTarget } = event;\n\n\t\tif (!relatedTarget || !relatedTarget.classList.contains(\"skintone-option\")) {\n\t\t\t$$invalidate(11, skinTonePickerExpanded = false);\n\t\t}\n\t}\n\n\tfunction input_input_handler() {\n\t\trawSearchText = this.value;\n\t\t$$invalidate(3, rawSearchText);\n\t}\n\n\tfunction div3_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\t$$invalidate(13, skinToneDropdown = $$value);\n\t\t});\n\t}\n\n\tconst click_handler = group => onNavClick(group);\n\n\tfunction div9_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\t$$invalidate(6, tabpanelElement = $$value);\n\t\t});\n\t}\n\n\tfunction button1_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\t$$invalidate(5, baselineEmoji = $$value);\n\t\t});\n\t}\n\n\tfunction section_binding($$value) {\n\t\tbinding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n\t\t\t$$invalidate(4, rootElement = $$value);\n\t\t});\n\t}\n\n\t$$self.$set = $$props => {\n\t\tif (\"locale\" in $$props) $$invalidate(38, locale = $$props.locale);\n\t\tif (\"dataSource\" in $$props) $$invalidate(39, dataSource = $$props.dataSource);\n\t\tif (\"skinToneEmoji\" in $$props) $$invalidate(41, skinToneEmoji = $$props.skinToneEmoji);\n\t\tif (\"i18n\" in $$props) $$invalidate(0, i18n = $$props.i18n);\n\t\tif (\"database\" in $$props) $$invalidate(40, database = $$props.database);\n\t\tif (\"customEmoji\" in $$props) $$invalidate(42, customEmoji = $$props.customEmoji);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty[1] & /*locale, dataSource, database*/ 896) {\n\t\t\t {\n\t\t\t\tif (locale && dataSource && (!database || database.locale !== locale && database.dataSource !== dataSource)) {\n\t\t\t\t\t$$invalidate(40, database = new Database({ dataSource, locale }));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*customEmoji, database*/ 2560) {\n\t\t\t//\n\t\t\t// Set or update the customEmoji\n\t\t\t//\n\t\t\t {\n\t\t\t\tif (customEmoji && database) {\n\t\t\t\t\t$$invalidate(40, database.customEmoji = customEmoji, database);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n, message*/ 513 | $$self.$$.dirty[1] & /*database*/ 512) {\n\t\t\t//\n\t\t\t// Set or update the database object\n\t\t\t//\n\t\t\t {\n\t\t\t\t// show a Loading message if it takes a long time, or show an error if there's a network/IDB error\n\t\t\t\tasync function handleDatabaseLoading() {\n\t\t\t\t\tconst timeoutHandle = setTimeout(\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t$$invalidate(9, message = i18n.loadingMessage);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tTIMEOUT_BEFORE_LOADING_MESSAGE\n\t\t\t\t\t);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait database.ready();\n\t\t\t\t\t\t$$invalidate(24, loaded = true);\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t$$invalidate(9, message = i18n.networkErrorMessage);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tclearTimeout(timeoutHandle);\n\n\t\t\t\t\t\tif (message === i18n.loadingMessage) {\n\t\t\t\t\t\t\t$$invalidate(9, message = \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (database) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\thandleDatabaseLoading();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups*/ 4194304 | $$self.$$.dirty[1] & /*customEmoji*/ 2048) {\n\t\t\t {\n\t\t\t\tif (customEmoji && customEmoji.length) {\n\t\t\t\t\t$$invalidate(22, groups$1 = [customGroup, ...groups]);\n\t\t\t\t} else if (groups$1 !== groups) {\n\t\t\t\t\t$$invalidate(22, groups$1 = groups);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*rawSearchText*/ 8) {\n\t\t\t//\n\t\t\t// Handle user input on the search input\n\t\t\t//\n\t\t\t {\n\t\t\t\trIC(() => {\n\t\t\t\t\t$$invalidate(44, searchText = (rawSearchText || \"\").trim()); // defer to avoid input delays, plus we can trim here\n\t\t\t\t\t$$invalidate(8, activeSearchItem = -1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups*/ 4194304 | $$self.$$.dirty[1] & /*currentGroupIndex*/ 131072) {\n\t\t\t//\n\t\t\t// Update the current group based on the currentGroupIndex\n\t\t\t//\n\t\t\t $$invalidate(23, currentGroup = groups$1[currentGroupIndex]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentGroup*/ 8388608 | $$self.$$.dirty[1] & /*database, searchText*/ 8704) {\n\t\t\t//\n\t\t\t// Set or update the currentEmojis. Check for invalid ZWJ renderings\n\t\t\t// (i.e. double emoji).\n\t\t\t//\n\t\t\t {\n\t\t\t\tasync function updateEmojis() {\n\n\t\t\t\t\tif (!database) {\n\t\t\t\t\t\t$$invalidate(1, currentEmojis = []);\n\t\t\t\t\t\t$$invalidate(7, searchMode = false);\n\t\t\t\t\t} else if (searchText.length >= MIN_SEARCH_TEXT_LENGTH) {\n\t\t\t\t\t\t$$invalidate(1, currentEmojis = await getEmojisBySearchQuery(searchText));\n\t\t\t\t\t\t$$invalidate(7, searchMode = true);\n\t\t\t\t\t} else if (currentGroup) {\n\t\t\t\t\t\t$$invalidate(1, currentEmojis = await getEmojisByGroup(currentGroup.id));\n\t\t\t\t\t\t$$invalidate(7, searchMode = false);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdateEmojis();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, searchMode*/ 4194432) {\n\t\t\t//\n\t\t\t// Global styles for the entire picker\n\t\t\t//\n\t\t\t $$invalidate(17, pickerStyle = `\n  --font-family: ${FONT_FAMILY};\n  --num-groups: ${groups$1.length}; \n  --indicator-opacity: ${searchMode ? 0 : 1}; \n  --num-skintones: ${NUM_SKIN_TONES};`);\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*database*/ 512) {\n\t\t\t//\n\t\t\t// Set or update the preferred skin tone\n\t\t\t//\n\t\t\t {\n\t\t\t\tasync function updatePreferredSkinTone() {\n\t\t\t\t\tif (database) {\n\t\t\t\t\t\t$$invalidate(14, currentSkinTone = await database.getPreferredSkinTone());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdatePreferredSkinTone();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*skinToneEmoji*/ 1024) {\n\t\t\t $$invalidate(19, skinTones = Array(NUM_SKIN_TONES).fill().map((_, i) => applySkinTone(skinToneEmoji, i)));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTones, currentSkinTone*/ 540672) {\n\t\t\t $$invalidate(16, skinToneButtonText = skinTones[currentSkinTone]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n, currentSkinTone*/ 16385) {\n\t\t\t $$invalidate(18, skinToneButtonLabel = i18n.skinToneLabel.replace(\"{skinTone}\", i18n.skinTones[currentSkinTone]));\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*database*/ 512) {\n\t\t\t//\n\t\t\t// Set or update the favorites emojis\n\t\t\t//\n\t\t\t {\n\t\t\t\tasync function updateDefaultFavoriteEmojis() {\n\t\t\t\t\t$$invalidate(46, defaultFavoriteEmojis = (await Promise.all(MOST_COMMONLY_USED_EMOJI.map(unicode => database.getEmojiByUnicodeOrName(unicode)))).filter(Boolean)); // filter because in Jest tests we don't have all the emoji in the DB\n\t\t\t\t}\n\n\t\t\t\tif (database) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateDefaultFavoriteEmojis();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*database, numColumns, defaultFavoriteEmojis*/ 98816) {\n\t\t\t {\n\t\t\t\tasync function updateFavorites() {\n\t\t\t\t\tconst dbFavorites = await database.getTopFavoriteEmoji(numColumns);\n\t\t\t\t\tconst favorites = await summarizeEmojis(uniqBy([...dbFavorites, ...defaultFavoriteEmojis], _ => _.unicode || _.name).slice(0, numColumns));\n\t\t\t\t\t$$invalidate(20, currentFavorites = favorites);\n\t\t\t\t}\n\n\t\t\t\tif (database && defaultFavoriteEmojis) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateFavorites();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*currentGroupIndex, computedIndicatorWidth*/ 147456) {\n\t\t\t// TODO: Chrome has an unfortunate bug where we can't use a simple percent-based transform\n\t\t\t// here, becuause it's janky. You can especially see this on a Nexus 5.\n\t\t\t// So we calculate of the indicator and use exact pixel values in the animation instead\n\t\t\t// (where ResizeObserver is supported).\n\t\t\t {\n\t\t\t\t/* istanbul ignore if */\n\t\t\t\tif (resizeObserverSupported) {\n\t\t\t\t\t$$invalidate(10, indicatorStyle = `transform: translateX(${currentGroupIndex * computedIndicatorWidth}px);`); // exact pixels\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(10, indicatorStyle = `transform: translateX(${currentGroupIndex * 100}%);`); // fallback to percent-based\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis*/ 2) {\n\t\t\t// Some emojis have their ligatures rendered as two or more consecutive emojis\n\t\t\t// We want to treat these the same as unsupported emojis, so we compare their\n\t\t\t// widths against the baseline widths and remove them as necessary\n\t\t\t {\n\t\t\t\tconst zwjEmojisToCheck = currentEmojis.filter(emoji => emoji.unicode).filter(emoji => hasZwj(emoji) && !supportedZwjEmojis.has(emoji.unicode)); // filter custom emoji\n\n\t\t\t\tif (zwjEmojisToCheck.length) {\n\t\t\t\t\t// render now, check their length later\n\t\t\t\t\trAF(() => checkZwjSupportAndUpdate(zwjEmojisToCheck));\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(1, currentEmojis = currentEmojis.filter(isZwjSupported));\n\n\t\t\t\t\trAF(() => {\n\t\t\t\t\t\t// reset scroll top to 0 when emojis change\n\t\t\t\t\t\tif (\"production\" !== \"test\") {\n\t\t\t\t\t\t\t$$invalidate(6, tabpanelElement.scrollTop = 0, tabpanelElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis, currentFavorites*/ 1048578 | $$self.$$.dirty[1] & /*initialLoad*/ 4096) {\n\t\t\t {\n\t\t\t\t// consider initialLoad to be complete when the first tabpanel and favorites are rendered\n\t\t\t\tif (\"production\" !== \"production\" || false) {\n\t\t\t\t\tif (currentEmojis.length && currentFavorites.length && initialLoad) {\n\t\t\t\t\t\t$$invalidate(43, initialLoad = false);\n\t\t\t\t\t\trequestPostAnimationFrame(() => stop());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*searchMode, currentEmojis*/ 130) {\n\t\t\t//\n\t\t\t// Derive currentEmojisWithCategories from currentEmojis. This is always done even if there\n\t\t\t// are no categories, because it's just easier to code the HTML this way.\n\t\t\t//\n\t\t\t {\n\t\t\t\tfunction calculateCurrentEmojisWithCategories() {\n\t\t\t\t\tif (searchMode) {\n\t\t\t\t\t\treturn [{ category: \"\", emojis: currentEmojis }];\n\t\t\t\t\t}\n\n\t\t\t\t\tconst categoriesToEmoji = new Map();\n\n\t\t\t\t\tfor (const emoji of currentEmojis) {\n\t\t\t\t\t\tconst category = emoji.category || \"\";\n\t\t\t\t\t\tlet emojis = categoriesToEmoji.get(category);\n\n\t\t\t\t\t\tif (!emojis) {\n\t\t\t\t\t\t\temojis = [];\n\t\t\t\t\t\t\tcategoriesToEmoji.set(category, emojis);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\temojis.push(emoji);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [...categoriesToEmoji.entries()].map(([category, emojis]) => ({ category, emojis })).sort((a, b) => a.category < b.category ? -1 : 1);\n\t\t\t\t}\n\n\t\t\t\t$$invalidate(2, currentEmojisWithCategories = calculateCurrentEmojisWithCategories());\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*activeSearchItem, currentEmojis*/ 258) {\n\t\t\t//\n\t\t\t// Handle active search item (i.e. pressing up or down while searching)\n\t\t\t//\n\t\t\t $$invalidate(25, activeSearchItemId = activeSearchItem !== -1 && currentEmojis[activeSearchItem].id);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTonePickerExpanded, skinToneDropdown*/ 10240) {\n\t\t\t// To make the animation nicer, change the z-index of the skintone picker button\n\t\t\t// *after* the animation has played. This makes it appear that the picker box\n\t\t\t// is expanding \"below\" the button\n\t\t\t {\n\t\t\t\tif (skinTonePickerExpanded) {\n\t\t\t\t\tskinToneDropdown.addEventListener(\n\t\t\t\t\t\t\"transitionend\",\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t$$invalidate(12, skinTonePickerExpandedAfterAnimation = true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ once: true }\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(12, skinTonePickerExpandedAfterAnimation = false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\ti18n,\n\t\tcurrentEmojis,\n\t\tcurrentEmojisWithCategories,\n\t\trawSearchText,\n\t\trootElement,\n\t\tbaselineEmoji,\n\t\ttabpanelElement,\n\t\tsearchMode,\n\t\tactiveSearchItem,\n\t\tmessage,\n\t\tindicatorStyle,\n\t\tskinTonePickerExpanded,\n\t\tskinTonePickerExpandedAfterAnimation,\n\t\tskinToneDropdown,\n\t\tcurrentSkinTone,\n\t\tactiveSkinTone,\n\t\tskinToneButtonText,\n\t\tpickerStyle,\n\t\tskinToneButtonLabel,\n\t\tskinTones,\n\t\tcurrentFavorites,\n\t\tscrollbarWidth,\n\t\tgroups$1,\n\t\tcurrentGroup,\n\t\tloaded,\n\t\tactiveSearchItemId,\n\t\tlabelWithSkin,\n\t\tcalculateEmojiGridWidth,\n\t\tcalculateIndicatorWidth,\n\t\tonSearchKeydown,\n\t\tonNavClick,\n\t\tonNavKeydown,\n\t\tonEmojiClick,\n\t\tonSkinToneOptionsClick,\n\t\tonClickSkinToneButton,\n\t\tonSkinToneOptionsKeydown,\n\t\tonSkinToneOptionsKeyup,\n\t\tonSkinToneOptionsFocusOut,\n\t\tlocale,\n\t\tdataSource,\n\t\tdatabase,\n\t\tskinToneEmoji,\n\t\tcustomEmoji,\n\t\tinitialLoad,\n\t\tsearchText,\n\t\tcomputedIndicatorWidth,\n\t\tdefaultFavoriteEmojis,\n\t\tnumColumns,\n\t\tcurrentGroupIndex,\n\t\tfocus,\n\t\tfireEvent,\n\t\tcheckZwjSupportAndUpdate,\n\t\tisZwjSupported,\n\t\tfilterEmojisByVersion,\n\t\tsummarizeEmojis,\n\t\tgetEmojisByGroup,\n\t\tgetEmojisBySearchQuery,\n\t\tclickEmoji,\n\t\tinput_input_handler,\n\t\tdiv3_binding,\n\t\tclick_handler,\n\t\tdiv9_binding,\n\t\tbutton1_binding,\n\t\tsection_binding\n\t];\n}\n\nclass Picker extends SvelteElement {\n\tconstructor(options) {\n\t\tsuper();\n\t\tthis.shadowRoot.innerHTML = `<style>:host{--emoji-padding:0.5rem;--emoji-size:1.375rem;--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}@media(prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}}button{margin:0;padding:0;border:none;background:none;box-shadow:none;cursor:pointer;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:none}:focus:not(:focus-visible){outline:none}.hide-focus{outline:none}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + 2*var(--emoji-padding))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.cursor-pointer{cursor:pointer}.skintone-button-wrapper{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;right:0;top:0;z-index:2;overflow:visible;background:var(--background);border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media(prefers-reduced-motion:reduce){.skintone-list{transition-duration:1ms}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--font-family)}@media(hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{height:var(--total-emoji-size);width:var(--total-emoji-size);padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:50%;background-size:var(--emoji-size) var(--emoji-size)}.nav{display:grid;justify-content:space-between;contain:content}.nav,.nav-button{align-items:center}.nav-button{display:flex;justify-content:center}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media(prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top{width:100%;height:var(--emoji-padding);z-index:3;background:var(--background)}.search-row{display:flex;align-items:center;position:relative;padding-left:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);background:var(--background);color:var(--input-font-color);width:100%;font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}</style>`;\n\n\t\tinit(\n\t\t\tthis,\n\t\t\t{ target: this.shadowRoot },\n\t\t\tinstance,\n\t\t\tcreate_fragment,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tlocale: 38,\n\t\t\t\tdataSource: 39,\n\t\t\t\tskinToneEmoji: 41,\n\t\t\t\ti18n: 0,\n\t\t\t\tdatabase: 40,\n\t\t\t\tcustomEmoji: 42\n\t\t\t},\n\t\t\t[-1, -1, -1]\n\t\t);\n\n\t\tif (options) {\n\t\t\tif (options.target) {\n\t\t\t\tinsert(options.target, this, options.anchor);\n\t\t\t}\n\n\t\t\tif (options.props) {\n\t\t\t\tthis.$set(options.props);\n\t\t\t\tflush();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn [\"locale\", \"dataSource\", \"skinToneEmoji\", \"i18n\", \"database\", \"customEmoji\"];\n\t}\n\n\tget locale() {\n\t\treturn this.$$.ctx[38];\n\t}\n\n\tset locale(locale) {\n\t\tthis.$set({ locale });\n\t\tflush();\n\t}\n\n\tget dataSource() {\n\t\treturn this.$$.ctx[39];\n\t}\n\n\tset dataSource(dataSource) {\n\t\tthis.$set({ dataSource });\n\t\tflush();\n\t}\n\n\tget skinToneEmoji() {\n\t\treturn this.$$.ctx[41];\n\t}\n\n\tset skinToneEmoji(skinToneEmoji) {\n\t\tthis.$set({ skinToneEmoji });\n\t\tflush();\n\t}\n\n\tget i18n() {\n\t\treturn this.$$.ctx[0];\n\t}\n\n\tset i18n(i18n) {\n\t\tthis.$set({ i18n });\n\t\tflush();\n\t}\n\n\tget database() {\n\t\treturn this.$$.ctx[40];\n\t}\n\n\tset database(database) {\n\t\tthis.$set({ database });\n\t\tflush();\n\t}\n\n\tget customEmoji() {\n\t\treturn this.$$.ctx[42];\n\t}\n\n\tset customEmoji(customEmoji) {\n\t\tthis.$set({ customEmoji });\n\t\tflush();\n\t}\n}\n\nclass Picker$1 extends Picker {\n  constructor (props) {\n    // Make the API simpler, directly pass in the props\n    super({ props });\n  }\n\n  disconnectedCallback () {\n    this.$destroy();\n  }\n}\n\ncustomElements.define('emoji-picker', Picker$1);\n\nexport default Picker$1;\n","<script>\n    import Picker from 'emoji-picker-element/svelte'\n\n    const picker = new Picker();\n    let pickemojis = [];\n    let pickemoji = '';\n    let i = -1;\n\n    document.body.appendChild(picker);\n    picker.addEventListener('emoji-click', event => {\n        pickemojis = pickemojis.concat(event.detail.emoji.unicode);\n        i = pickemojis.length - 1;\n        pickemoji = (event.detail.emoji.unicode);\n        document.querySelector('input').value += pickemoji;\n    });\n    function myFunction() {\n        var copyText = document.getElementById(\"emojis\");\n        copyText.select();\n        copyText.setSelectionRange(0, 99999)\n        document.execCommand(\"copy\");\n    }\n</script>\n\n<style>\n    .copy{\n        display: flex;\n        max-width: 344px;\n    }\n    #emojis {\n        padding: 5px;\n        background: #DDD;\n        border-radius: 10px;\n        width: 264px;\n        margin: 3px;\n        height: 30px;\n        border: none;\n    }\n    button{\n        width: 100px;\n        height: 30px;\n        margin-top: 5px;\n    }\n</style>\n<div id=\"neutralinoapp\">\n    <div class=\"copy\">\n        <input id=\"emojis\" value=\"\">\n        <button id=\"copyText\" on:click=\"{myFunction}\">Copy!</button>\n    </div>\n</div>\n","import App from './App.svelte';    \n\nNeutralino.init({\n    load: function() {\n\n        const app = new App({\n            target: document.body,\n        });\n        \n        window.app = app;\n    },\n    pingSuccessCallback : function() {\n        \n    },\n    pingFailCallback : function() {\n            app.exit();\n    }\n});"],"sourceRoot":""}