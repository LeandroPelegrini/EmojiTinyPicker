!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){var o=n(1);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(t=n(2)(!1)).push([e.i,".copy.svelte-1puvk01{display:flex;max-width:344px}#emojis.svelte-1puvk01{padding:5px;background:#DDD;border-radius:10px;width:264px;margin:3px;height:30px;border:none}button.svelte-1puvk01{width:100px;height:30px;margin-top:5px}",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot).concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o=0;o<e.length;o++){var r=[].concat(e[o]);n&&(r[2]?r[2]="".concat(n," and ").concat(r[2]):r[2]=n),t.push(r)}},t}},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},c=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=s.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),l=null,u=0,d=[],f=n(4);function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(v(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(v(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function m(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(e.insertAt.before,n);n.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function b(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return n.nc}();o&&(e.attrs.nonce=o)}return y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=u++;n=l||(l=b(t)),o=j.bind(null,n,a,!1),r=j.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),o=$.bind(null,n,t),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),o=x.bind(null,n),r=function(){g(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}e&&p(h(e,t),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var w,k=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function j(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=k(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function x(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function $(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=f(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){"use strict";function o(){}n.r(t);function r(e){return e()}function i(){return Object.create(null)}function a(e){e.forEach(r)}function s(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e){return e&&s(e.destroy)?e.destroy:o}new Set;function u(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function p(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function m(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function g(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}function v(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}new Set;let w;function k(e){w=e}function j(){if(!w)throw new Error("Function called outside component initialization");return w}const x=[],$=[],E=[],S=[],T=Promise.resolve();let L=!1;function _(){L||(L=!0,T.then(M))}function C(){return _(),T}function z(e){E.push(e)}let A=!1;const U=new Set;function M(){if(!A){A=!0;do{for(let e=0;e<x.length;e+=1){const t=x[e];k(t),R(t.$$)}for(x.length=0;$.length;)$.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];U.has(t)||(U.add(t),t())}E.length=0}while(x.length);for(;S.length;)S.pop()();L=!1,A=!1,U.clear()}}function R(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}const B=new Set;function O(e,t){e&&e.i&&(B.delete(e),e.i(t))}const D="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function N(e,t){e.d(1),t.delete(e.key)}function I(e,t,n,o,r,i,a,s,c,l,u,d){let f=e.length,p=i.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],b=new Map,y=new Map;for(h=p;h--;){const e=d(r,i,h),s=n(e);let c=a.get(s);c?o&&c.p(e,t):(c=l(s,e),c.c()),b.set(s,g[h]=c),s in m&&y.set(s,Math.abs(h-m[s]))}const v=new Set,w=new Set;function k(e){O(e,1),e.m(s,u),a.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],o=t.key,r=n.key;t===n?(u=t.first,f--,p--):b.has(r)?!a.has(o)||v.has(o)?k(t):w.has(r)?f--:y.get(o)>y.get(r)?(w.add(o),k(t)):(v.add(r),f--):(c(n,a),f--)}for(;f--;){const t=e[f];b.has(t.key)||c(t,a)}for(;p;)k(g[p-1]);return g}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let P;function F(e,t){const n=e.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function q(e,t,n,c,l,u,d=[-1]){const p=w;k(e);const h=t.props||{},m=e.$$={fragment:null,ctx:null,props:u,update:o,not_equal:l,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:i(),dirty:d};let g=!1;if(m.ctx=n?n(e,h,(t,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&l(m.ctx[t],m.ctx[t]=r)&&(m.bound[t]&&m.bound[t](r),g&&function(e,t){-1===e.$$.dirty[0]&&(x.push(e),_(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n}):[],m.update(),g=!0,a(m.before_update),m.fragment=!!c&&c(m.ctx),t.target){if(t.hydrate){const e=(b=t.target,Array.from(b.childNodes));m.fragment&&m.fragment.l(e),e.forEach(f)}else m.fragment&&m.fragment.c();t.intro&&O(e.$$.fragment),function(e,t,n){const{fragment:o,on_mount:i,on_destroy:c,after_update:l}=e.$$;o&&o.m(t,n),z(()=>{const t=i.map(r).filter(s);c?c.push(...t):a(t),e.$$.on_mount=[]}),l.forEach(z)}(e,t.target,t.anchor),M()}var b;k(p)}"function"==typeof HTMLElement&&(P=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}$destroy(){F(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}});class H{$destroy(){F(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function V(e){if("string"!=typeof e||!e)throw new Error("expected a non-empty string, got: "+e)}function K(e){if("number"!=typeof e)throw new Error("expected a number, got: "+e)}const Y="eTag",G="url";function J(e){return function(e,t){const n=new Set,o=[];for(const r of e){const e=t(r);n.has(e)||(n.add(e),o.push(r))}return o}(e,e=>e.unicode)}const W=[{version:1,migration:function(e,t,n){function o(t,n,o){const r=n?e.createObjectStore(t,{keyPath:n}):e.createObjectStore(t);if(o)for(const[e,[t,n]]of Object.entries(o))r.createIndex(e,t,{multiEntry:n});return r}o("keyvalue"),o("emoji","unicode",{tokens:["tokens",!0],"group-order":[["group","order"]],skinUnicodes:["skinUnicodes",!0]}),o("favorites",void 0,{count:[""]}),n()}}],Q={},X={},Z={};function ee(e,t,n){n.onerror=()=>t(n.error),n.onblocked=()=>t(new Error("IDB blocked")),n.onsuccess=()=>e(n.result)}function te(e){return X[e]||(X[e]=async function(e){const t=await new Promise((t,n)=>{const o=indexedDB.open(e,1);Q[e]=o,o.onupgradeneeded=e=>{const t=o.result,n=e.currentTarget.transaction,r=W.filter(({version:t})=>e.oldVersion<t);!function e(){if(!r.length)return;const{migration:o}=r.shift();o(t,n,e)}()},ee(t,n,o)});return t.onclose=()=>oe(e),t}(e)),X[e]}function ne(e,t,n,o){return new Promise((r,i)=>{const a=e.transaction(t,n),s="string"==typeof t?a.objectStore(t):t.map(e=>a.objectStore(e));let c;o(s,e=>{c=e}),a.oncomplete=()=>r(c),a.onerror=()=>i(a.error)})}function oe(e){const t=Q[e],n=t&&t.result;if(n){n.close();const t=Z[e];if(t)for(const e of t)e()}delete Q[e],delete X[e],delete Z[e]}const re=new Set([":D","xD",":'D","o:)",":x",":p",";p","xp",":l",":z",":j","8D","xo","8)",":B",":o",":s",":'o","Dx","x(","D:",":c",">0)",":3","</3","<3","\\m/",":E","8#"]);function ie(e){return e.split(/[\s_]+/).map(e=>!e.match(/\w/)||re.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase()).filter(Boolean)}function ae(e,t,n,o){e[t](n).onsuccess=e=>o&&o(e.target.result)}function se(e,t,n){ae(e,"get",t,n)}function ce(e,t,n){ae(e,"getAll",t,n)}function le(e,t){const n=function(e,t){let n=e[0];for(let o=1;o<e.length;o++){const r=e[o];t(n)>t(r)&&(n=r)}return n}(e,e=>e.length),o=[];for(const r of n)e.some(e=>-1===e.findIndex(e=>t(e)===t(r)))||o.push(r);return o}async function ue(e,t,n,o){try{const r=function(e){return e.map(({annotation:e,emoticon:t,group:n,order:o,shortcodes:r,skins:i,tags:a,emoji:s,version:c})=>{const l=[...new Set([...r.map(ie).flat(),...a.map(ie).flat(),...ie(e),t].filter(Boolean).map(e=>e.toLowerCase()).filter(e=>e.length>=2))].sort(),u={annotation:e,group:n,order:o,shortcodes:r,tags:a,tokens:l,unicode:s,version:c};if(t&&(u.emoticon=t),i){u.skinTones=[],u.skinUnicodes=[],u.skinVersions=[];for(const{tone:e,emoji:t,version:n}of i)u.skinTones.push(e),u.skinUnicodes.push(t),u.skinVersions.push(n)}return u})}(t);await ne(e,["emoji","keyvalue"],"readwrite",([e,t])=>{let i,a,s,c=0;function l(){3==++c&&function(){if(i===o&&a===n)return;for(const t of s)e.delete(t);for(const t of r)e.put(t);t.put(o,Y),t.put(n,G)}()}se(t,Y,e=>{i=e,l()}),se(t,G,e=>{a=e,l()}),ae(e,"getAllKeys",void 0,e=>{s=e,l()})})}finally{}}async function de(e,t){const n=ie(t);return ne(e,"emoji","readonly",(e,t)=>{const o=[],r=()=>{const e=le(o,e=>e.unicode);t(e.sort((e,t)=>e.order<t.order?-1:1))};for(let t=0;t<n.length;t++){const i=n[t],a=t===n.length-1?IDBKeyRange.bound(i,i+"￿",!1,!0):IDBKeyRange.only(i);ce(e.index("tokens"),a,e=>{o.push(e),o.length===n.length&&r()})}})}function fe(e,t,n){return ne(e,t,"readonly",(e,t)=>se(e,n,t))}const pe=["name","shortcodes","url"];function he(e){!function(e){const t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||pe.some(t=>!(t in e[0])));if(!t||n)throw new Error("Expected custom emojis to be in correct format")}(e);const t=(e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1,n=e.sort(t),o=function(e,t){const n=new Map;for(const o of e){const e=t(o);for(const t of e){let e=n;for(let n=0;n<t.length;n++){const o=t.charAt(n);let r=e.get(o);r||(r=new Map,e.set(o,r)),e=r}let r=e.get("");r||(r=[],e.set("",r)),r.push(o)}}return(e,t)=>{let o=n;for(let t=0;t<e.length;t++){const n=e.charAt(t),r=o.get(n);if(!r)return[];o=r}if(t){return o.get("")||[]}const r=[],i=o?[o]:[];for(;i.length;){const e=[...i.shift().entries()].sort((e,t)=>e[0]<t[0]?-1:1);for(const[t,n]of e)""===t?r.push(...n):i.push(n)}return r}}(e,e=>[...new Set(e.shortcodes.map(e=>ie(e)).flat())]),r=e=>o(e,!0),i=e=>o(e,!1),a=new Map,s=new Map;for(const t of e){s.set(t.name.toLowerCase(),t);for(const e of t.shortcodes)a.set(e.toLowerCase(),t)}return{all:n,search:e=>{const n=ie(e);return le(n.map((e,t)=>(t<n.length-1?r:i)(e)),e=>e.name).sort(t)},byShortcode:e=>a.get(e.toLowerCase()),byName:e=>s.get(e.toLowerCase())}}function me(e){if(!e)return e;if(delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function ge(e){e||function(){console.warn(...arguments)}("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const be=["annotation","emoji","emoticon","group","order","shortcodes","tags","version"];function ye(e,t){if(2!==Math.floor(e.status/100))throw new Error("Failed to fetch: "+t+":  "+e.status)}async function ve(e){const t=await fetch(e);ye(t,e);const n=t.headers.get("etag");ge(n);const o=await t.json();return function(e){if(!e||!Array.isArray(e)||!e[0]||"object"!=typeof e[0]||be.some(t=>!(t in e[0])))throw new Error("Expected emojibase full (not compact) data, but data is in wrong format")}(o),[n,o]}async function we(e){const t=function(e){for(var t=e.length,n=new ArrayBuffer(t),o=new Uint8Array(n),r=-1;++r<t;)o[r]=e.charCodeAt(r);return n}(JSON.stringify(e)),n=function(e){for(var t="",n=new Uint8Array(e),o=n.byteLength,r=-1;++r<o;)t+=String.fromCharCode(n[r]);return t}(await crypto.subtle.digest("SHA-1",t));return btoa(n)}async function ke(e,t){let n,o=await async function(e){const t=await fetch(e,{method:"HEAD"});ye(t,e);const n=t.headers.get("etag");return ge(n),n}(t);if(!o){const e=await ve(t);o=e[0],n=e[1],o||(o=await we(n))}if(await async function(e,t,n){const[o,r]=await Promise.all([Y,G].map(t=>fe(e,"keyvalue",t)));return o===n&&r===t}(e,t,o));else{if(!n){n=(await ve(t))[1]}await ue(e,n,t,o)}}var je=class{constructor({dataSource:e="https://cdn.jsdelivr.net/npm/emojibase-data@5/en/data.json",locale:t="en",customEmoji:n=[]}={}){this.dataSource=e,this.locale=t,this._dbName="emoji-picker-element-"+this.locale,this._db=void 0,this._lazyUpdate=void 0,this._custom=he(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await te(this._dbName);!function(e,t){let n=Z[e];n||(n=Z[e]=[]),n.push(t)}(this._dbName,this._clear);const t=this.dataSource;await async function(e){return!await fe(e,"keyvalue",G)}(e)?await async function(e,t){let[n,o]=await ve(t);n||(n=await we(o)),await ue(e,o,t,n)}(e,t):this._lazyUpdate=ke(e,t)}async ready(){return this._ready||(this._ready=this._init()),this._ready}async getEmojiByGroup(e){return K(e),await this.ready(),J(await async function(e,t){return ne(e,"emoji","readonly",(e,n)=>{const o=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);ce(e.index("group-order"),o,n)})}(this._db,e)).map(me)}async getEmojiBySearchQuery(e){V(e),await this.ready();return[...this._custom.search(e),...J(await de(this._db,e)).map(me)]}async getEmojiByShortcode(e){V(e),await this.ready();const t=this._custom.byShortcode(e);return t||me(await async function(e,t){return(await de(e,t)).filter(e=>e.shortcodes.map(e=>e.toLowerCase()).includes(t.toLowerCase()))[0]||null}(this._db,e))}async getEmojiByUnicodeOrName(e){V(e),await this.ready();const t=this._custom.byName(e);return t||me(await async function(e,t){return ne(e,"emoji","readonly",(e,n)=>se(e,t,o=>{if(o)return n(o);se(e.index("skinUnicodes"),t,e=>n(e||null))}))}(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await fe(this._db,"keyvalue","skinTone")||0}async setPreferredSkinTone(e){return K(e),await this.ready(),t=this._db,n="skinTone",o=e,ne(t,"keyvalue","readwrite",e=>e.put(o,n));var t,n,o}async incrementFavoriteEmojiCount(e){return V(e),await this.ready(),t=this._db,n=e,ne(t,"favorites","readwrite",e=>{se(e,n,t=>e.put((t||0)+1,n))});var t,n}async getTopFavoriteEmoji(e){return K(e),await this.ready(),(await function(e,t,n){return 0===n?[]:ne(e,["favorites","emoji"],"readonly",([e,o],r)=>{const i=[];e.index("count").openCursor(void 0,"prev").onsuccess=e=>{const a=e.target.result;if(!a)return r(i);function s(e){if(i.push(e),i.length===n)return r(i);a.continue()}const c=a.primaryKey,l=t.byName(c);if(l)return s(l);se(o,c,e=>{if(e)return s(e);a.continue()})}})}(this._db,this._custom,e)).map(me)}set customEmoji(e){this._custom=he(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(e){}if(this._db)return!0}_clear(){this._dbName,this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown()&&await oe(this._dbName)}async delete(){var e;await this._shutdown()&&await(e=this._dbName,new Promise((t,n)=>{oe(e),ee(t,n,indexedDB.deleteDatabase(e))}))}},xe={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji. Try refreshing.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const $e=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map(([e,t,n])=>({id:e,emoji:t,name:n})),Ee=$e.slice(1),Se=$e[0],Te="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function Le(e){return e.unicode.includes("‍")}const _e={"😃":.6,"😐️":.7,"😀":1,"👁️‍🗨️":2,"🤣":3,"👱‍♀️":4,"🤩":5,"🥰":11,"🥻":12,"🧑‍🦰":12.1,"🥲":13},Ce="🖐️",ze=["😊","😒","♥️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],Ae='"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Twemoji Mozilla","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',Ue=(e,t)=>{try{const n=document.createElement("canvas");n.width=n.height=1;const o=n.getContext("2d");return o.textBaseline="top",o.font="100px "+Ae,o.fillStyle=t,o.scale(.01,.01),o.fillText(e,0,0),o.getImageData(0,0,1,1).data}catch(e){}};function Me(e){const t=Ue(e,"#000"),n=Ue(e,"#fff");return t&&n&&((e,t)=>{const n=[...e].join(",");return n===[...t].join(",")&&"0,0,0,0"!==n})(t,n)}const Re=new Promise(e=>Te(()=>e(function(){let e;for(const[t,n]of Object.entries(_e)){if(!Me(t))break;e=n}return e}()))),Be=new Map;function Oe(e){e.preventDefault(),e.stopPropagation()}function De(e,t,n){return(t+=e?-1:1)<0?t=n.length-1:t>=n.length&&(t=0),t}function Ne(e,t){const n=new Set,o=[];for(const r of e){const e=t(r);n.has(e)||(n.add(e),o.push(r))}return o}const Ie=requestAnimationFrame,Pe="function"==typeof ResizeObserver;function Fe(e,t){let n;return Pe?(n=new ResizeObserver(e=>t(e[0].contentRect.width)),n.observe(e)):Ie(()=>t(e.getBoundingClientRect().width)),{destroy(){n&&n.disconnect()}}}function qe(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}let He;const{Map:Ve}=D;function Ke(e,t,n){const o=e.slice();return o[64]=t[n],o[66]=n,o}function Ye(e,t,n){const o=e.slice();return o[64]=t[n],o[66]=n,o}function Ge(e,t,n){const o=e.slice();return o[67]=t[n],o[66]=n,o}function Je(e,t,n){const o=e.slice();return o[70]=t[n],o}function We(e,t,n){const o=e.slice();return o[73]=t[n],o[66]=n,o}function Qe(e,t){let n,o,r,i,a,s,c,l=t[73]+"";return{key:e,first:null,c(){n=p("div"),o=h(l),g(n,"id",r="skintone-"+t[66]),g(n,"class",i="emoji skintone-option cursor-pointer hide-focus "+(t[66]===t[15]?"active":"")),g(n,"aria-selected",a=t[66]===t[15]),g(n,"role","option"),g(n,"title",s=t[0].skinTones[t[66]]),g(n,"tabindex","-1"),g(n,"aria-label",c=t[0].skinTones[t[66]]),this.first=n},m(e,t){d(e,n,t),u(n,o)},p(e,t){524288&t[0]&&l!==(l=e[73]+"")&&b(o,l),524288&t[0]&&r!==(r="skintone-"+e[66])&&g(n,"id",r),557056&t[0]&&i!==(i="emoji skintone-option cursor-pointer hide-focus "+(e[66]===e[15]?"active":""))&&g(n,"class",i),557056&t[0]&&a!==(a=e[66]===e[15])&&g(n,"aria-selected",a),524289&t[0]&&s!==(s=e[0].skinTones[e[66]])&&g(n,"title",s),524289&t[0]&&c!==(c=e[0].skinTones[e[66]])&&g(n,"aria-label",c)},d(e){e&&f(n)}}}function Xe(e,t){let n,o,r,i,a,s,c,l,y=t[70].emoji+"";function v(...e){return t[60](t[70],...e)}return{key:e,first:null,c(){n=p("button"),o=p("div"),r=h(y),g(o,"class","emoji"),g(n,"role","tab"),g(n,"class","nav-button"),g(n,"aria-controls",i="tab-"+t[70].id),g(n,"aria-label",a=t[0].categories[t[70].name]),g(n,"aria-selected",s=!t[7]&&t[23].id===t[70].id),g(n,"title",c=t[0].categories[t[70].name]),this.first=n},m(e,t,i){d(e,n,t),u(n,o),u(o,r),i&&l(),l=m(n,"click",v)},p(e,o){t=e,4194304&o[0]&&y!==(y=t[70].emoji+"")&&b(r,y),4194304&o[0]&&i!==(i="tab-"+t[70].id)&&g(n,"aria-controls",i),4194305&o[0]&&a!==(a=t[0].categories[t[70].name])&&g(n,"aria-label",a),12583040&o[0]&&s!==(s=!t[7]&&t[23].id===t[70].id)&&g(n,"aria-selected",s),4194305&o[0]&&c!==(c=t[0].categories[t[70].name])&&g(n,"title",c)},d(e){e&&f(n),l()}}}function Ze(e){let t;return{c(){t=p("div"),g(t,"class","custom-emoji"),v(t,"background-image","url("+e[64].url+")")},m(e,n){d(e,t,n)},p(e,n){4&n[0]&&v(t,"background-image","url("+e[64].url+")")},d(e){e&&f(t)}}}function et(e){let t,n=st(e[64],e[14])+"";return{c(){t=h(n)},m(e,n){d(e,t,n)},p(e,o){16388&o[0]&&n!==(n=st(e[64],e[14])+"")&&b(t,n)},d(e){e&&f(t)}}}function tt(e,t){let n,o,r,i,a,s,c;function l(e,t){return e[64].unicode?et:Ze}let u=l(t),h=u(t);return{key:e,first:null,c(){n=p("button"),h.c(),g(n,"role",o=t[7]?"option":"menuitem"),g(n,"aria-selected",r=t[7]?t[66]==t[8]:""),g(n,"aria-label",i=t[26](t[64],t[14])),g(n,"title",a=t[64].title),g(n,"class",s="emoji "+(t[7]&&t[66]===t[8]?"active":"")),g(n,"id",c="emo-"+t[64].id),this.first=n},m(e,t){d(e,n,t),h.m(n,null)},p(e,t){u===(u=l(e))&&h?h.p(e,t):(h.d(1),h=u(e),h&&(h.c(),h.m(n,null))),128&t[0]&&o!==(o=e[7]?"option":"menuitem")&&g(n,"role",o),388&t[0]&&r!==(r=e[7]?e[66]==e[8]:"")&&g(n,"aria-selected",r),16388&t[0]&&i!==(i=e[26](e[64],e[14]))&&g(n,"aria-label",i),4&t[0]&&a!==(a=e[64].title)&&g(n,"title",a),388&t[0]&&s!==(s="emoji "+(e[7]&&e[66]===e[8]?"active":""))&&g(n,"class",s),4&t[0]&&c!==(c="emo-"+e[64].id)&&g(n,"id",c)},d(e){e&&f(n),h.d()}}}function nt(e,t){let n,o,r,i,a,s,c,m,y,v,w=(t[7]?t[0].searchResultsLabel:t[67].category?t[67].category:t[2].length>1?t[0].categories.custom:t[0].categories[t[23].name])+"",k=[],j=new Ve,x=t[67].emojis;const $=e=>e[64].id;for(let e=0;e<x.length;e+=1){let n=Ye(t,x,e),o=$(n);j.set(o,k[e]=tt(o,n))}return{key:e,first:null,c(){n=p("div"),o=h(w),a=p("div");for(let e=0;e<k.length;e+=1)k[e].c();g(n,"id",r="menu-label-"+t[66]),g(n,"class",i="category "+(t[2].length>1?"":"gone")),g(n,"aria-hidden","true"),g(a,"class","emoji-menu"),g(a,"role",s=t[7]?"listbox":"menu"),g(a,"aria-labelledby",c="menu-label-"+t[66]),g(a,"id",m=t[7]?"search-results":""),this.first=n},m(e,r,i){d(e,n,r),u(n,o),d(e,a,r);for(let e=0;e<k.length;e+=1)k[e].m(a,null);i&&v(),v=l(y=t[27].call(null,a))},p(e,t){if(8388741&t[0]&&w!==(w=(e[7]?e[0].searchResultsLabel:e[67].category?e[67].category:e[2].length>1?e[0].categories.custom:e[0].categories[e[23].name])+"")&&b(o,w),4&t[0]&&r!==(r="menu-label-"+e[66])&&g(n,"id",r),4&t[0]&&i!==(i="category "+(e[2].length>1?"":"gone"))&&g(n,"class",i),67125636&t[0]){const n=e[67].emojis;k=I(k,t,$,1,e,n,j,a,N,tt,null,Ye)}128&t[0]&&s!==(s=e[7]?"listbox":"menu")&&g(a,"role",s),4&t[0]&&c!==(c="menu-label-"+e[66])&&g(a,"aria-labelledby",c),128&t[0]&&m!==(m=e[7]?"search-results":"")&&g(a,"id",m)},d(e){e&&f(n),e&&f(a);for(let e=0;e<k.length;e+=1)k[e].d();v()}}}function ot(e){let t,n;return{c(){t=p("img"),g(t,"class","custom-emoji"),t.src!==(n=e[64].url)&&g(t,"src",n),g(t,"loading","lazy"),g(t,"alt","")},m(e,n){d(e,t,n)},p(e,o){1048576&o[0]&&t.src!==(n=e[64].url)&&g(t,"src",n)},d(e){e&&f(t)}}}function rt(e){let t,n=st(e[64],e[14])+"";return{c(){t=h(n)},m(e,n){d(e,t,n)},p(e,o){1064960&o[0]&&n!==(n=st(e[64],e[14])+"")&&b(t,n)},d(e){e&&f(t)}}}function it(e,t){let n,o,r,i;function a(e,t){return e[64].unicode?rt:ot}let s=a(t),c=s(t);return{key:e,first:null,c(){n=p("button"),c.c(),g(n,"role","menuitem"),g(n,"aria-label",o=t[26](t[64],t[14])),g(n,"title",r=t[64].title),g(n,"class","emoji"),g(n,"id",i="fav-"+t[64].id),this.first=n},m(e,t){d(e,n,t),c.m(n,null)},p(e,t){s===(s=a(e))&&c?c.p(e,t):(c.d(1),c=s(e),c&&(c.c(),c.m(n,null))),1064960&t[0]&&o!==(o=e[26](e[64],e[14]))&&g(n,"aria-label",o),1048576&t[0]&&r!==(r=e[64].title)&&g(n,"title",r),1048576&t[0]&&i!==(i="fav-"+e[64].id)&&g(n,"id",i)},d(e){e&&f(n),c.d()}}}function at(e){let t,n,r,i,s,c,w,k,j,x,$,E,S,T,L,_,C,z,A,U,M,R,B,O,D,P,F,q,H,V,K,Y,G,J,W,Q,X,Z,ee,te,ne,oe,re,ie,ae,se=e[0].searchLabel+"",ce=e[0].searchDescription+"",le=e[0].skinToneDescription+"",ue=[],de=new Ve,fe=[],pe=new Ve,he=[],me=new Ve,ge=[],be=new Ve,ye=e[19];const ve=e=>e[73];for(let t=0;t<ye.length;t+=1){let n=We(e,ye,t),o=ve(n);de.set(o,ue[t]=Qe(o,n))}let we=e[22];const ke=e=>e[70].id;for(let t=0;t<we.length;t+=1){let n=Je(e,we,t),o=ke(n);pe.set(o,fe[t]=Xe(o,n))}let je=e[2];const xe=e=>e[67].category;for(let t=0;t<je.length;t+=1){let n=Ge(e,je,t),o=xe(n);me.set(o,he[t]=nt(o,n))}let $e=e[20];const Ee=e=>e[64].id;for(let t=0;t<$e.length;t+=1){let n=Ke(e,$e,t),o=Ee(n);be.set(o,ge[t]=it(o,n))}return{c(){t=p("section"),n=p("div"),r=p("div"),i=p("div"),s=p("input"),j=p("label"),x=h(se),$=p("span"),E=h(ce),S=p("div"),T=p("button"),L=h(e[16]),z=p("span"),A=h(le),U=p("div");for(let e=0;e<ue.length;e+=1)ue[e].c();P=p("div");for(let e=0;e<fe.length;e+=1)fe[e].c();q=p("div"),H=p("div"),K=p("div"),Y=h(e[9]),J=p("div");for(let e=0;e<he.length;e+=1)he[e].c();ee=p("div");for(let e=0;e<ge.length;e+=1)ge[e].c();oe=p("div"),re=p("button"),re.textContent="😀",this.c=o,g(n,"class","pad-top"),g(s,"id","search"),g(s,"class","search"),g(s,"type","search"),g(s,"role","combobox"),g(s,"enterkeyhint","search"),g(s,"placeholder",c=e[0].searchLabel),g(s,"autocapitalize","none"),g(s,"autocomplete","off"),g(s,"spellcheck","true"),g(s,"aria-expanded",w=!(!e[7]||!e[1].length)),g(s,"aria-controls","search-results"),g(s,"aria-owns","search-results"),g(s,"aria-describedby","search-description"),g(s,"aria-autocomplete","list"),g(s,"aria-activedescendant",k=e[25]?"emo-"+e[25]:""),g(j,"class","sr-only"),g(j,"for","search"),g($,"id","search-description"),g($,"class","sr-only"),g(i,"class","search-wrapper"),g(T,"id","skintone-button"),g(T,"class",_="emoji "+(e[11]?"hide-focus":"")),g(T,"aria-label",e[18]),g(T,"title",e[18]),g(T,"aria-describedby","skintone-description"),g(T,"aria-haspopup","listbox"),g(T,"aria-expanded",e[11]),g(T,"aria-controls","skintone-list"),g(S,"class",C="skintone-button-wrapper "+(e[12]?"expanded":"")),g(z,"id","skintone-description"),g(z,"class","sr-only"),g(U,"id","skintone-list"),g(U,"class",M="skintone-list "+(e[11]?"":"hidden no-animate")),g(U,"style",R=e[11]?"transform: translateY(0);":"transform: translateY(calc(-1 * var(--num-skintones) * var(--total-emoji-size)))"),g(U,"role","listbox"),g(U,"aria-label",B=e[0].skinTonesLabel),g(U,"aria-activedescendant",O="skintone-"+e[15]),g(U,"aria-hidden",D=!e[11]),g(r,"class","search-row"),g(P,"class","nav"),g(P,"role","tablist"),v(P,"grid-template-columns","repeat("+e[22].length+", 1fr)"),g(P,"aria-label",F=e[0].categoriesLabel),g(H,"class","indicator"),g(H,"style",e[10]),g(q,"class","indicator-wrapper"),g(q,"aria-hidden","true"),g(K,"class",G="message "+(e[9]?"":"gone")),g(K,"role","alert"),g(K,"aria-live","polite"),g(J,"class",W="tabpanel "+(!e[24]||e[9]?"gone":"")),g(J,"role",Q=e[7]?"region":"tabpanel"),g(J,"aria-label",X=e[7]?e[0].searchResultsLabel:e[0].categories[e[23].name]),g(J,"id",Z=e[7]?"":"tab-"+e[23].id),g(J,"tabindex","0"),g(ee,"class",te="favorites emoji-menu "+(e[9]?"gone":"")),g(ee,"role","menu"),g(ee,"aria-label",ne=e[0].favoritesLabel),v(ee,"padding-right",e[21]+"px"),g(re,"tabindex","-1"),g(re,"class","emoji baseline-emoji"),g(oe,"aria-hidden","true"),g(oe,"class","hidden abs-pos"),g(t,"class","picker"),g(t,"aria-label",ie=e[0].regionLabel),g(t,"style",e[17])},m(o,c,f){d(o,t,c),u(t,n),u(t,r),u(r,i),u(i,s),y(s,e[3]),u(i,j),u(j,x),u(i,$),u($,E),u(r,S),u(S,T),u(T,L),u(r,z),u(z,A),u(r,U);for(let e=0;e<ue.length;e+=1)ue[e].m(U,null);e[59](U),u(t,P);for(let e=0;e<fe.length;e+=1)fe[e].m(P,null);u(t,q),u(q,H),u(t,K),u(K,Y),u(t,J);for(let e=0;e<he.length;e+=1)he[e].m(J,null);e[61](J),u(t,ee);for(let e=0;e<ge.length;e+=1)ge[e].m(ee,null);u(t,oe),u(oe,re),e[62](re),e[63](t),f&&a(ae),ae=[m(s,"input",e[58]),m(s,"keydown",e[29]),m(T,"click",e[34]),m(U,"focusout",e[37]),m(U,"click",e[33]),m(U,"keydown",e[35]),m(U,"keyup",e[36]),m(P,"keydown",e[31]),l(V=e[28].call(null,H)),m(J,"click",e[32]),m(ee,"click",e[32])]},p(e,n){if(1&n[0]&&c!==(c=e[0].searchLabel)&&g(s,"placeholder",c),130&n[0]&&w!==(w=!(!e[7]||!e[1].length))&&g(s,"aria-expanded",w),33554432&n[0]&&k!==(k=e[25]?"emo-"+e[25]:"")&&g(s,"aria-activedescendant",k),8&n[0]&&y(s,e[3]),1&n[0]&&se!==(se=e[0].searchLabel+"")&&b(x,se),1&n[0]&&ce!==(ce=e[0].searchDescription+"")&&b(E,ce),65536&n[0]&&b(L,e[16]),2048&n[0]&&_!==(_="emoji "+(e[11]?"hide-focus":""))&&g(T,"class",_),262144&n[0]&&g(T,"aria-label",e[18]),262144&n[0]&&g(T,"title",e[18]),2048&n[0]&&g(T,"aria-expanded",e[11]),4096&n[0]&&C!==(C="skintone-button-wrapper "+(e[12]?"expanded":""))&&g(S,"class",C),1&n[0]&&le!==(le=e[0].skinToneDescription+"")&&b(A,le),557057&n[0]){const t=e[19];ue=I(ue,n,ve,1,e,t,de,U,N,Qe,null,We)}if(2048&n[0]&&M!==(M="skintone-list "+(e[11]?"":"hidden no-animate"))&&g(U,"class",M),2048&n[0]&&R!==(R=e[11]?"transform: translateY(0);":"transform: translateY(calc(-1 * var(--num-skintones) * var(--total-emoji-size)))")&&g(U,"style",R),1&n[0]&&B!==(B=e[0].skinTonesLabel)&&g(U,"aria-label",B),32768&n[0]&&O!==(O="skintone-"+e[15])&&g(U,"aria-activedescendant",O),2048&n[0]&&D!==(D=!e[11])&&g(U,"aria-hidden",D),1086324865&n[0]){const t=e[22];fe=I(fe,n,ke,1,e,t,pe,P,N,Xe,null,Je)}if(4194304&n[0]&&v(P,"grid-template-columns","repeat("+e[22].length+", 1fr)"),1&n[0]&&F!==(F=e[0].categoriesLabel)&&g(P,"aria-label",F),1024&n[0]&&g(H,"style",e[10]),512&n[0]&&b(Y,e[9]),512&n[0]&&G!==(G="message "+(e[9]?"":"gone"))&&g(K,"class",G),75514245&n[0]){const t=e[2];he=I(he,n,xe,1,e,t,me,J,N,nt,null,Ge)}if(16777728&n[0]&&W!==(W="tabpanel "+(!e[24]||e[9]?"gone":""))&&g(J,"class",W),128&n[0]&&Q!==(Q=e[7]?"region":"tabpanel")&&g(J,"role",Q),8388737&n[0]&&X!==(X=e[7]?e[0].searchResultsLabel:e[0].categories[e[23].name])&&g(J,"aria-label",X),8388736&n[0]&&Z!==(Z=e[7]?"":"tab-"+e[23].id)&&g(J,"id",Z),68173824&n[0]){const t=e[20];ge=I(ge,n,Ee,1,e,t,be,ee,N,it,null,Ke)}512&n[0]&&te!==(te="favorites emoji-menu "+(e[9]?"gone":""))&&g(ee,"class",te),1&n[0]&&ne!==(ne=e[0].favoritesLabel)&&g(ee,"aria-label",ne),2097152&n[0]&&v(ee,"padding-right",e[21]+"px"),1&n[0]&&ie!==(ie=e[0].regionLabel)&&g(t,"aria-label",ie),131072&n[0]&&g(t,"style",e[17])},i:o,o:o,d(n){n&&f(t);for(let e=0;e<ue.length;e+=1)ue[e].d();e[59](null);for(let e=0;e<fe.length;e+=1)fe[e].d();for(let e=0;e<he.length;e+=1)he[e].d();e[61](null);for(let e=0;e<ge.length;e+=1)ge[e].d();e[62](null),e[63](null),a(ae)}}}function st(e,t){return t&&e.skins&&e.skins[t]||e.unicode}function ct(e,t,n){let o,r,i,a,s,c,l,u,d,f,{locale:p=null}=t,{dataSource:h=null}=t,{skinToneEmoji:m=Ce}=t,{i18n:g=xe}=t,{database:b=null}=t,{customEmoji:y=null}=t,v=[],w=[],k="",x="",E=!1,S=-1,T=0,L="",_=!1,z=!1,A=0,U=0,M="",R=[],B=[],O=8,D=0,N=0,I=Ee,P=!1;function F(e){o.getRootNode().getElementById(e).focus()}function q(e,t){o.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}var H;function V(e){const t=o.getRootNode();!function(e,t,n){for(const o of e){const e=qe(n(o));void 0===He&&(He=qe(t));const r=e.toFixed(1)===He.toFixed(1);Be.set(o.unicode,r),r||o.unicode}}(e,r,e=>t.getElementById("emo-"+e.id)),n(1,v=v)}function K(e){return!e.unicode||!Le(e)||Be.get(e.unicode)}async function Y(e){const t=await Re;return e.filter(({version:e})=>!e||e<=t)}async function G(e){return function(e,t){const n=e=>{const n={};for(const o of e)"number"==typeof o.tone&&o.version<=t&&(n[o.tone]=o.unicode);return n};return e.map(({unicode:e,skins:t,shortcodes:o,url:r,name:i,category:a})=>({unicode:e,name:i,shortcodes:o,url:r,category:a,id:e||i,skins:t&&n(t),title:o.join(", ")}))}(e,await Re)}async function J(e){if(void 0===e)return[];const t=-1===e?y:await b.getEmojiByGroup(e);return G(await Y(t))}async function W(e){return G(await Y(await b.getEmojiBySearchQuery(e)))}function Q(e){n(3,k=""),n(44,x=""),n(8,S=-1),n(48,N=I.findIndex(t=>t.id===e.id))}async function X(e){const t=await b.getEmojiByUnicodeOrName(e),o=[...v,...B].find(t=>t.id===e),r=o.unicode&&st(o,A);await b.incrementFavoriteEmojiCount(e),n(46,u=u),q("emoji-click",{emoji:t,skinTone:A,...r&&{unicode:r},...o.name&&{name:o.name}})}async function Z(e){const{target:t}=e;if(!t.classList.contains("skintone-option"))return;Oe(e);const o=parseInt(t.id.slice(9),10);n(14,A=o),n(11,_=!1),F("skintone-button"),q("skin-tone-change",{skinTone:o}),b.setPreferredSkinTone(o)}Re.then(e=>{e||n(9,a=g.emojiUnsupportedMessage)}),H=async()=>{await C(),n(38,p=p||"en"),n(39,h=h||"https://cdn.jsdelivr.net/npm/emojibase-data@5/en/data.json")},j().$$.on_mount.push(H),function(e){j().$$.on_destroy.push(e)}(async()=>{b&&await b.close()});return e.$set=e=>{"locale"in e&&n(38,p=e.locale),"dataSource"in e&&n(39,h=e.dataSource),"skinToneEmoji"in e&&n(41,m=e.skinToneEmoji),"i18n"in e&&n(0,g=e.i18n),"database"in e&&n(40,b=e.database),"customEmoji"in e&&n(42,y=e.customEmoji)},e.$$.update=()=>{if(896&e.$$.dirty[1]&&p&&h&&(!b||b.locale!==p&&b.dataSource!==h)&&n(40,b=new je({dataSource:h,locale:p})),2560&e.$$.dirty[1]&&y&&b&&n(40,b.customEmoji=y,b),513&e.$$.dirty[0]|512&e.$$.dirty[1]){b&&async function(){const e=setTimeout(()=>{n(9,a=g.loadingMessage)},1e3);try{await b.ready(),n(24,P=!0)}catch(e){console.error(e),n(9,a=g.networkErrorMessage)}finally{clearTimeout(e),a===g.loadingMessage&&n(9,a="")}}()}if(4194304&e.$$.dirty[0]|2048&e.$$.dirty[1]&&(y&&y.length?n(22,I=[Se,...Ee]):I!==Ee&&n(22,I=Ee)),8&e.$$.dirty[0]&&Te(()=>{n(44,x=(k||"").trim()),n(8,S=-1)}),4194304&e.$$.dirty[0]|131072&e.$$.dirty[1]&&n(23,d=I[N]),8388608&e.$$.dirty[0]|8704&e.$$.dirty[1]){!async function(){b?x.length>=2?(n(1,v=await W(x)),n(7,E=!0)):d&&(n(1,v=await J(d.id)),n(7,E=!1)):(n(1,v=[]),n(7,E=!1))}()}if(4194432&e.$$.dirty[0]&&n(17,l=`\n  --font-family: ${Ae};\n  --num-groups: ${I.length}; \n  --indicator-opacity: ${E?0:1}; \n  --num-skintones: 6;`),512&e.$$.dirty[1]){!async function(){b&&n(14,A=await b.getPreferredSkinTone())}()}if(1024&e.$$.dirty[1]&&n(19,R=Array(6).fill().map((e,t)=>function(e,t){if(0===t)return e;const n=e.indexOf("‍");return-1!==n?e.substring(0,n)+String.fromCodePoint(127995+t-1)+e.substring(n):(e.endsWith("️")&&(e=e.substring(0,e.length-1)),e+"\ud83c"+String.fromCodePoint(57339+t-1))}(m,t))),540672&e.$$.dirty[0]&&n(16,c=R[A]),16385&e.$$.dirty[0]&&n(18,M=g.skinToneLabel.replace("{skinTone}",g.skinTones[A])),512&e.$$.dirty[1]){b&&async function(){n(46,u=(await Promise.all(ze.map(e=>b.getEmojiByUnicodeOrName(e)))).filter(Boolean))}()}if(98816&e.$$.dirty[1]){b&&u&&async function(){const e=await b.getTopFavoriteEmoji(O),t=await G(Ne([...e,...u],e=>e.unicode||e.name).slice(0,O));n(20,B=t)}()}if(147456&e.$$.dirty[1]&&n(10,L=Pe?`transform: translateX(${N*T}px);`:`transform: translateX(${100*N}%);`),2&e.$$.dirty[0]){const e=v.filter(e=>e.unicode).filter(e=>Le(e)&&!Be.has(e.unicode));e.length?Ie(()=>V(e)):(n(1,v=v.filter(K)),Ie(()=>{n(6,i.scrollTop=0,i)}))}if(e.$$.dirty[0],e.$$.dirty[1],130&e.$$.dirty[0]){n(2,w=function(){if(E)return[{category:"",emojis:v}];const e=new Map;for(const t of v){const n=t.category||"";let o=e.get(n);o||(o=[],e.set(n,o)),o.push(t)}return[...e.entries()].map(([e,t])=>({category:e,emojis:t})).sort((e,t)=>e.category<t.category?-1:1)}())}258&e.$$.dirty[0]&&n(25,f=-1!==S&&v[S].id),10240&e.$$.dirty[0]&&(_?s.addEventListener("transitionend",()=>{n(12,z=!0)},{once:!0}):n(12,z=!1))},[g,v,w,k,o,r,i,E,S,a,L,_,z,s,A,U,c,l,M,R,B,D,I,d,P,f,function(e,t){return(n=[e.name||st(e,t),...e.shortcodes],Ne(n,e=>e)).join(", ");var n},function(e){return Fe(e,t=>{const r=parseInt(getComputedStyle(o).getPropertyValue("--num-columns"),10),i=e.parentElement.getBoundingClientRect().width-t;n(47,O=r),n(21,D=i)})},function(e){return Fe(e,e=>{n(45,T=e)})},function(e){if(!E||!v.length)return;const t=t=>{Oe(e),n(8,S=De(t,S,v))};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==S)return Oe(e),X(v[S].id);v.length&&n(8,S=0)}},Q,function(e){const{target:t,key:n}=e,o=t=>{t&&(Oe(e),t.focus())};switch(n){case"ArrowLeft":return o(t.previousSibling);case"ArrowRight":return o(t.nextSibling)}},async function(e){const{target:t}=e;if(!t.classList.contains("emoji"))return;Oe(e),X(t.id.substring(4))},Z,async function(e){n(11,_=!_),n(15,U=A),_&&(Oe(e),Ie(()=>F("skintone-"+U)))},function(e){if(!_)return;const t=async t=>{Oe(e),n(15,U=De(t,U,R)),await C(),F("skintone-"+U)};switch(e.key){case"ArrowUp":return t(!0);case"ArrowDown":return t(!1);case"Enter":return Z(e)}},function(e){if(_)switch(e.key){case" ":return Z(e)}},async function(e){const{relatedTarget:t}=e;t&&t.classList.contains("skintone-option")||n(11,_=!1)},p,h,b,m,y,!0,x,T,u,O,N,F,q,V,K,Y,G,J,W,X,function(){k=this.value,n(3,k)},function(e){$[e?"unshift":"push"](()=>{n(13,s=e)})},e=>Q(e),function(e){$[e?"unshift":"push"](()=>{n(6,i=e)})},function(e){$[e?"unshift":"push"](()=>{n(5,r=e)})},function(e){$[e?"unshift":"push"](()=>{n(4,o=e)})}]}class lt extends P{constructor(e){super(),this.shadowRoot.innerHTML="<style>:host{--emoji-padding:0.5rem;--emoji-size:1.375rem;--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}@media(prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}}button{margin:0;padding:0;border:none;background:none;box-shadow:none;cursor:pointer;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:none}:focus:not(:focus-visible){outline:none}.hide-focus{outline:none}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + 2*var(--emoji-padding))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.cursor-pointer{cursor:pointer}.skintone-button-wrapper{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;right:0;top:0;z-index:2;overflow:visible;background:var(--background);border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media(prefers-reduced-motion:reduce){.skintone-list{transition-duration:1ms}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--font-family)}@media(hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{height:var(--total-emoji-size);width:var(--total-emoji-size);padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:50%;background-size:var(--emoji-size) var(--emoji-size)}.nav{display:grid;justify-content:space-between;contain:content}.nav,.nav-button{align-items:center}.nav-button{display:flex;justify-content:center}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media(prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top{width:100%;height:var(--emoji-padding);z-index:3;background:var(--background)}.search-row{display:flex;align-items:center;position:relative;padding-left:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);background:var(--background);color:var(--input-font-color);width:100%;font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}</style>",q(this,{target:this.shadowRoot},ct,at,c,{locale:38,dataSource:39,skinToneEmoji:41,i18n:0,database:40,customEmoji:42},[-1,-1,-1]),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),M()))}static get observedAttributes(){return["locale","dataSource","skinToneEmoji","i18n","database","customEmoji"]}get locale(){return this.$$.ctx[38]}set locale(e){this.$set({locale:e}),M()}get dataSource(){return this.$$.ctx[39]}set dataSource(e){this.$set({dataSource:e}),M()}get skinToneEmoji(){return this.$$.ctx[41]}set skinToneEmoji(e){this.$set({skinToneEmoji:e}),M()}get i18n(){return this.$$.ctx[0]}set i18n(e){this.$set({i18n:e}),M()}get database(){return this.$$.ctx[40]}set database(e){this.$set({database:e}),M()}get customEmoji(){return this.$$.ctx[42]}set customEmoji(e){this.$set({customEmoji:e}),M()}}class ut extends lt{constructor(e){super({props:e})}disconnectedCallback(){this.$destroy()}}customElements.define("emoji-picker",ut);var dt=ut;n(0);function ft(e){let t,n,r,i,a,s,c;return{c(){t=p("div"),n=p("div"),r=p("input"),i=h(" "),a=p("button"),a.textContent="Copy!",g(r,"id","emojis"),r.value="",g(r,"class","svelte-1puvk01"),g(a,"id","copyText"),g(a,"class","svelte-1puvk01"),g(n,"class","copy svelte-1puvk01"),g(t,"id","neutralinoapp")},m(e,o){d(e,t,o),u(t,n),u(n,r),u(n,i),u(n,a),s||(c=m(a,"click",pt),s=!0)},p:o,i:o,o:o,d(e){e&&f(t),s=!1,c()}}}function pt(){var e=document.getElementById("emojis");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}function ht(e){const t=new dt;t.dataSource="./assets/emojilist.js";let n=[],o="",r=-1;return document.body.appendChild(t),t.addEventListener("emoji-click",e=>{n=n.concat(e.detail.emoji.unicode),r=n.length-1,o=e.detail.emoji.unicode,document.querySelector("input").value+=o}),[]}var mt=class extends H{constructor(e){super(),q(this,e,ht,ft,c,{})}};Neutralino.init({load:function(){var e=new mt({target:document.body});window.app=e},pingSuccessCallback:function(){},pingFailCallback:function(){app.exit()}})}]);
//# sourceMappingURL=main.js.map